<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Crank.js | Working with TypeScript</title><link href="/static/index-UEEVTAOK.css" rel="stylesheet" type="text/css"><link rel="shortcut icon" href="/static/favicon.ico"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-20910936-4"></script><script>
								window.dataLayer = window.dataLayer || [];
								function gtag(){dataLayer.push(arguments);}
								gtag('js', new Date());

								gtag('config', 'UA-20910936-4');
							</script></head><body><nav id="navbar" class="navbar"><div class="navbar-group"><div class="navbar-item"><a class="navbar-title-link false" href="/"><img class="navbar-logo" src="/static/logo.svg" alt=""><span>Crank.js</span></a></div><div class="navbar-item"><a class="current" href="/guides/getting-started">Docs</a></div><div class="navbar-item"><a href="/blog/">Blog</a></div></div><div class="navbar-group"><div class="navbar-item"><a href="https://github.com/bikeshaving/crank">GitHub</a></div><div class="navbar-item"><a href="http://npm.im/@bikeshaving/crank">NPM</a></div></div></nav><div class="non-footer"><div id="sidebar" class="sidebar"><h3>Guides</h3><div class="sidebar-item"><a href="/guides/getting-started" class="">Getting Started</a></div><div class="sidebar-item"><a href="/guides/elements" class="">JSX, Elements and Renderers</a></div><div class="sidebar-item"><a href="/guides/components" class="">Components</a></div><div class="sidebar-item"><a href="/guides/handling-events" class="">Handling Events</a></div><div class="sidebar-item"><a href="/guides/async-components" class="">Async Components</a></div><div class="sidebar-item"><a href="/guides/special-props-and-tags" class="">Special Props and Tags</a></div><div class="sidebar-item"><a href="/guides/lifecycles" class="">Lifecycles</a></div><div class="sidebar-item"><a href="/guides/reusable-logic" class="">Reusable Logic</a></div><div class="sidebar-item"><a href="/guides/working-with-typescript" class="current">Working with TypeScript</a></div><div class="sidebar-item"><a href="/guides/reference-for-react-developers" class="">Reference for React Developers</a></div><div class="sidebar-item"><a href="/guides/api-reference" class="">API Reference</a></div></div><main class="main"><div class="content"><h1>Working with TypeScript</h1><p>Crank is written in TypeScript, and provides some types out of box so you can type-check your components and elements.</p><h2>Typing this in Components</h2><p>Trying to reference <code class="inline">this</code> in a component without a <code class="inline">this</code> type annotation will throw a type error in TypeScript‘s strict mode (you’ll see a message like <code class="inline">&#039;this&#039; implicitly has type &#039;any&#039; because it does not have a type annotation</code>). Crank exports the <code class="inline">Context</code> class so you can annotate your components <code class="inline">this</code> as <code class="inline">Context</code>:</p><div class="codeblock" data-code="import {Context} from &quot;@bikeshaving/crank&quot;;
function *Timer (this: Context) {
  let seconds = 0;
  const interval = setInterval(() =&gt; {
    seconds++;
    this.refresh();
  }, 1000);
  try {
    while (true) {
      yield &lt;div&gt;Seconds: {seconds}&lt;/div&gt;;
    }
  } finally {
    clearInterval(interval);
  }
}" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Context<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@bikeshaving/crank&quot;</span><span class="token punctuation">;</span></code><br></div><div><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">Timer</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">this</span><span class="token operator">:</span> Context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">let</span> seconds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">const</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code><br></div><div><code>    seconds<span class="token operator">++</span><span class="token punctuation">;</span></code><br></div><div><code>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">try</span> <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>      <span class="token keyword">yield</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Seconds<span class="token operator">:</span> <span class="token punctuation">{</span>seconds<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code>    <span class="token punctuation">}</span></code><br></div><div><code>  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token punctuation">}</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div></pre></content-area></div></div><h2>Typing Component Return Values</h2><p>You’ll often want to add a return type to your components. Crank exports custom types to help you type the return types of components:</p><div class="codeblock" data-code="import {Element} from &quot;@bikeshaving/crank&quot;;
function SyncFn(): Element {
  return &lt;div&gt;Hello world&lt;/div&gt;;
}

function *SyncGen(): Generator&lt;Element&gt; {
  while (true) {
    yield &lt;div&gt;Hello world&lt;/div&gt;;
  }
}

async function AsyncFn(): Promise&lt;Element&gt; {
  return &lt;div&gt;Hello world&lt;/div&gt;;
}

async function *AsyncGen(): AsyncGenerator&lt;Element&gt; {
  while (true) {
    yield &lt;div&gt;Hello world&lt;/div&gt;;
  }
}" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Element<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@bikeshaving/crank&quot;</span><span class="token punctuation">;</span></code><br></div><div><code><span class="token keyword">function</span> <span class="token function">SyncFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Element <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">SyncGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Generator<span class="token operator">&lt;</span>Element<span class="token operator">&gt;</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token keyword">yield</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token punctuation">}</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">AsyncFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Element<span class="token operator">&gt;</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">AsyncGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> AsyncGenerator<span class="token operator">&lt;</span>Element<span class="token operator">&gt;</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token keyword">yield</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token punctuation">}</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div></pre></content-area></div></div><p><code class="inline">Element</code> is just the type returned by JSX expressions/<code class="inline">createElement</code>. As you can see, you still have to modify the return type of functions based on whether the function is async or a generator. You can also use the type <code class="inline">Child</code> which represents any valid value in an element tree.</p><div class="codeblock" data-code="function *SyncGen(): Generator&lt;Child&gt; {
  yield true;
  yield false;
  yield null;
  yield undefined;
  yield 0;
  yield 9001;
  yield &quot;Hello world&quot;;
  yield &lt;div&gt;Hello world&lt;/div&gt;;
}" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">SyncGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Generator<span class="token operator">&lt;</span>Child<span class="token operator">&gt;</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token keyword">null</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token number">0</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token number">9001</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">yield</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div></pre></content-area></div></div><p>Anything assignable to <code class="inline">Child</code> can be part of the element tree, and almost anything can be assigned to <code class="inline">Child</code>.</p><h2>Typing Props</h2><p>You can type the props object passed to components. This allows JSX elements which use your component as a tag to be type-checked.</p><div class="codeblock" data-code="function Greeting ({name}: {name: string}) {
  return (
    &lt;div&gt;Hello {name}&lt;/div&gt;
  );
}

const el = &lt;Greeting name=&quot;Brian&quot; /&gt;; // compiles
const el1 = &lt;Greeting name={1} /&gt;; // throws a type error" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">function</span> <span class="token function">Greeting</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> string<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">return</span> <span class="token punctuation">(</span></code><br></div><div><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code><br></div><div><code>  <span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code><span class="token keyword">const</span> el <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Greeting</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Brian<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span> <span class="token comment">// compiles</span></code><br></div><div><code><span class="token keyword">const</span> el1 <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Greeting</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span> <span class="token comment">// throws a type error</span></code><br></div></pre></content-area></div></div><p>The children prop can be typed using the <code class="inline">Children</code> type provided by Crank. The <code class="inline">Children</code> type is a broad type which can be <code class="inline">Child</code> or arbitrarily nested iterables of <code class="inline">Child</code>. TypeScript doesn’t really provide a way to prevent functions from being used as the <code class="inline">children</code> prop, but such patterns are strongly discouraged. You should typically treat <code class="inline">children</code> as an opaque value only to be interpolated into JSX because its value can be almost anything.</p><div class="codeblock" data-code="import {Children} from &quot;@bikeshaving/crank&quot;;
function Greeting ({name, children}: {name: string, children: Children}) {
  return (
    &lt;div&gt;
      Message for {name}: {children}
    &lt;/div&gt;
  );
}" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Children<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@bikeshaving/crank&quot;</span><span class="token punctuation">;</span></code><br></div><div><code><span class="token keyword">function</span> <span class="token function">Greeting</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">,</span> children<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> string<span class="token punctuation">,</span> children<span class="token operator">:</span> Children<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">return</span> <span class="token punctuation">(</span></code><br></div><div><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></code><br></div><div><code>      Message <span class="token keyword">for</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>children<span class="token punctuation">}</span></code><br></div><div><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code><br></div><div><code>  <span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div></pre></content-area></div></div><h2>Typing Event Listeners</h2><p>If you dispatch custom events, you may want parent event listeners to be typed with the event you bubbled automatically. To do so, you can use module augmentation to extend the <code class="inline">EventMap</code> interface from the global <code class="inline">Crank</code> module.</p><div class="codeblock" data-code="declare global {
  module Crank {
    interface EventMap {
      &quot;mybutton.click&quot;: CustomEvent&lt;{id: string}&gt;;
    }
  }
}


function MyButton (props) {
  this.addEventListener(&quot;click&quot;, () =&gt; {
    this.dispatchEvent(new CustomEvent(&quot;mybutton.click&quot;, {
      bubbles: true,
      detail: {id: props.id},
    }));
  });

  return (
    &lt;button {...props} /&gt;
  );
}" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">declare</span> global <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">module</span> Crank <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token keyword">interface</span> <span class="token class-name">EventMap</span> <span class="token punctuation">{</span></code><br></div><div><code>      <span class="token string">&quot;mybutton.click&quot;</span><span class="token operator">:</span> CustomEvent<span class="token operator">&lt;</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code><br></div><div><code>    <span class="token punctuation">}</span></code><br></div><div><code>  <span class="token punctuation">}</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code></code><br></div><div><code><span class="token keyword">function</span> <span class="token function">MyButton</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">&quot;mybutton.click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></code><br></div><div><code>      bubbles<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></code><br></div><div><code>      detail<span class="token operator">:</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> props<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">,</span></code><br></div><div><code>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code></code><br></div><div><code>  <span class="token keyword">return</span> <span class="token punctuation">(</span></code><br></div><div><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></code><br></div><div><code>  <span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div></pre></content-area></div></div><p>When importing the DOM or HTML renderers, the <code class="inline">EventMap</code> will be extended with <a href="https://github.com/microsoft/TypeScript/blob/master/lib/lib.dom.d.ts#L5682">the <code class="inline">GlobalEventHandlersMap</code> interface</a>.</p><h2>Typing Provisions</h2><p>By default, calls to the context’s <code class="inline">provide</code> and <code class="inline">consume</code> methods will be loosely typed. If you want stricter typings of these methods, you can use module augmentation to extend the <code class="inline">ProvisionMap</code> interface from the global <code class="inline">Crank</code> module.</p><div class="codeblock" data-code="declare global {
  module Crank {
    interface ProvisionMap {
      greeting: string;
    }
  }
}

function GreetingProvider(
  {greeting, children}: {greeting: string, children?: unknown},
) {
  this.provide(&quot;greeting&quot;, greeting);
  return children;
}

function Greeting({name}: {name: string}) {
  const greeting = this.consume(&quot;greeting&quot;);
  return &lt;p&gt;{greeting}, {name}&lt;/p&gt;;
}" data-lang="tsx"><div class="playground"><content-area><pre class="editable" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><div><code><span class="token keyword">declare</span> global <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">module</span> Crank <span class="token punctuation">{</span></code><br></div><div><code>    <span class="token keyword">interface</span> <span class="token class-name">ProvisionMap</span> <span class="token punctuation">{</span></code><br></div><div><code>      greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></code><br></div><div><code>    <span class="token punctuation">}</span></code><br></div><div><code>  <span class="token punctuation">}</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code><span class="token keyword">function</span> <span class="token function">GreetingProvider</span><span class="token punctuation">(</span></code><br></div><div><code>  <span class="token parameter"><span class="token punctuation">{</span>greeting<span class="token punctuation">,</span> children<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>greeting<span class="token operator">:</span> string<span class="token punctuation">,</span> children<span class="token operator">?</span><span class="token operator">:</span> unknown<span class="token punctuation">}</span><span class="token punctuation">,</span></span></code><br></div><div><code><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;greeting&quot;</span><span class="token punctuation">,</span> greeting<span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">return</span> children<span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div><div><code></code><br></div><div><code><span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> string<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code><br></div><div><code>  <span class="token keyword">const</span> greeting <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">consume</span><span class="token punctuation">(</span><span class="token string">&quot;greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><br></div><div><code>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>greeting<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></code><br></div><div><code><span class="token punctuation">}</span></code><br></div></pre></content-area></div></div></div></main></div><script src="/static/index-FZKVRLRI.js"></script></body></html>