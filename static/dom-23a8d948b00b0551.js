function dr(){throw new Error("setTimeout has not been defined")}function gr(){throw new Error("clearTimeout has not been defined")}var q=dr,J=gr;typeof globalThis.setTimeout=="function"&&(q=setTimeout);typeof globalThis.clearTimeout=="function"&&(J=clearTimeout);function wr(e){if(q===setTimeout)return setTimeout(e,0);if((q===dr||!q)&&setTimeout)return q=setTimeout,setTimeout(e,0);try{return q(e,0)}catch{try{return q.call(null,e,0)}catch{return q.call(this,e,0)}}}function at(e){if(J===clearTimeout)return clearTimeout(e);if((J===gr||!J)&&clearTimeout)return J=clearTimeout,clearTimeout(e);try{return J(e)}catch{try{return J.call(null,e)}catch{return J.call(this,e)}}}var V=[],we=!1,fe,_e=-1;function ut(){!we||!fe||(we=!1,fe.length?V=fe.concat(V):_e=-1,V.length&&yr())}function yr(){if(!we){var e=wr(ut);we=!0;for(var r=V.length;r;){for(fe=V,V=[];++_e<r;)fe&&fe[_e].run();_e=-1,r=V.length}fe=null,we=!1,at(e)}}function ct(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];V.push(new mr(e,r)),V.length===1&&!we&&wr(yr)}function mr(e,r){this.fun=e,this.array=r}mr.prototype.run=function(){this.fun.apply(null,this.array)};var ht="browser",pt="browser",dt=!0,gt={},wt=[],yt="",mt={},Et={},At={};function le(){}var bt=le,vt=le,Tt=le,Rt=le,kt=le,Pt=le,St=le;function It(e){throw new Error("process.binding is not supported")}function Ct(){return"/"}function _t(e){throw new Error("process.chdir is not supported")}function Ut(){return 0}var ge=globalThis.performance||{},Nt=ge.now||ge.mozNow||ge.msNow||ge.oNow||ge.webkitNow||function(){return new Date().getTime()};function Bt(e){var r=Nt.call(ge)*.001,t=Math.floor(r),n=Math.floor(r%1*1e9);return e&&(t=t-e[0],n=n-e[1],n<0&&(t--,n+=1e9)),[t,n]}var Mt=new Date;function Lt(){var e=new Date,r=e-Mt;return r/1e3}var Q={nextTick:ct,title:ht,browser:dt,env:gt,argv:wt,version:yt,versions:mt,on:bt,addListener:vt,once:Tt,off:Rt,removeListener:kt,removeAllListeners:Pt,emit:St,binding:It,cwd:Ct,chdir:_t,umask:Ut,hrtime:Bt,platform:pt,release:Et,config:At,uptime:Lt},pr={};Object.keys(pr).forEach(e=>{let r=e.split("."),t=Q;for(let n=0;n<r.length;n++){let i=r[n];n===r.length-1?t[i]=pr[e]:t=t[i]||(t[i]={})}});var j=[],D=[],Dt=typeof Uint8Array<"u"?Uint8Array:Array,Xe=!1;function vr(){Xe=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,t=e.length;r<t;++r)j[r]=e[r],D[e.charCodeAt(r)]=r;D[45]=62,D[95]=63}function xt(e){Xe||vr();var r,t,n,i,o,f,l=e.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[l-2]==="="?2:e[l-1]==="="?1:0,f=new Dt(l*3/4-o),n=o>0?l-4:l;var s=0;for(r=0,t=0;r<n;r+=4,t+=3)i=D[e.charCodeAt(r)]<<18|D[e.charCodeAt(r+1)]<<12|D[e.charCodeAt(r+2)]<<6|D[e.charCodeAt(r+3)],f[s++]=i>>16&255,f[s++]=i>>8&255,f[s++]=i&255;return o===2?(i=D[e.charCodeAt(r)]<<2|D[e.charCodeAt(r+1)]>>4,f[s++]=i&255):o===1&&(i=D[e.charCodeAt(r)]<<10|D[e.charCodeAt(r+1)]<<4|D[e.charCodeAt(r+2)]>>2,f[s++]=i>>8&255,f[s++]=i&255),f}function $t(e){return j[e>>18&63]+j[e>>12&63]+j[e>>6&63]+j[e&63]}function Yt(e,r,t){for(var n,i=[],o=r;o<t;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push($t(n));return i.join("")}function Er(e){Xe||vr();for(var r,t=e.length,n=t%3,i="",o=[],f=16383,l=0,s=t-n;l<s;l+=f)o.push(Yt(e,l,l+f>s?s:l+f));return n===1?(r=e[t-1],i+=j[r>>2],i+=j[r<<4&63],i+="=="):n===2&&(r=(e[t-2]<<8)+e[t-1],i+=j[r>>10],i+=j[r>>4&63],i+=j[r<<2&63],i+="="),o.push(i),o.join("")}u.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;function Ue(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function K(e,r){if(Ue()<r)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=u.prototype):(e===null&&(e=new u(r)),e.length=r),e}function u(e,r,t){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,r,t);if(typeof e=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ze(this,e)}return Tr(this,e,r,t)}u.poolSize=8192;u._augment=function(e){return e.__proto__=u.prototype,e};function Tr(e,r,t,n){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?Ft(e,r,t,n):typeof r=="string"?jt(e,r,t):Wt(e,r)}u.from=function(e,r,t){return Tr(null,e,r,t)};u.kMaxLength=Ue();u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]);function Rr(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Ot(e,r,t,n){return Rr(r),r<=0?K(e,r):t!==void 0?typeof n=="string"?K(e,r).fill(t,n):K(e,r).fill(t):K(e,r)}u.alloc=function(e,r,t){return Ot(null,e,r,t)};function Ze(e,r){if(Rr(r),e=K(e,r<0?0:qe(r)|0),!u.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}u.allocUnsafe=function(e){return Ze(null,e)};u.allocUnsafeSlow=function(e){return Ze(null,e)};function jt(e,r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!u.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=kr(r,t)|0;e=K(e,n);var i=e.write(r,t);return i!==n&&(e=e.slice(0,i)),e}function He(e,r){var t=r.length<0?0:qe(r.length)|0;e=K(e,t);for(var n=0;n<t;n+=1)e[n]=r[n]&255;return e}function Ft(e,r,t,n){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?r=new Uint8Array(r):n===void 0?r=new Uint8Array(r,t):r=new Uint8Array(r,t,n),u.TYPED_ARRAY_SUPPORT?(e=r,e.__proto__=u.prototype):e=He(e,r),e}function Wt(e,r){if(F(r)){var t=qe(r.length)|0;return e=K(e,t),e.length===0||r.copy(e,0,0,t),e}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||an(r.length)?K(e,0):He(e,r);if(r.type==="Buffer"&&Array.isArray(r.data))return He(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function qe(e){if(e>=Ue())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ue().toString(16)+" bytes");return e|0}u.isBuffer=un;function F(e){return!!(e!=null&&e._isBuffer)}u.compare=function(r,t){if(!F(r)||!F(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,i=t.length,o=0,f=Math.min(n,i);o<f;++o)if(r[o]!==t[o]){n=r[o],i=t[o];break}return n<i?-1:i<n?1:0};u.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};u.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return u.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var i=u.allocUnsafe(t),o=0;for(n=0;n<r.length;++n){var f=r[n];if(!F(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(i,o),o+=f.length}return i};function kr(e,r){if(F(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;if(t===0)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return Ne(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Nr(e).length;default:if(n)return Ne(e).length;r=(""+r).toLowerCase(),n=!0}}u.byteLength=kr;function zt(e,r,t){var n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return en(this,r,t);case"utf8":case"utf-8":return Ir(this,r,t);case"ascii":return Jt(this,r,t);case"latin1":case"binary":return Qt(this,r,t);case"base64":return Zt(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rn(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}u.prototype._isBuffer=!0;function se(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}u.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)se(this,t,t+1);return this};u.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)se(this,t,t+3),se(this,t+1,t+2);return this};u.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)se(this,t,t+7),se(this,t+1,t+6),se(this,t+2,t+5),se(this,t+3,t+4);return this};u.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?Ir(this,0,r):zt.apply(this,arguments)};u.prototype.equals=function(r){if(!F(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:u.compare(this,r)===0};u.prototype.compare=function(r,t,n,i,o){if(!F(r))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>r.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var f=o-i,l=n-t,s=Math.min(f,l),h=this.slice(i,o),p=r.slice(t,n),a=0;a<s;++a)if(h[a]!==p[a]){f=h[a],l=p[a];break}return f<l?-1:l<f?1:0};function Pr(e,r,t,n,i){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof r=="string"&&(r=u.from(r,n)),F(r))return r.length===0?-1:Ar(e,r,t,n,i);if(typeof r=="number")return r=r&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):Ar(e,[r],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Ar(e,r,t,n,i){var o=1,f=e.length,l=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;o=2,f/=2,l/=2,t/=2}function s(A,w){return o===1?A[w]:A.readUInt16BE(w*o)}var h;if(i){var p=-1;for(h=t;h<f;h++)if(s(e,h)===s(r,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===l)return p*o}else p!==-1&&(h-=h-p),p=-1}else for(t+l>f&&(t=f-l),h=t;h>=0;h--){for(var a=!0,c=0;c<l;c++)if(s(e,h+c)!==s(r,c)){a=!1;break}if(a)return h}return-1}u.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1};u.prototype.indexOf=function(r,t,n){return Pr(this,r,t,n,!0)};u.prototype.lastIndexOf=function(r,t,n){return Pr(this,r,t,n,!1)};function Gt(e,r,t,n){t=Number(t)||0;var i=e.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var f=0;f<n;++f){var l=parseInt(r.substr(f*2,2),16);if(isNaN(l))return f;e[t+f]=l}return f}function Vt(e,r,t,n){return Le(Ne(r,e.length-t),e,t,n)}function Sr(e,r,t,n){return Le(ln(r),e,t,n)}function Kt(e,r,t,n){return Sr(e,r,t,n)}function Ht(e,r,t,n){return Le(Nr(r),e,t,n)}function Xt(e,r,t,n){return Le(sn(r,e.length-t),e,t,n)}u.prototype.write=function(r,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var f=!1;;)switch(i){case"hex":return Gt(this,r,t,n);case"utf8":case"utf-8":return Vt(this,r,t,n);case"ascii":return Sr(this,r,t,n);case"latin1":case"binary":return Kt(this,r,t,n);case"base64":return Ht(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xt(this,r,t,n);default:if(f)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}};u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zt(e,r,t){return r===0&&t===e.length?Er(e):Er(e.slice(r,t))}function Ir(e,r,t){t=Math.min(e.length,t);for(var n=[],i=r;i<t;){var o=e[i],f=null,l=o>239?4:o>223?3:o>191?2:1;if(i+l<=t){var s,h,p,a;switch(l){case 1:o<128&&(f=o);break;case 2:s=e[i+1],(s&192)===128&&(a=(o&31)<<6|s&63,a>127&&(f=a));break;case 3:s=e[i+1],h=e[i+2],(s&192)===128&&(h&192)===128&&(a=(o&15)<<12|(s&63)<<6|h&63,a>2047&&(a<55296||a>57343)&&(f=a));break;case 4:s=e[i+1],h=e[i+2],p=e[i+3],(s&192)===128&&(h&192)===128&&(p&192)===128&&(a=(o&15)<<18|(s&63)<<12|(h&63)<<6|p&63,a>65535&&a<1114112&&(f=a))}}f===null?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|f&1023),n.push(f),i+=l}return qt(n)}var br=4096;function qt(e){var r=e.length;if(r<=br)return String.fromCharCode.apply(String,e);for(var t="",n=0;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=br));return t}function Jt(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]&127);return n}function Qt(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]);return n}function en(e,r,t){var n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=r;o<t;++o)i+=fn(e[o]);return i}function rn(e,r,t){for(var n=e.slice(r,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}u.prototype.slice=function(r,t){var n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);var i;if(u.TYPED_ARRAY_SUPPORT)i=this.subarray(r,t),i.__proto__=u.prototype;else{var o=t-r;i=new u(o,void 0);for(var f=0;f<o;++f)i[f]=this[f+r]}return i};function S(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(r,t,n){r=r|0,t=t|0,n||S(r,t,this.length);for(var i=this[r],o=1,f=0;++f<t&&(o*=256);)i+=this[r+f]*o;return i};u.prototype.readUIntBE=function(r,t,n){r=r|0,t=t|0,n||S(r,t,this.length);for(var i=this[r+--t],o=1;t>0&&(o*=256);)i+=this[r+--t]*o;return i};u.prototype.readUInt8=function(r,t){return t||S(r,1,this.length),this[r]};u.prototype.readUInt16LE=function(r,t){return t||S(r,2,this.length),this[r]|this[r+1]<<8};u.prototype.readUInt16BE=function(r,t){return t||S(r,2,this.length),this[r]<<8|this[r+1]};u.prototype.readUInt32LE=function(r,t){return t||S(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};u.prototype.readUInt32BE=function(r,t){return t||S(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};u.prototype.readIntLE=function(r,t,n){r=r|0,t=t|0,n||S(r,t,this.length);for(var i=this[r],o=1,f=0;++f<t&&(o*=256);)i+=this[r+f]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};u.prototype.readIntBE=function(r,t,n){r=r|0,t=t|0,n||S(r,t,this.length);for(var i=t,o=1,f=this[r+--i];i>0&&(o*=256);)f+=this[r+--i]*o;return o*=128,f>=o&&(f-=Math.pow(2,8*t)),f};u.prototype.readInt8=function(r,t){return t||S(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};u.prototype.readInt16LE=function(r,t){t||S(r,2,this.length);var n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};u.prototype.readInt16BE=function(r,t){t||S(r,2,this.length);var n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};u.prototype.readInt32LE=function(r,t){return t||S(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};u.prototype.readInt32BE=function(r,t){return t||S(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};u.prototype.readFloatLE=function(r,t){return t||S(r,4,this.length),De(this,r,!0,23,4)};u.prototype.readFloatBE=function(r,t){return t||S(r,4,this.length),De(this,r,!1,23,4)};u.prototype.readDoubleLE=function(r,t){return t||S(r,8,this.length),De(this,r,!0,52,8)};u.prototype.readDoubleBE=function(r,t){return t||S(r,8,this.length),De(this,r,!1,52,8)};function M(e,r,t,n,i,o){if(!F(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(r,t,n,i){if(r=+r,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;M(this,r,t,n,o,0)}var f=1,l=0;for(this[t]=r&255;++l<n&&(f*=256);)this[t+l]=r/f&255;return t+n};u.prototype.writeUIntBE=function(r,t,n,i){if(r=+r,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;M(this,r,t,n,o,0)}var f=n-1,l=1;for(this[t+f]=r&255;--f>=0&&(l*=256);)this[t+f]=r/l&255;return t+n};u.prototype.writeUInt8=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=r&255,t+1};function Be(e,r,t,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(e.length-t,2);i<o;++i)e[t+i]=(r&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}u.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):Be(this,r,t,!0),t+2};u.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):Be(this,r,t,!1),t+2};function Me(e,r,t,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(e.length-t,4);i<o;++i)e[t+i]=r>>>(n?i:3-i)*8&255}u.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255):Me(this,r,t,!0),t+4};u.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):Me(this,r,t,!1),t+4};u.prototype.writeIntLE=function(r,t,n,i){if(r=+r,t=t|0,!i){var o=Math.pow(2,8*n-1);M(this,r,t,n,o-1,-o)}var f=0,l=1,s=0;for(this[t]=r&255;++f<n&&(l*=256);)r<0&&s===0&&this[t+f-1]!==0&&(s=1),this[t+f]=(r/l>>0)-s&255;return t+n};u.prototype.writeIntBE=function(r,t,n,i){if(r=+r,t=t|0,!i){var o=Math.pow(2,8*n-1);M(this,r,t,n,o-1,-o)}var f=n-1,l=1,s=0;for(this[t+f]=r&255;--f>=0&&(l*=256);)r<0&&s===0&&this[t+f+1]!==0&&(s=1),this[t+f]=(r/l>>0)-s&255;return t+n};u.prototype.writeInt8=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=r&255,t+1};u.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):Be(this,r,t,!0),t+2};u.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):Be(this,r,t,!1),t+2};u.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):Me(this,r,t,!0),t+4};u.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t|0,n||M(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),u.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):Me(this,r,t,!1),t+4};function Cr(e,r,t,n,i,o){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function _r(e,r,t,n,i){return i||Cr(e,r,t,4,34028234663852886e22,-34028234663852886e22),Mr(e,r,t,n,23,4),t+4}u.prototype.writeFloatLE=function(r,t,n){return _r(this,r,t,!0,n)};u.prototype.writeFloatBE=function(r,t,n){return _r(this,r,t,!1,n)};function Ur(e,r,t,n,i){return i||Cr(e,r,t,8,17976931348623157e292,-17976931348623157e292),Mr(e,r,t,n,52,8),t+8}u.prototype.writeDoubleLE=function(r,t,n){return Ur(this,r,t,!0,n)};u.prototype.writeDoubleBE=function(r,t,n){return Ur(this,r,t,!1,n)};u.prototype.copy=function(r,t,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),t>=r.length&&(t=r.length),t||(t=0),i>0&&i<n&&(i=n),i===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-t<i-n&&(i=r.length-t+n);var o=i-n,f;if(this===r&&n<t&&t<i)for(f=o-1;f>=0;--f)r[f+t]=this[f+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(f=0;f<o;++f)r[f+t]=this[f+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),t);return o};u.prototype.fill=function(r,t,n,i){if(typeof r=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),r.length===1){var o=r.charCodeAt(0);o<256&&(r=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof r=="number"&&(r=r&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);var f;if(typeof r=="number")for(f=t;f<n;++f)this[f]=r;else{var l=F(r)?r:Ne(new u(r,i).toString()),s=l.length;for(f=0;f<n-t;++f)this[f+t]=l[f%s]}return this};var tn=/[^+\/0-9A-Za-z-_]/g;function nn(e){if(e=on(e).replace(tn,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function on(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function fn(e){return e<16?"0"+e.toString(16):e.toString(16)}function Ne(e,r){r=r||1/0;for(var t,n=e.length,i=null,o=[],f=0;f<n;++f){if(t=e.charCodeAt(f),t>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(f+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function ln(e){for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function sn(e,r){for(var t,n,i,o=[],f=0;f<e.length&&!((r-=2)<0);++f)t=e.charCodeAt(f),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function Nr(e){return xt(nn(e))}function Le(e,r,t,n){for(var i=0;i<n&&!(i+t>=r.length||i>=e.length);++i)r[i+t]=e[i];return i}function an(e){return e!==e}function un(e){return e!=null&&(!!e._isBuffer||Br(e)||cn(e))}function Br(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function cn(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Br(e.slice(0,0))}function De(e,r,t,n,i){var o,f,l=i*8-n-1,s=(1<<l)-1,h=s>>1,p=-7,a=t?i-1:0,c=t?-1:1,A=e[r+a];for(a+=c,o=A&(1<<-p)-1,A>>=-p,p+=l;p>0;o=o*256+e[r+a],a+=c,p-=8);for(f=o&(1<<-p)-1,o>>=-p,p+=n;p>0;f=f*256+e[r+a],a+=c,p-=8);if(o===0)o=1-h;else{if(o===s)return f?NaN:(A?-1:1)*(1/0);f=f+Math.pow(2,n),o=o-h}return(A?-1:1)*f*Math.pow(2,o-n)}function Mr(e,r,t,n,i,o){var f,l,s,h=o*8-i-1,p=(1<<h)-1,a=p>>1,c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:o-1,w=n?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,f=p):(f=Math.floor(Math.log(r)/Math.LN2),r*(s=Math.pow(2,-f))<1&&(f--,s*=2),f+a>=1?r+=c/s:r+=c*Math.pow(2,1-a),r*s>=2&&(f++,s/=2),f+a>=p?(l=0,f=p):f+a>=1?(l=(r*s-1)*Math.pow(2,i),f=f+a):(l=r*Math.pow(2,a-1)*Math.pow(2,i),f=0));i>=8;e[t+A]=l&255,A+=w,l/=256,i-=8);for(f=f<<i|l,h+=i;h>0;e[t+A]=f&255,A+=w,f/=256,h-=8);e[t+A-w]|=E*128}function xr(e){return e!=null&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"&&typeof e.dispatchEvent=="function"}function Y(e,r,t){Object.defineProperty(e,r,{value:t,writable:!1,configurable:!0})}function Lr(e){return typeof e=="function"||e!==null&&typeof e=="object"&&typeof e.handleEvent=="function"}function Dr(e){return typeof e=="boolean"?{capture:e}:e??{}}var Ee=Symbol.for("CustomEventTarget.parent"),H=Symbol.for("CustomEventTarget.listeners"),ee=Symbol.for("CustomEventTarget.delegates"),Je=Symbol.for("CustomEventTarget.dispatchSelf"),ye=class{constructor(r=null){this[Ee]=r,this[H]=[],this[ee]=new Set}addEventListener(r,t,n){if(!Lr(t))return;let i=this[H];n=Dr(n);let o;typeof t=="function"?o=t:o=l=>t.handleEvent(l);let f={type:r,listener:t,callback:o,options:n};if(n.once&&(f.callback=function(){let l=i.indexOf(f);return l!==-1&&i.splice(l,1),o.apply(this,arguments)}),!i.some(l=>f.type===l.type&&f.listener===l.listener&&!f.options.capture==!l.options.capture)){i.push(f);for(let l of this[ee])l.addEventListener(r,f.callback,f.options)}}removeEventListener(r,t,n){let i=this[H];if(i==null||!Lr(t))return;let o=Dr(n),f=i.findIndex(s=>s.type===r&&s.listener===t&&!s.options.capture==!o.capture);if(f===-1)return;let l=i[f];i.splice(f,1);for(let s of this[ee])s.removeEventListener(l.type,l.callback,l.options)}dispatchEvent(r){let t=[];for(let l=this[Ee];l;l=l[Ee])t.push(l);let n=!1,i=!1,o=r.stopPropagation;Y(r,"stopPropagation",()=>(n=!0,o.call(r)));let f=r.stopImmediatePropagation;Y(r,"stopImmediatePropagation",()=>(i=!0,f.call(r))),Y(r,"target",this);try{Y(r,"eventPhase",1);for(let l=t.length-1;l>=0;l--){let s=t[l],h=s[H];Y(r,"currentTarget",s);for(let p=0;p<h.length;p++){let a=h[p];if(a.type===r.type&&a.options.capture){try{a.callback.call(s,r)}catch(c){console.error(c)}if(i)return!0}}if(n)return!0}{if(Y(r,"eventPhase",2),Y(r,"currentTarget",this),this[Je](r),i)return!0;let l=this[H];for(let s=0;s<l.length;s++){let h=l[s];if(h.type===r.type){try{h.callback.call(this,r)}catch(p){console.error(p)}if(i)return!0}}if(n)return!0}if(r.bubbles){Y(r,"eventPhase",3);for(let l=0;l<t.length;l++){let s=t[l];Y(r,"currentTarget",s);let h=s[H];for(let p=0;p<h.length;p++){let a=h[p];if(a.type===r.type&&!a.options.capture){try{a.callback.call(s,r)}catch(c){console.error(c)}if(i)return!0}}if(n)return!0}}}finally{return Y(r,"eventPhase",0),Y(r,"currentTarget",null),!r.defaultPrevented}}[Je](r){}};ye.dispatchEventOnSelf=Je;function Qe(e,r,t=n=>e===n){let n=r.filter(xr);for(let i=e;i&&t(i);i=i[Ee])for(let o=0;o<n.length;o++){let f=n[o];if(!i[ee].has(f)){i[ee].add(f);for(let l of i[H])f.addEventListener(l.type,l.callback,l.options)}}}function $r(e,r,t=n=>e===n){let n=r.filter(xr);for(let i=e;i&&t(i);i=i[Ee])for(let o=0;o<n.length;o++){let f=n[o];if(i[ee].has(f)){i[ee].delete(f);for(let l of i[H])f.removeEventListener(l.type,l.callback,l.options)}}}function er(e){let r=e[H],t=e[ee];for(let n=0;n<r.length;n++){let i=r[n];for(let o of t)o.removeEventListener(i.type,i.callback,i.options)}r.length=0,t.clear()}function re(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function te(e){return e.length===0?void 0:e.length===1?e[0]:e}function Yr(e){return e==null?[]:Array.isArray(e)?e:typeof e=="string"||typeof e[Symbol.iterator]!="function"?[e]:[...e]}function Or(e){return e!=null&&typeof e.next=="function"}function k(e){return e!=null&&typeof e.then=="function"}function hn(e){let r=new Set,t={deferreds:r,settled:!1};return Promise.resolve(e).then(n=>{for(let{resolve:i}of r)i(n);r.clear(),t.settled=!0},n=>{for(let{reject:i}of r)i(n);r.clear(),t.settled=!0}),t}var rr=new WeakMap;function xe(e){let r;return new Promise((n,i)=>{r={resolve:n,reject:i};for(let o of e){if(!k(o)){Promise.resolve(o).then(n,i);continue}let f=rr.get(o);f===void 0?(f=hn(o),f.deferreds.add(r),rr.set(o,f)):f.settled?Promise.resolve(o).then(n,i):f.deferreds.add(r)}}).finally(()=>{for(let n of e)if(k(n)){let i=rr.get(n);i&&i.deferreds.delete(r)}})}var W=()=>{};function P(e){return typeof e=="function"?e.name||"Anonymous":typeof e=="string"?e:e.description||"Anonymous"}var ne="",_=Symbol.for("crank.Portal"),Xr=Symbol.for("crank.Copy"),be=Symbol.for("crank.Text"),ir=Symbol.for("crank.Raw"),Zr=Symbol.for("crank.Element"),Re=class{constructor(r,t){this.tag=r,this.props=t}};Re.prototype.$$typeof=Zr;function qr(e){return e!=null&&e.$$typeof===Zr}var jr=["crank-","c-","$"],Fr=["key","ref","static","copy"];function Ye(e,r,...t){r==null&&(r={}),"static"in r&&(console.error("The `static` prop is deprecated. Use `copy` instead."),r.copy=r.static,delete r.static);for(let n=0;n<jr.length;n++){let i=jr[n];for(let o=0;o<Fr.length;o++){let f=Fr[o],l=i+f;if(l in r){let s=f==="static"?"copy":f;console.error(`The \`${l}\` prop is deprecated. Use \`${s}\` instead.`),r[s]=r[l],delete r[l]}}}return t.length>1?r.children=t:t.length===1&&(r.children=t[0]),new Re(e,r)}function pn(e){if(!qr(e))throw new TypeError(`Cannot clone non-element: ${String(e)}`);return new Re(e.tag,{...e.props})}function Jr(e){if(!(typeof e=="boolean"||e==null)){{if(typeof e=="string"||qr(e))return e;if(typeof e[Symbol.iterator]=="function")return Ye(ne,null,e)}return e.toString()}}var ie=1,$=2,Oe=4,ke=8,R=16,ve=32,O=64,Wr=128,U=256,C=512,Qr=1024,ue=2048,he=4096,Pe=8192,X=16384,L=32768,me=65536,Ae=1<<17;function g(e,r){return!!(e.f&r)}function d(e,r,t=!0){t?e.f|=r:e.f&=~r}var ce=class{constructor(r){this.f=0,this.el=r,this.ctx=void 0,this.children=void 0,this.fallback=void 0,this.value=void 0,this.oldProps=void 0,this.pendingDiff=void 0,this.onNextDiff=void 0,this.graveyard=void 0,this.lingerers=void 0}};function dn(e){let r=new ce(e.el);return r.f=e.f,r.ctx=e.ctx,r.children=e.children,r.fallback=e.fallback,r.value=e.value,r.scope=e.scope,r.oldProps=e.oldProps,r.pendingDiff=e.pendingDiff,r.onNextDiff=e.onNextDiff,r.graveyard=e.graveyard,r.lingerers=e.lingerers,r}function T(e,r=!1,t){return g(e,O)&&r?e.fallback?T(e.fallback,r,t):void 0:e.fallback&&!g(e,ie)?e.fallback?T(e.fallback,r,t):e.fallback:e.el.tag===_?void 0:e.el.tag===ne||typeof e.el.tag=="function"?(t!=null&&e.ctx&&(e.ctx.index=t),te(z(e,t))):e.value}function z(e,r){let t=[],n=e.lingerers,i=re(e.children),o=r;for(let f=0;f<i.length;f++){if(n!=null&&n[f]!=null){let s=n[f];for(let h of s){let p=T(h,!0,o);if(Array.isArray(p)){for(let a=0;a<p.length;a++)t.push(p[a]);o!=null&&(o+=p.length)}else p&&(t.push(p),o!=null&&o++)}}let l=i[f];if(l){let s=T(l,!0,o);if(Array.isArray(s)){for(let h=0;h<s.length;h++)t.push(s[h]);o!=null&&(o+=s.length)}else s&&(t.push(s),o!=null&&o++)}}if(n!=null&&n.length>i.length)for(let f=i.length;f<n.length;f++){let l=n[f];if(l!=null)for(let s of l){let h=T(s,!0,o);if(Array.isArray(h)){for(let p=0;p<h.length;p++)t.push(h[p]);o!=null&&(o+=h.length)}else h&&(t.push(h),o!=null&&o++)}}return t}function Ge(e){let r,t;return{key:r,ref:r,copy:r,hydrate:r,children:r,...t}=e,t}var gn={create(){throw new Error("adapter must implement create")},adopt(){throw new Error("adapter must implement adopt() for hydration")},scope:({scope:e})=>e,read:e=>e,text:({value:e})=>e,raw:({value:e})=>e,patch:W,arrange:W,remove:W,finalize:W},je=class{constructor(r){this.cache=new WeakMap,this.adapter={...gn,...r}}render(r,t,n){let i=zr(this,n,{children:r,root:t});return Gr(this.adapter,t,i,r)}hydrate(r,t,n){let i=zr(this,n,{children:r,root:t,hydrate:!0});return Gr(this.adapter,t,i,r)}};function zr(e,r,{children:t,root:n,hydrate:i}){let o,f=r&&r[I];typeof n=="object"&&n!==null&&(o=e.cache.get(n));let l=e.adapter;if(o===void 0)o=new ce(Ye(_,{children:t,root:n,hydrate:i})),o.value=n,o.ctx=f,o.scope=l.scope({tag:_,tagName:P(_),props:Ge(o.el.props),scope:void 0}),typeof n=="object"&&n!==null&&t!=null&&e.cache.set(n,o);else{if(o.ctx!==f)throw new Error("A previous call to render() was passed a different context");o.el=Ye(_,{children:t,root:n,hydrate:i}),typeof n=="object"&&n!==null&&t==null&&e.cache.delete(n)}return o}function Gr(e,r,t,n){let i=Ve(e,r,t,t.ctx,t.scope,t,n),o=[];return k(i)?i.then(()=>(or(e,t,t,t.ctx,t.scope,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof r!="object"||r===null)&&x(e,t,t.ctx,t,!1),e.read(te(z(t))))):((typeof r!="object"||r===null)&&x(e,t,t.ctx,t,!1),e.read(te(z(t)))))):(or(e,t,t,t.ctx,t.scope,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof r!="object"||r===null)&&x(e,t,t.ctx,t,!1),e.read(te(z(t))))):((typeof r!="object"||r===null)&&x(e,t,t.ctx,t,!1),e.read(te(z(t)))))}function Ve(e,r,t,n,i,o,f){let l=re(o.children),s=[],h=Yr(f),p=[],a,c,A=!1,w=0,E=l.length,y;for(let b=0,Z=h.length;b<Z;b++){let m=w>=E?void 0:l[w],v=Jr(h[b]);{let G=typeof m=="object"?m.el.props.key:void 0,B=typeof v=="object"?v.props.key:void 0;if(B!==void 0&&c&&c.has(B)&&(console.error(`Duplicate key found in <${P(o.el.tag)}>`,B),v=pn(v),B=v.props.key=void 0),G===B)a!==void 0&&B!==void 0&&a.delete(B),w++;else if(a=a||wn(l,w),B===void 0){for(;m!==void 0&&G!==void 0;)w++,m=l[w],G=typeof m=="object"?m.el.props.key:void 0;w++}else m=a.get(B),m!==void 0&&a.delete(B),(c=c||new Set).add(B)}let de;if(typeof v=="object"){let G=!1;if(v.tag===Xr)G=!0;else if(typeof m=="object"&&m.el===v&&g(m,$))G=!0;else{if(m&&m.el.tag===v.tag)m.el=v,v.props.copy&&typeof v.props.copy!="string"&&(G=!0);else if(m){let B=!1;for(let Ce=m,oe=m.fallback;oe;Ce=oe,oe=oe.fallback)if(oe.el.tag===v.tag){let hr=dn(oe);d(hr,Qr),Ce.fallback=hr;let st=m;m=oe,m.el=v,m.fallback=st,d(m,ie,!1),B=!0;break}if(!B){let Ce=m;m=new ce(v),m.fallback=Ce}}else m=new ce(v);G&&g(m,$)||v.tag===ir||v.tag===be||(v.tag===ne?de=Ve(e,r,t,n,i,m,m.el.props.children):typeof v.tag=="function"?de=nt(e,r,t,n,i,m):de=yn(e,r,n,i,m))}typeof m=="object"&&(G?(d(m,Oe),de=et(m)):d(m,Oe,!1)),k(de)&&(A=!0)}else typeof v=="string"?typeof m=="object"&&m.el.tag===be?m.el.props.value=v:(typeof m=="object"&&(y=y||[]).push(m),m=new ce(Ye(be,{value:v}))):(typeof m=="object"&&(y=y||[]).push(m),m=void 0);p[b]=de,s[b]=m}for(;w<E;w++){let b=l[w];typeof b=="object"&&(typeof b.el.props.key>"u"||!c||!c.has(b.el.props.key))&&(y=y||[]).push(b)}if(a!==void 0&&a.size>0){y=y||[];for(let b of a.values())y.push(b)}if(o.children=te(s),A){let b=Promise.all(p).then(()=>{}).finally(()=>{if(d(o,ie),y)if(o.graveyard)for(let v=0;v<y.length;v++)o.graveyard.push(y[v]);else o.graveyard=y}),Z,m=o.pendingDiff=xe([b,new Promise(v=>Z=v)]);return o.onNextDiff&&o.onNextDiff(m),o.onNextDiff=Z,m}else{if(d(o,ie),y)if(o.graveyard)for(let b=0;b<y.length;b++)o.graveyard.push(y[b]);else o.graveyard=y;o.onNextDiff&&(o.onNextDiff(p),o.onNextDiff=void 0),o.pendingDiff=void 0}}function et(e){if(e.ctx&&e.ctx.inflight)return e.ctx.inflight[1];if(e.pendingDiff)return e.pendingDiff}function wn(e,r){let t=new Map;for(let n=r;n<e.length;n++){let i=e[n];typeof i=="object"&&typeof i.el.props.key<"u"&&t.set(i.el.props.key,i)}return t}function yn(e,r,t,n,i){let o=i.el,f=o.tag;return o.tag===_&&(r=i.value=o.props.root),g(i,$)?n=i.scope:n=i.scope=e.scope({tag:f,tagName:P(f),props:o.props,scope:n}),Ve(e,r,i,t,n,i,i.el.props.children)}function or(e,r,t,n,i,o,f,l){if(g(t,Oe)&&g(t,$))return T(t);let s=t.el,h=s.tag;(typeof h=="function"||h===ne||h===_||h===ir||h===be)&&(typeof s.props.copy=="string"&&console.error(`String copy prop ignored for <${P(h)}>. Use booleans instead.`),typeof s.props.hydrate=="string"&&console.error(`String hydrate prop ignored for <${P(h)}>. Use booleans instead.`));let p,a;return l&&s.props.hydrate!=null&&!s.props.hydrate&&typeof s.props.hydrate!="string"&&(a=l,l=void 0),typeof h=="function"?(t.ctx.index=o,p=pe(t.ctx,f,l)):(h===ne?p=ar(e,r,n,i,t,o,f,l):h===be?p=mn(e,t,s,i,l):h===ir?p=En(e,r,t,i,l):p=An(e,t,n,f,l),t.fallback&&(x(e,r,n,t.fallback,!1),t.fallback=void 0)),a&&a.splice(0,re(p).length),g(t,$)||(d(t,$),typeof h!="function"&&h!==ne&&h!==_&&typeof s.props.ref=="function"&&s.props.ref(e.read(p))),p}function ar(e,r,t,n,i,o,f,l){let s=[];for(let h=0,p=re(i.children);h<p.length;h++){let a=p[h],c,A=!1;for(;a&&(!g(a,ie)&&a.fallback||g(a,O));){if(g(a,O)&&a.ctx.schedule&&((c=c||[]).push(a.ctx.schedule.promise),A=!0),!g(a,ie)&&g(a,$))for(let w of z(a))e.remove({node:w,parentNode:r.value,isNested:!1});if(a=a.fallback,c&&A&&a){if(g(a,ie))c=void 0;else{let w=et(a);c.push(w)}g(a,Wr)?A=!0:(d(a,Wr,!0),A=!1)}}if(c&&c.length>1&&f.push(xe(c)),a){let w=or(e,r,a,t,n,o,f,l);if(Array.isArray(w)){for(let E=0;E<w.length;E++)s.push(w[E]);o+=w.length}else w&&(s.push(w),o++)}}if(i.graveyard){for(let h=0;h<i.graveyard.length;h++){let p=i.graveyard[h];x(e,r,t,p,!1)}i.graveyard=void 0}return i.lingerers&&(s=z(i)),s}function mn(e,r,t,n,i){let o=e.text({value:t.props.value,scope:n,oldNode:r.value,hydrationNodes:i});return r.value=o,o}function En(e,r,t,n,i){if(!t.oldProps||t.oldProps.value!==t.el.props.value){let o=re(t.value);for(let f=0;f<o.length;f++){let l=o[f];e.remove({node:l,parentNode:r.value,isNested:!1})}t.value=e.raw({value:t.el.props.value,scope:n,hydrationNodes:i})}return t.oldProps=Ge(t.el.props),t.value}function An(e,r,t,n,i){if(g(r,Oe)&&g(r,$))return T(r);let o=r.el.tag,f=Ge(r.el.props),l=r.oldProps,s=r.value,h,p=!1;if(l){for(let E in f)f[E]===Xr&&(f[E]=l[E],(h=h||new Set).add(E));if(typeof r.el.props.copy=="string"){let E=new Fe("copy",r.el.props.copy);if(E.include)for(let y of E.props)y in l&&(f[y]=l[y],(h=h||new Set).add(y));else for(let y in l)E.props.has(y)||(f[y]=l[y],(h=h||new Set).add(y));p=E.includes("children")}}let a=r.scope,c,A,w;if(!g(r,$))if(o===_){if(r.el.props.hydrate&&typeof r.el.props.hydrate!="string"&&(c=e.adopt({tag:o,tagName:P(o),node:s,props:f,scope:a}),c))for(let E=0;E<c.length;E++)e.remove({node:c[E],parentNode:s,isNested:!1})}else{if(!s&&i){let E=i.shift();if(typeof r.el.props.hydrate=="string")if(w=new Fe("hydration",r.el.props.hydrate),w.include){A=new Set(Object.keys(f));for(let y of w.props)A.delete(y)}else A=w.props;if(c=e.adopt({tag:o,tagName:P(o),node:E,props:f,scope:a}),c){s=E;for(let y=0;y<c.length;y++)e.remove({node:c[y],parentNode:s,isNested:!1})}}s||(s=e.create({tag:o,tagName:P(o),props:f,scope:a})),r.value=s}if(o!==_&&e.patch({tag:o,tagName:P(o),node:s,props:f,oldProps:l,scope:a,copyProps:h,isHydrating:!!c,quietProps:A}),!p){let E=ar(e,r,t,a,r,0,n,w&&!w.includes("children")?void 0:c);e.arrange({tag:o,tagName:P(o),node:s,props:f,children:E,oldProps:l})}if(r.oldProps=f,o===_){tt(e,r.value);return}return s}var Fe=class{constructor(r,t){this.include=!0,this.props=new Set;let n=!0,i=!0,o=t.split(/[,\s]+/);for(let f=0;f<o.length;f++){let l=o[f].trim();if(l)l.startsWith("!")?(n=!1,this.props.add(l.slice(1))):(i=!1,this.props.add(l));else continue}!i&&!n?(console.error(`Invalid ${r} prop "${t}".
Use prop or !prop but not both.`),this.include=!0,this.props.clear()):this.include=n}includes(r){return this.include?this.props.has(r):!this.props.has(r)}};function bn(e,r){for(let t=r;t!==void 0;t=t.parent)if(t===e)return!0;return!1}var rt={};function tt(e,r,t){r!=null&&e.finalize(r),(typeof r!="object"||r===null)&&(r=rt);let n=Te.get(r);if(n){let i=new Map;for(let[o,f]of n)(g(o.ret,O)||t&&!bn(t,o))&&(n.delete(o),i.set(o,f));i.size?Te.set(r,i):Te.delete(r);for(let[o,f]of n){let l=e.read(T(o.ret));for(let s of f)s(l)}}}function x(e,r,t,n,i){if(n.fallback&&(x(e,r,t,n.fallback,i),n.fallback=void 0),!g(n,Qr)){if(n.lingerers){for(let o=0;o<n.lingerers.length;o++){let f=n.lingerers[o];if(f)for(let l of f)x(e,r,t,l,i)}n.lingerers=void 0}typeof n.el.tag=="function"?Tn(n.ctx,i):n.el.tag===ne?$e(e,r,t,n,i):n.el.tag===_?($e(e,n,t,n,!1),n.value!=null&&e.finalize(n.value)):($e(e,n,t,n,!0),g(n,$)&&(t&&$r(t.ctx,[n.value],o=>o[I].host===r),e.remove({node:n.value,parentNode:r.value,isNested:i})))}}function $e(e,r,t,n,i){if(n.graveyard){for(let o=0;o<n.graveyard.length;o++){let f=n.graveyard[o];x(e,r,t,f,i)}n.graveyard=void 0}for(let o=0,f=re(n.children);o<f.length;o++){let l=f[o];typeof l=="object"&&x(e,r,t,l,i)}}var tr=new WeakMap,We=new WeakMap,ze=new WeakMap,Te=new WeakMap,fr=class{constructor(r,t,n,i,o,f){this.adapter=r,this.root=t,this.host=n,this.parent=i,this.ctx=new lr(this),this.scope=o,this.ret=f,this.iterator=void 0,this.inflight=void 0,this.enqueued=void 0,this.onPropsProvided=void 0,this.onPropsRequested=void 0,this.pull=void 0,this.index=0,this.schedule=void 0}},I=Symbol.for("crank.ContextState"),lr=class extends ye{constructor(r){super(r.parent?r.parent.ctx:null),this[I]=r}get props(){return this[I].ret.el.props}get value(){return console.warn("Context.value is deprecated."),this[I].adapter.read(T(this[I].ret))}get isExecuting(){return g(this[I].ret,R)}get isUnmounted(){return g(this[I].ret,U)}*[Symbol.iterator](){let r=this[I];d(r.ret,Pe);try{for(;!g(r.ret,U)&&!g(r.ret,C);){if(g(r.ret,L))throw new Error(`<${P(r.ret.el.tag)}> context iterated twice without a yield`);d(r.ret,L),yield r.ret.el.props}}finally{d(r.ret,Pe,!1)}}async*[Symbol.asyncIterator](){let r=this[I];d(r.ret,X);try{for(;!g(r.ret,U)&&!g(r.ret,C);){if(g(r.ret,L))throw new Error(`<${P(r.ret.el.tag)}> context iterated twice without a yield`);if(d(r.ret,L),g(r.ret,me))d(r.ret,me,!1),yield r.ret.el.props;else{let t=await new Promise(n=>r.onPropsProvided=n);if(g(r.ret,U)||g(r.ret,C))break;yield t}r.onPropsRequested&&(r.onPropsRequested(),r.onPropsRequested=void 0)}}finally{d(r.ret,X,!1),r.onPropsRequested&&(r.onPropsRequested(),r.onPropsRequested=void 0)}}refresh(r){let t=this[I];if(g(t.ret,U))return console.error(`Component <${P(t.ret.el.tag)}> is unmounted. Check the isUnmounted property if necessary.`),t.adapter.read(T(t.ret));if(g(t.ret,R))return console.error(`Component <${P(t.ret.el.tag)}> is already executing Check the isExecuting property if necessary.`),t.adapter.read(T(t.ret));if(r){let o=r();if(k(o))return Promise.resolve(o).then(()=>g(t.ret,U)?t.adapter.read(T(t.ret)):this.refresh())}g(t.ret,O)&&d(t.ret,Ae);let n,i=[];try{if(d(t.ret,ve),n=it(t),k(n))return n.then(()=>t.adapter.read(pe(t,i))).then(f=>i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):f).catch(f=>{let l=Ie(t,f,i);return l?l.then(()=>i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))}).finally(()=>d(t.ret,ve,!1));let o=t.adapter.read(pe(t,i));return i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):o}catch(o){let f=Ie(t,o,i);return f?f.then(()=>{if(i.length)return Promise.all(i).then(()=>t.adapter.read(T(t.ret)))}).then(()=>t.adapter.read(T(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))}finally{k(n)||d(t.ret,ve,!1)}}schedule(r){if(!r)return new Promise(i=>this.schedule(i));let t=this[I],n=We.get(t);n||(n=new Set,We.set(t,n)),n.add(r)}after(r){if(!r)return new Promise(f=>this.after(f));let t=this[I],n=t.root||rt,i=Te.get(n);i||(i=new Map,Te.set(n,i));let o=i.get(t);o||(o=new Set,i.set(t,o)),o.add(r)}flush(r){console.error("Context.flush() method has been renamed to after()"),this.after(r)}cleanup(r){if(!r)return new Promise(i=>this.cleanup(i));let t=this[I];if(g(t.ret,U)){let i=t.adapter.read(T(t.ret));r(i);return}let n=ze.get(t);n||(n=new Set,ze.set(t,n)),n.add(r)}consume(r){for(let t=this[I].parent;t!==void 0;t=t.parent){let n=tr.get(t);if(n&&n.has(r))return n.get(r)}}provide(r,t){let n=this[I],i=tr.get(n);i||(i=new Map,tr.set(n,i)),i.set(r,t)}[ye.dispatchEventOnSelf](r){let t=this[I],n=t.ret.el.props["on"+r.type];if(typeof n=="function")n(r);else for(let i in t.ret.el.props)i.toLowerCase()==="on"+r.type.toLowerCase()&&(n=t.ret.el.props[i],typeof n=="function"&&n(r))}};function nt(e,r,t,n,i,o){let f;if(o.ctx){if(f=o.ctx,g(f.ret,R)){console.error(`Component <${P(f.ret.el.tag)}> is already executing`);return}else if(f.schedule)return f.schedule.promise.then(()=>nt(e,r,t,n,i,o))}else f=o.ctx=new fr(e,r,t,n,i,o);return d(f.ret,ke),it(f)}function ae(e,r,t){if(g(e.ret,U)||g(e.ret,C))return;r===void 0&&console.error(`Component <${P(e.ret.el.tag)}> has ${t?"yielded":"returned"} undefined. If this was intentional, ${t?"yield":"return"} null instead.`);let n;try{d(e.ret,R),n=Ve(e.adapter,e.root,e.host,e,e.scope,e.ret,Jr(r)),n&&(n=n.catch(i=>sr(e,i)))}catch(i){n=sr(e,i)}finally{d(e.ret,R,!1)}return n}function it(e){if(e.inflight){if(!e.enqueued){let r;e.enqueued=[new Promise(t=>r=t).finally(()=>Vr(e)),e.inflight[0].finally(()=>{let[t,n]=Kr(e);return r(t),n})]}}else{let[r,t]=Kr(e);return r&&(e.inflight=[r.finally(()=>Vr(e)),t]),t}return e.enqueued[1]}function Vr(e){e.inflight=e.enqueued,e.enqueued=void 0}function Kr(e){if(g(e.ret,U))return[void 0,void 0];let r=e.ret,t=!e.iterator;if(t){d(e.ret,R),er(e.ctx);let i;try{i=r.el.tag.call(e.ctx,r.el.props,e.ctx)}catch(o){throw d(e.ret,C),o}finally{d(e.ret,R,!1)}if(Or(i))e.iterator=i;else if(k(i)){let o=i instanceof Promise?i:Promise.resolve(i);return[o.catch(W),o.then(f=>ae(e,f,!1),f=>{throw d(e.ret,C),f})]}else return[void 0,ae(e,i,!1)]}let n;if(t){try{d(e.ret,R),n=e.iterator.next()}catch(i){throw d(e.ret,C),i}finally{d(e.ret,R,!1)}k(n)?d(e.ret,he):d(e.ret,ue)}if(g(e.ret,ue)){if(!t)try{d(e.ret,R);let f=e.adapter.read(T(e.ret));n=e.iterator.next(f)}catch(f){throw d(e.ret,C),f}finally{d(e.ret,R,!1)}if(k(n))throw new Error("Mixed generator component");g(e.ret,Pe)&&!g(e.ret,L)&&!g(e.ret,U)&&!g(e.ret,Ae)&&console.error(`Component <${P(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),d(e.ret,L,!1),d(e.ret,Ae,!1),n.done&&(d(e.ret,ue,!1),e.iterator=void 0);let i=ae(e,n.value,!n.done);return[k(i)?i.catch(W):void 0,i]}else{if(g(e.ret,X))return Hr(e,n),[Se(e),e.pull&&e.pull.diff];{if(Se(e),!t)try{d(e.ret,R);let o=e.adapter.read(T(e.ret));n=e.iterator.next(o)}catch(o){throw d(e.ret,C),o}finally{d(e.ret,R,!1)}if(!k(n))throw new Error("Mixed generator component");let i=n.then(o=>(g(e.ret,X)?Hr(e,o):g(e.ret,Pe)&&!g(e.ret,L)&&!g(e.ret,U)&&!g(e.ret,Ae)&&console.error(`Component <${P(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),d(e.ret,L,!1),d(e.ret,Ae,!1),o.done&&(d(e.ret,he,!1),e.iterator=void 0),ae(e,o.value,!o.done)),o=>{throw d(e.ret,C),o});return[i.catch(W),i]}}}function Se(e){if(e.onPropsProvided)e.onPropsProvided(e.ret.el.props),e.onPropsProvided=void 0,d(e.ret,me,!1);else if(d(e.ret,me),g(e.ret,X))return new Promise(r=>e.onPropsRequested=r);return e.pull&&e.pull.iterationP&&e.pull.iterationP.then(W,W)}async function Hr(e,r){if(!r||e.pull)return;e.pull={iterationP:void 0,diff:void 0,onChildError:void 0};let t=!1;try{let n;for(;!t;){k(r)&&(e.pull.iterationP=r);let i;e.pull.diff=new Promise(s=>i=s).then(()=>{g(e.ret,ke)||g(e.ret,ve)||pe(e,[])},s=>{if(!(g(e.ret,ke)||g(e.ret,ve))||!g(e.ret,L))return Ie(e,s,[]);throw s});let o;try{o=await r}catch(s){t=!0,d(e.ret,C),d(e.ret,L,!1),i(Promise.reject(s));break}let f;{let s=!0,h=new Promise((p,a)=>{e.ctx.schedule(p),e.pull.onChildError=c=>{if(a(c),s)return n=c,Se(e),e.pull.diff}});h.catch(W),f=Object.create(h),f.then=function(p,a){return s=!1,h.then(p,a)},f.catch=function(p){return s=!1,h.catch(p)}}if(n!=null)try{if(d(e.ret,R),typeof e.iterator.throw!="function")throw n;o=await e.iterator.throw(n)}catch(s){t=!0,d(e.ret,C),d(e.ret,L,!1),i(Promise.reject(s));break}finally{n=void 0,d(e.ret,R,!1)}g(e.ret,X)||d(e.ret,me,!1),t=!!o.done;let l;try{k(r)?!g(e.ret,L)&&g(e.ret,me)&&g(e.ret,X)?l=void 0:l=ae(e,o.value,!o.done):l=void 0}catch(s){i(Promise.reject(s))}finally{i(l),d(e.ret,L,!1)}if(g(e.ret,U)){for(;(!o||!o.done)&&e.iterator&&g(e.ret,X);)try{d(e.ret,R),o=await e.iterator.next(f)}catch(s){throw d(e.ret,C),s}finally{d(e.ret,R,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{d(e.ret,R),await e.iterator.return()}catch(s){throw d(e.ret,C),s}finally{d(e.ret,R,!1)}break}else if(g(e.ret,X)){if(!o.done)try{d(e.ret,R),r=e.iterator.next(f)}finally{d(e.ret,R,!1)}}else break}}finally{t&&(d(e.ret,he,!1),e.iterator=void 0),e.pull=void 0}}function pe(e,r,t){if(e.schedule)return e.schedule.promise.then(()=>{pe(e,[]),nr(e)}),T(e.ret);let n=ar(e.adapter,e.host,e,e.scope,e.ret,e.index,r,t);if(g(e.ret,U))return;Qe(e.ctx,n);let i=g(e.ret,O),o,f=We.get(e);if(f){We.delete(e),d(e.ret,O);let l=e.adapter.read(te(n));for(let s of f){let h=s(l);k(h)&&(o=o||[]).push(h)}if(o&&!g(e.ret,$)){let s=Promise.all(o).then(()=>{d(e.ret,O,i),nr(e),e.ret.fallback&&x(e.adapter,e.host,e.parent,e.ret.fallback,!1),e.ret.fallback=void 0}),h,p=xe([s,new Promise(a=>h=a)]).finally(()=>{e.schedule=void 0});e.schedule={promise:p,onAbort:h},r.push(p)}else d(e.ret,O,i)}else d(e.ret,O,i);return g(e.ret,O)||(g(e.ret,ke)||nr(e),e.ret.fallback&&x(e.adapter,e.host,e.parent,e.ret.fallback,!1),e.ret.fallback=void 0,d(e.ret,ke,!1)),d(e.ret,$),T(e.ret,!0)}function vn(e,r){let t=[r];for(;t.length>0;){let n=t.pop();if(n===e)return!0;let i=n!==r&&(typeof n.el.tag=="string"&&n.el.tag!==ne||n.el.tag===_);if(n.children&&!i){let o=re(n.children);for(let f of o)f&&t.push(f)}n.fallback&&!g(n,ie)&&t.push(n.fallback)}return!1}function nr(e){let r=z(e.ret,e.index);Qe(e.ctx,r,f=>f[I].host===e.host);let t=e.host,n=e.ret;if(!vn(n,t))return;let i=Ge(t.el.props),o=z(t,0);e.adapter.arrange({tag:t.el.tag,tagName:P(t.el.tag),node:t.value,props:i,oldProps:i,children:o}),tt(e.adapter,e.root,e)}async function Tn(e,r){if(g(e.ret,U))return;let t,n=ze.get(e);if(n){let o=e.adapter.read(T(e.ret));ze.delete(e);for(let f of n){let l=f(o);k(l)&&(t=t||[]).push(l)}}let i=!1;if(!r&&t&&z(e.ret).length>0){i=!0;let o=e.index,f=e.host.lingerers||(e.host.lingerers=[]),l=f[o];l==null&&(l=new Set,f[o]=l),l.add(e.ret),await Promise.all(t),l.delete(e.ret),l.size===0&&(f[o]=void 0),f.some(Boolean)||(e.host.lingerers=void 0)}if(!g(e.ret,U)&&(d(e.ret,U),e.schedule&&(e.schedule.onAbort(),e.schedule=void 0),er(e.ctx),$e(e.adapter,e.host,e,e.ret,r),i&&e.root!=null&&e.adapter.finalize(e.root),e.iterator)){if(e.pull){Se(e);return}e.inflight&&await e.inflight[1];let o;if(g(e.ret,Pe))try{d(e.ret,R);let f=e.adapter.read(T(e.ret)),l=e.iterator.next(f);if(k(l)){if(!g(e.ret,he))throw new Error("Mixed generator component");o=await l}else{if(!g(e.ret,ue))throw new Error("Mixed generator component");o=l}}catch(f){throw d(e.ret,C),f}finally{d(e.ret,R,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{d(e.ret,R);let f=e.iterator.return();if(k(f)){if(!g(e.ret,he))throw new Error("Mixed generator component");o=await f}else{if(!g(e.ret,ue))throw new Error("Mixed generator component");o=f}}catch(f){throw d(e.ret,C),f}finally{d(e.ret,R,!1)}}}function sr(e,r){if(!e.iterator)throw r;if(e.pull)return e.pull.onChildError(r),e.pull.diff;if(!e.iterator.throw)throw r;Se(e);let t;try{d(e.ret,R),t=e.iterator.throw(r)}catch(n){throw d(e.ret,C),n}finally{d(e.ret,R,!1)}return k(t)?t.then(n=>(n.done&&(d(e.ret,ue,!1),d(e.ret,he,!1),e.iterator=void 0),ae(e,n.value,!n.done)),n=>{throw d(e.ret,C),n}):(t.done&&(d(e.ret,ue,!1),d(e.ret,he,!1),e.iterator=void 0),ae(e,t.value,!t.done))}function Ie(e,r,t){let n=e.parent;if(!n)throw r;let i;try{i=sr(n,r)}catch(o){return Ie(n,o,t)}if(k(i))return i.then(()=>{pe(n,t)},o=>Ie(n,o,t));pe(n,t)}function ot(e){return/^[A-Z]/.test(e)?`-${e.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`).slice(1)}`:e.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}var Rn=new Set(["animation-iteration-count","aspect-ratio","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom"]);function ft(e,r){return typeof r=="number"?Rn.has(e)?String(r):`${r}px`:String(r)}var Ke="http://www.w3.org/2000/svg",ur="http://www.w3.org/1998/Math/MathML";function kn(e,r){let t=e;do if(Object.prototype.hasOwnProperty.call(t,r))break;while(t=Object.getPrototypeOf(t));if(t===null)return!1;let n=Object.getOwnPropertyDescriptor(t,r);return n!=null&&(n.writable===!0||n.set!==void 0)}function N(e,r,t,n,i,o){let f=e,l=o||e;(!r||!r.has(f))&&(t===null||t===!1?console.warn(`Expected "${l}" to be missing but found ${String(n)} while hydrating:`,i):t===!0||t===""?console.warn(`Expected "${l}" to be ${t===!0?"present":'""'} but found ${String(n)} while hydrating:`,i):typeof window<"u"&&window.location&&new URL(t,window.location.origin).href===new URL(n,window.location.origin).href||console.warn(`Expected "${l}" to be "${String(t)}" but found ${String(n)} while hydrating:`,i))}var Pn={scope({scope:e,tag:r,props:t}){switch(r){case _:e=void 0;break;case"svg":e=Ke;break;case"math":e=ur;break}return t.xmlns||e},create({tag:e,tagName:r,scope:t}){if(typeof e!="string")throw new Error(`Unknown tag: ${r}`);return e.toLowerCase()==="svg"?t=Ke:e.toLowerCase()==="math"&&(t=ur),t?document.createElementNS(t,e):document.createElement(e)},adopt({tag:e,tagName:r,node:t}){if(typeof e!="string"&&e!==_)throw new Error(`Unknown tag: ${r}`);if((t===document.body||t===document.head||t===document.documentElement||t===document)&&console.warn(`Hydrating ${t.nodeName.toLowerCase()} is discouraged as it is destructive and may remove unknown nodes.`),t==null||typeof e=="string"&&(t.nodeType!==Node.ELEMENT_NODE||e.toLowerCase()!==t.tagName.toLowerCase())){console.warn(`Expected <${r}> while hydrating but found: `,t);return}return Array.from(t.childNodes)},patch({tagName:e,node:r,props:t,oldProps:n,scope:i,copyProps:o,quietProps:f,isHydrating:l}){if(r.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Cannot patch node: ${String(r)}`);t.class&&t.className&&console.error(`Both "class" and "className" set in props for <${e}>. Use one or the other.`);let s=r,h=i===Ke,p=i===ur;for(let a in{...n,...t}){let c=t[a],A=n?n[a]:void 0;{if(o!=null&&o.has(a))continue;let w=a.indexOf(":");if(w!==-1){let[E,y]=[a.slice(0,w),a.slice(w+1)];switch(E){case"prop":r[y]=c;continue;case"attr":c==null||c===!1?(l&&s.hasAttribute(y)&&N(a,f,c,s.getAttribute(y),s),s.removeAttribute(y)):c===!0?(l&&!s.hasAttribute(y)&&N(a,f,c,null,s),s.setAttribute(y,"")):typeof c!="string"&&(c=String(c)),l&&s.getAttribute(y)!==c&&N(a,f,c,s.getAttribute(y),s),s.setAttribute(y,String(c));continue}}}switch(a){case"style":{let w=s.style;if(c==null||c===!1)l&&w.cssText!==""&&N(a,f,c,w.cssText,s),s.removeAttribute("style");else if(c===!0)l&&w.cssText!==""&&N(a,f,"",w.cssText,s),s.setAttribute("style","");else if(typeof c=="string")w.cssText!==c&&(w.cssText=c);else{typeof A=="string"&&(w.cssText="");for(let E in{...A,...c}){let y=ot(E),b=c&&c[E];if(b==null)l&&w.getPropertyValue(y)!==""&&N(a,f,null,w.getPropertyValue(y),s,`style.${E}`),w.removeProperty(y);else{let Z=ft(y,b);w.getPropertyValue(y)!==Z&&w.setProperty(y,Z)}}}break}case"class":case"className":if(c===!0)l&&s.getAttribute("class")!==""&&N(a,f,"",s.getAttribute("class"),s),s.setAttribute("class","");else if(c==null)l&&s.hasAttribute("class")&&N(a,f,c,s.getAttribute("class"),s),s.removeAttribute("class");else if(typeof c=="object"){typeof A=="string"&&s.setAttribute("class","");let w=!1,E=l?new Set(Array.from(s.classList)):void 0,y=l?s.getAttribute("class"):void 0;for(let b in{...A,...c})c&&c[b]?(s.classList.add(b),E&&E.has(b)?E.delete(b):l&&(w=!0)):s.classList.remove(b);(w||E&&E.size>0)&&N(a,f,Object.keys(c).filter(b=>c[b]).join(" "),y||"",s)}else!h&&!p?s.className!==c&&(l&&N(a,f,c,s.className,s),s.className=c):s.getAttribute("class")!==c&&(l&&N(a,f,c,s.getAttribute("class"),s),s.setAttribute("class",c));break;case"innerHTML":c!==A&&(l&&N(a,f,c,s.innerHTML,s),s.innerHTML=c);break;default:{if(a[0]==="o"&&a[1]==="n"&&a[2]===a[2].toUpperCase()&&typeof c=="function"&&(a=a.toLowerCase()),a in s&&!(typeof c=="string"&&typeof s[a]=="boolean")&&kn(s,a)){let w=s[a],E=c;if((a==="src"||a==="href")&&typeof c=="string"&&typeof w=="string")try{E=new URL(c,s.baseURI).href}catch{}(E!==w||A===void 0)&&(l&&typeof s[a]=="string"&&s[a]!==c&&N(a,f,c,s[a],s),s[a]=c);continue}if(c===!0)c="";else if(c==null||c===!1){l&&s.hasAttribute(a)&&N(a,f,c,s.getAttribute(a),s),s.removeAttribute(a);continue}else typeof c!="string"&&(c=String(c));s.getAttribute(a)!==c&&(l&&N(a,f,c,s.getAttribute(a),s),s.setAttribute(a,c))}}}},arrange({tag:e,node:r,props:t,children:n}){if(e===_&&(r==null||typeof r.nodeType!="number"))throw new TypeError(`<Portal> root is not a node. Received: ${String(r)}`);if(!("innerHTML"in t)){let i=r.firstChild;for(let o=0;o<n.length;o++){let f=n[o];i===f?i=i.nextSibling:(r.insertBefore(f,i),e!==_&&i&&o+1<n.length&&i!==n[o+1]&&(i=i.nextSibling))}}},remove({node:e,parentNode:r,isNested:t}){!t&&e.parentNode===r&&r.removeChild(e)},text({value:e,oldNode:r,hydrationNodes:t}){if(t!=null){let n=t.shift();if(!n||n.nodeType!==Node.TEXT_NODE)console.warn(`Expected "${e}" while hydrating but found:`,n);else{let i=n.data;if(i.length>e.length){if(i.startsWith(e))return n.data=e,t.unshift(document.createTextNode(i.slice(e.length))),n}else if(i===e)return n;console.warn(`Expected "${e}" while hydrating but found:`,i),r=n}}return r!=null?(r.data!==e&&(r.data=e),r):document.createTextNode(e)},raw({value:e,scope:r,hydrationNodes:t}){let n;if(typeof e=="string"){let i=r==null?document.createElement("div"):r===Ke?document.createElementNS(r,"svg"):document.createElementNS(r,"math");i.innerHTML=e,n=Array.from(i.childNodes)}else n=e==null?[]:Array.isArray(e)?[...e]:[e];if(t!=null)for(let i=0;i<n.length;i++){let o=n[i],f=t.shift();f&&typeof f=="object"&&typeof f.nodeType=="number"&&o.isEqualNode(f)?n[i]=f:console.warn(`Expected <Raw value="${String(e)}"> while hydrating but found:`,f)}return n.length===0?void 0:n.length===1?n[0]:n}},cr=class extends je{constructor(){super(Pn)}render(r,t,n){return lt(t),super.render(r,t,n)}hydrate(r,t,n){return lt(t),super.hydrate(r,t,n)}};function lt(e){if(e==null||typeof e=="object"&&typeof e.nodeType!="number")throw new TypeError(`Render root is not a node. Received: ${String(e)}`);if(e.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Render root must be an element node. Received: ${String(e)}`)}var Xn=new cr;export{cr as DOMRenderer,Pn as adapter,Xn as renderer};
/*! Bundled license information:

@esbuild-plugins/node-globals-polyfill/Buffer.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)
*/
