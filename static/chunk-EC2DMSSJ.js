function Ve(e){return e!=null&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"&&typeof e.dispatchEvent=="function"}function $(e,n,t){Object.defineProperty(e,n,{value:t,writable:!1,configurable:!0})}function Je(e){return typeof e=="function"||e!==null&&typeof e=="object"&&typeof e.handleEvent=="function"}function Qe(e){return typeof e=="boolean"?{capture:e}:e??{}}var oe=Symbol.for("CustomEventTarget.parent"),G=Symbol.for("CustomEventTarget.listeners"),X=Symbol.for("CustomEventTarget.delegates"),Le=Symbol.for("CustomEventTarget.dispatchSelf"),ne=class{constructor(n=null){this[oe]=n,this[G]=[],this[X]=new Set}addEventListener(n,t,r){if(!Je(t))return;let i=this[G];r=Qe(r);let o;typeof t=="function"?o=t:o=f=>t.handleEvent(f);let s={type:n,listener:t,callback:o,options:r};if(r.once&&(s.callback=function(){let f=i.indexOf(s);return f!==-1&&i.splice(f,1),o.apply(this,arguments)}),!i.some(f=>s.type===f.type&&s.listener===f.listener&&!s.options.capture==!f.options.capture)){i.push(s);for(let f of this[X])f.addEventListener(n,s.callback,s.options)}}removeEventListener(n,t,r){let i=this[G];if(i==null||!Je(t))return;let o=Qe(r),s=i.findIndex(l=>l.type===n&&l.listener===t&&!l.options.capture==!o.capture);if(s===-1)return;let f=i[s];i.splice(s,1);for(let l of this[X])l.removeEventListener(f.type,f.callback,f.options)}dispatchEvent(n){let t=[];for(let f=this[oe];f;f=f[oe])t.push(f);let r=!1,i=!1,o=n.stopPropagation;$(n,"stopPropagation",()=>(r=!0,o.call(n)));let s=n.stopImmediatePropagation;$(n,"stopImmediatePropagation",()=>(i=!0,s.call(n))),$(n,"target",this);try{$(n,"eventPhase",1);for(let f=t.length-1;f>=0;f--){let l=t[f],a=l[G];$(n,"currentTarget",l);for(let h=0;h<a.length;h++){let c=a[h];if(c.type===n.type&&c.options.capture){try{c.callback.call(l,n)}catch(p){console.error(p)}if(i)return!0}}if(r)return!0}{if($(n,"eventPhase",2),$(n,"currentTarget",this),this[Le](n),i)return!0;let f=this[G];for(let l=0;l<f.length;l++){let a=f[l];if(a.type===n.type){try{a.callback.call(this,n)}catch(h){console.error(h)}if(i)return!0}}if(r)return!0}if(n.bubbles){$(n,"eventPhase",3);for(let f=0;f<t.length;f++){let l=t[f];$(n,"currentTarget",l);let a=l[G];for(let h=0;h<a.length;h++){let c=a[h];if(c.type===n.type&&!c.options.capture){try{c.callback.call(l,n)}catch(p){console.error(p)}if(i)return!0}}if(r)return!0}}}finally{return $(n,"eventPhase",0),$(n,"currentTarget",null),!n.defaultPrevented}}[Le](n){}};ne.dispatchEventOnSelf=Le;function ve(e,n,t=r=>e===r){let r=n.filter(Ve);for(let i=e;i&&t(i);i=i[oe])for(let o=0;o<r.length;o++){let s=r[o];if(!i[X].has(s)){i[X].add(s);for(let f of i[G])s.addEventListener(f.type,f.callback,f.options)}}}function xe(e,n,t=r=>e===r){let r=n.filter(Ve);for(let i=e;i&&t(i);i=i[oe])for(let o=0;o<r.length;o++){let s=r[o];if(i[X].has(s)){i[X].delete(s);for(let f of i[G])s.removeEventListener(f.type,f.callback,f.options)}}}function je(e){let n=e[G],t=e[X];for(let r=0;r<n.length;r++){let i=n[r];for(let o of t)o.removeEventListener(i.type,i.callback,i.options)}n.length=0,t.clear()}function Oe(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function Y(e){return e.length===0?void 0:e.length===1?e[0]:e}function et(e){return e==null?[]:Array.isArray(e)?e:typeof e=="string"||typeof e[Symbol.iterator]!="function"?[e]:[...e]}function tt(e){return e!=null&&typeof e.next=="function"}function S(e){return e!=null&&typeof e.then=="function"}function Et(e){let n=new Set,t={deferreds:n,settled:!1};return Promise.resolve(e).then(r=>{for(let{resolve:i}of n)i(r);n.clear(),t.settled=!0},r=>{for(let{reject:i}of n)i(r);n.clear(),t.settled=!0}),t}var De=new WeakMap;function le(e){let n;return new Promise((r,i)=>{n={resolve:r,reject:i};for(let o of e){if(!S(o)){Promise.resolve(o).then(r,i);continue}let s=De.get(o);s===void 0?(s=Et(o),s.deferreds.add(n),De.set(o,s)):s.settled?Promise.resolve(o).then(r,i):s.deferreds.add(n)}}).finally(()=>{for(let r of e)if(S(r)){let i=De.get(r);i&&i.deferreds.delete(n)}})}var U=()=>{};function C(e){return typeof e=="function"?e.name||"Anonymous":typeof e=="string"?e:e.description||"Anonymous"}var K="",T=Symbol.for("crank.Portal"),ze=Symbol.for("crank.Copy"),Z=Symbol.for("crank.Text"),Pe=Symbol.for("crank.Raw"),ct=Symbol.for("crank.Element"),ue=class{constructor(n,t){this.tag=n,this.props=t}};ue.prototype.$$typeof=ct;function dt(e){return e!=null&&e.$$typeof===ct}var nt=["crank-","c-","$"],rt=["key","ref","static","copy"];function pe(e,n,...t){n==null&&(n={}),"static"in n&&(console.error("The `static` prop is deprecated. Use `copy` instead."),n.copy=n.static,delete n.static);for(let r=0;r<nt.length;r++){let i=nt[r];for(let o=0;o<rt.length;o++){let s=rt[o],f=i+s;if(f in n){let l=s==="static"?"copy":s;console.error(`The \`${f}\` prop is deprecated. Use \`${l}\` instead.`),n[l]=n[f],delete n[f]}}}return t.length>1?n.children=t:t.length===1&&(n.children=t[0]),new ue(e,n)}function Pt(e){if(!dt(e))throw new TypeError(`Cannot clone non-element: ${String(e)}`);return new ue(e.tag,{...e.props})}function Fe(e){if(!(typeof e=="boolean"||e==null)){{if(typeof e=="string"||dt(e))return e;if(typeof e[Symbol.iterator]=="function")return pe(K,null,e)}return e.toString()}}var _=1,j=2,re=4,he=8,A=16,ce=32,I=64,it=128,L=256,R=512,We=1024,Q=2048,V=4096,ge=8192,H=16384,O=32768,ie=65536,ae=1<<17;function u(e,n){return!!(e.f&n)}function d(e,n,t=!0){t?e.f|=n:e.f&=~n}var F=class{constructor(n){this.f=0,this.el=n,this.ctx=void 0,this.children=void 0,this.fallback=void 0,this.value=void 0,this.oldProps=void 0,this.pendingDiff=void 0,this.onNextDiff=void 0,this.graveyard=void 0,this.lingerers=void 0}};function ut(e){let n=new F(e.el);return n.f=e.f,n.ctx=e.ctx,n.children=e.children,n.fallback=e.fallback,n.value=e.value,n.scope=e.scope,n.oldProps=e.oldProps,n.pendingDiff=e.pendingDiff,n.onNextDiff=e.onNextDiff,n.graveyard=e.graveyard,n.lingerers=e.lingerers,n}function P(e,n=!1,t){return u(e,I)&&n?e.fallback?P(e.fallback,n,t):void 0:e.fallback&&!u(e,_)?e.fallback?P(e.fallback,n,t):e.fallback:e.el.tag===T?void 0:e.el.tag===K||typeof e.el.tag=="function"?(t!=null&&e.ctx&&(e.ctx.index=t),Y(z(e,t))):e.value}function z(e,n){let t=[],r=e.lingerers,i=e.children,o=Array.isArray(i),s=i===void 0?0:o?i.length:1,f=n;for(let l=0;l<s;l++){if(r!=null&&r[l]!=null){let h=r[l];for(let c of h){let p=P(c,!0,f);if(Array.isArray(p)){for(let k=0;k<p.length;k++)t.push(p[k]);f!=null&&(f+=p.length)}else p&&(t.push(p),f!=null&&f++)}}let a=o?i[l]:i;if(a){let h=P(a,!0,f);if(Array.isArray(h)){for(let c=0;c<h.length;c++)t.push(h[c]);f!=null&&(f+=h.length)}else h&&(t.push(h),f!=null&&f++)}}if(r!=null&&r.length>s)for(let l=s;l<r.length;l++){let a=r[l];if(a!=null)for(let h of a){let c=P(h,!0,f);if(Array.isArray(c)){for(let p=0;p<c.length;p++)t.push(c[p]);f!=null&&(f+=c.length)}else c&&(t.push(c),f!=null&&f++)}}return t}function Ne(e){let n,t;return{key:n,ref:n,copy:n,hydrate:n,children:n,...t}=e,t}var At={create(){throw new Error("adapter must implement create")},adopt(){throw new Error("adapter must implement adopt() for hydration")},scope:({scope:e})=>e,read:e=>e,text:({value:e})=>e,raw:({value:e})=>e,patch:U,arrange:U,remove:U,finalize:U},Ae=class{constructor(n){this.cache=new WeakMap,this.adapter={...At,...n}}render(n,t,r){let i=ot(this,r,{children:n,root:t});return st(this.adapter,t,i,n)}hydrate(n,t,r){let i=ot(this,r,{children:n,root:t,hydrate:!0});return st(this.adapter,t,i,n)}};function ot(e,n,{children:t,root:r,hydrate:i}){let o,s=n&&n[N];typeof r=="object"&&r!==null&&(o=e.cache.get(r));let f=e.adapter;if(o===void 0)o=new F(pe(T,{children:t,root:r,hydrate:i})),o.value=r,o.ctx=s,o.scope=f.scope({tag:T,tagName:C(T),props:Ne(o.el.props),scope:void 0,root:r}),typeof r=="object"&&r!==null&&t!=null&&e.cache.set(r,o);else{if(o.ctx!==s)throw new Error("A previous call to render() was passed a different context");o.el=pe(T,{children:t,root:r,hydrate:i}),typeof r=="object"&&r!==null&&t==null&&e.cache.delete(r)}return o}function st(e,n,t,r){let i=we(e,n,t,t.ctx,t.scope,t,r),o=[];return S(i)?i.then(()=>(Ie(e,t,t,t.ctx,t.scope,n,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof n!="object"||n===null)&&M(e,t,t.ctx,n,t,!1),e.read(Y(z(t))))):((typeof n!="object"||n===null)&&M(e,t,t.ctx,n,t,!1),e.read(Y(z(t)))))):(Ie(e,t,t,t.ctx,t.scope,n,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof n!="object"||n===null)&&M(e,t,t.ctx,n,t,!1),e.read(Y(z(t))))):((typeof n!="object"||n===null)&&M(e,t,t.ctx,n,t,!1),e.read(Y(z(t)))))}function St(e,n,t,r,i,o,s){let f=Fe(s),l=o.children,a,h;if(typeof f=="object"){let c=!1,p=typeof l=="object"?l.el.props.key:void 0,k=f.props.key;if(p!==k&&(typeof l=="object"&&(a=a||[]).push(l),l=void 0),f.tag===ze)c=!0;else if(typeof l=="object"&&l.el===f&&u(l,j))c=!0;else{if(l&&l.el.tag===f.tag)l.el=f,f.props.copy&&typeof f.props.copy!="string"&&(c=!0);else if(l){let g=!1;for(let m=l,y=l.fallback;y;m=y,y=y.fallback)if(y.el.tag===f.tag){let b=ut(y);d(b,We),m.fallback=b;let B=l;l=y,l.el=f,l.fallback=B,d(l,_,!1),g=!0;break}if(!g){let m=l;l=new F(f),l.fallback=m}}else l=new F(f);c&&u(l,j)||f.tag===Pe||f.tag===Z||(f.tag===K?h=we(e,n,t,r,i,l,l.el.props.children):typeof f.tag=="function"?h=Ke(e,n,t,r,i,l):h=pt(e,n,r,i,l))}typeof l=="object"&&(c?(d(l,re),h=Ge(l)):d(l,re,!1))}else typeof f=="string"?typeof l=="object"&&l.el.tag===Z?l.el.props.value=f:(typeof l=="object"&&(a=a||[]).push(l),l=new F(pe(Z,{value:f}))):(typeof l=="object"&&(a=a||[]).push(l),l=void 0);if(o.children=l,S(h)){let c=h.finally(()=>{if(d(o,_),a)if(o.graveyard)for(let g=0;g<a.length;g++)o.graveyard.push(a[g]);else o.graveyard=a}),p,k=o.pendingDiff=le([c,new Promise(g=>p=g)]);return o.onNextDiff&&o.onNextDiff(k),o.onNextDiff=p,k}else{if(d(o,_),a)if(o.graveyard)for(let c=0;c<a.length;c++)o.graveyard.push(a[c]);else o.graveyard=a;o.onNextDiff&&(o.onNextDiff(h),o.onNextDiff=void 0),o.pendingDiff=void 0}}function we(e,n,t,r,i,o,s){if(!Array.isArray(s)&&(typeof s!="object"||s===null||typeof s[Symbol.iterator]!="function")&&!Array.isArray(o.children))return St(e,n,t,r,i,o,s);let f=Oe(o.children),l=[],a=et(s),h=[],c,p,k=!1,g=0,m=f.length,y;for(let b=0,B=a.length;b<B;b++){let w=g>=m?void 0:f[g],E=Fe(a[b]);{let W=typeof w=="object"?w.el.props.key:void 0,D=typeof E=="object"?E.props.key:void 0;if(D!==void 0&&p&&p.has(D)&&(console.error(`Duplicate key found in <${C(o.el.tag)}>`,D),E=Pt(E),D=E.props.key=void 0),W===D)c!==void 0&&D!==void 0&&c.delete(D),g++;else if(c=c||Ct(f,g),D===void 0){for(;w!==void 0&&W!==void 0;)g++,w=f[g],W=typeof w=="object"?w.el.props.key:void 0;g++}else w=c.get(D),w!==void 0&&c.delete(D),(p=p||new Set).add(D)}let te;if(typeof E=="object"){let W=!1;if(E.tag===ze)W=!0;else if(typeof w=="object"&&w.el===E&&u(w,j))W=!0;else{if(w&&w.el.tag===E.tag)w.el=E,E.props.copy&&typeof E.props.copy!="string"&&(W=!0);else if(w){let D=!1;for(let me=w,q=w.fallback;q;me=q,q=q.fallback)if(q.el.tag===E.tag){let qe=ut(q);d(qe,We),me.fallback=qe;let mt=w;w=q,w.el=E,w.fallback=mt,d(w,_,!1),D=!0;break}if(!D){let me=w;w=new F(E),w.fallback=me}}else w=new F(E);W&&u(w,j)||E.tag===Pe||E.tag===Z||(E.tag===K?te=we(e,n,t,r,i,w,w.el.props.children):typeof E.tag=="function"?te=Ke(e,n,t,r,i,w):te=pt(e,n,r,i,w))}typeof w=="object"&&(W?(d(w,re),te=Ge(w)):d(w,re,!1)),S(te)&&(k=!0)}else typeof E=="string"?typeof w=="object"&&w.el.tag===Z?w.el.props.value=E:(typeof w=="object"&&(y=y||[]).push(w),w=new F(pe(Z,{value:E}))):(typeof w=="object"&&(y=y||[]).push(w),w=void 0);h[b]=te,l[b]=w}for(;g<m;g++){let b=f[g];typeof b=="object"&&(typeof b.el.props.key>"u"||!p||!p.has(b.el.props.key))&&(y=y||[]).push(b)}if(c!==void 0&&c.size>0){y=y||[];for(let b of c.values())y.push(b)}if(o.children=Y(l),k){let b=Promise.all(h).then(()=>{}).finally(()=>{if(d(o,_),y)if(o.graveyard)for(let E=0;E<y.length;E++)o.graveyard.push(y[E]);else o.graveyard=y}),B,w=o.pendingDiff=le([b,new Promise(E=>B=E)]);return o.onNextDiff&&o.onNextDiff(w),o.onNextDiff=B,w}else{if(d(o,_),y)if(o.graveyard)for(let b=0;b<y.length;b++)o.graveyard.push(y[b]);else o.graveyard=y;o.onNextDiff&&(o.onNextDiff(h),o.onNextDiff=void 0),o.pendingDiff=void 0}}function Ge(e){if(e.ctx&&e.ctx.inflight)return e.ctx.inflight[1];if(e.pendingDiff)return e.pendingDiff}function Ct(e,n){let t=new Map;for(let r=n;r<e.length;r++){let i=e[r];typeof i=="object"&&typeof i.el.props.key<"u"&&t.set(i.el.props.key,i)}return t}function pt(e,n,t,r,i){let o=i.el,s=o.tag;return o.tag===T&&(n=i.value=o.props.root),u(i,j)?r=i.scope:r=i.scope=e.scope({tag:s,tagName:C(s),props:o.props,scope:r,root:n}),we(e,n,i,t,r,i,i.el.props.children)}function Ie(e,n,t,r,i,o,s,f,l){if(u(t,re)&&u(t,j))return P(t);let a=t.el,h=a.tag;(typeof h=="function"||h===K||h===T||h===Pe||h===Z)&&(typeof a.props.copy=="string"&&console.error(`String copy prop ignored for <${C(h)}>. Use booleans instead.`),typeof a.props.hydrate=="string"&&console.error(`String hydrate prop ignored for <${C(h)}>. Use booleans instead.`));let c,p;return l&&a.props.hydrate!=null&&!a.props.hydrate&&typeof a.props.hydrate!="string"&&(p=l,l=void 0),typeof h=="function"?(t.ctx.index=s,c=x(t.ctx,f,l)):(h===K?c=He(e,n,r,i,o,t,s,f,l):h===Z?c=Tt(e,t,a,i,l,o):h===Pe?c=Nt(e,n,t,i,l,o):c=Rt(e,t,r,o,f,l),t.fallback&&(M(e,n,r,o,t.fallback,!1),t.fallback=void 0)),p&&p.splice(0,c==null?0:Array.isArray(c)?c.length:1),u(t,j)||(d(t,j),typeof h!="function"&&h!==K&&h!==T&&typeof a.props.ref=="function"&&a.props.ref(e.read(c))),c}function He(e,n,t,r,i,o,s,f,l){let a=[],h=o.children,c=Array.isArray(h),p=h===void 0?0:c?h.length:1;for(let k=0;k<p;k++){let g=c?h[k]:h,m,y=!1;for(;g&&(!u(g,_)&&g.fallback||u(g,I));){if(u(g,I)&&g.ctx.schedule&&((m=m||[]).push(g.ctx.schedule.promise),y=!0),!u(g,_)&&u(g,j))for(let b of z(g))e.remove({node:b,parentNode:n.value,isNested:!1,root:i});if(g=g.fallback,m&&y&&g){if(u(g,_))m=void 0;else{let b=Ge(g);m.push(b)}u(g,it)?y=!0:(d(g,it,!0),y=!1)}}if(m&&m.length>1&&f.push(le(m)),g){let b=Ie(e,n,g,t,r,i,s,f,l);if(Array.isArray(b)){for(let B=0;B<b.length;B++)a.push(b[B]);s+=b.length}else b&&(a.push(b),s++)}}if(o.graveyard){for(let k=0;k<o.graveyard.length;k++){let g=o.graveyard[k];M(e,n,t,i,g,!1)}o.graveyard=void 0}return o.lingerers&&(a=z(o)),a}function Tt(e,n,t,r,i,o){let s=e.text({value:t.props.value,scope:r,oldNode:n.value,hydrationNodes:i,root:o});return n.value=s,s}function Nt(e,n,t,r,i,o){if(!t.oldProps||t.oldProps.value!==t.el.props.value){let s=Oe(t.value);for(let f=0;f<s.length;f++){let l=s[f];e.remove({node:l,parentNode:n.value,isNested:!1,root:o})}t.value=e.raw({value:t.el.props.value,scope:r,hydrationNodes:i,root:o})}return t.oldProps=Ne(t.el.props),t.value}function Rt(e,n,t,r,i,o){if(u(n,re)&&u(n,j))return P(n);let s=n.el.tag,f=Ne(n.el.props),l=n.oldProps,a=n.value,h,c=!1;if(l){for(let y in f)f[y]===ze&&(f[y]=l[y],(h=h||new Set).add(y));if(typeof n.el.props.copy=="string"){let y=new Se("copy",n.el.props.copy);if(y.include)for(let b of y.props)b in l&&(f[b]=l[b],(h=h||new Set).add(b));else for(let b in l)y.props.has(b)||(f[b]=l[b],(h=h||new Set).add(b));c=y.includes("children")}}let p=n.scope,k,g,m;if(!u(n,j))if(s===T){if(n.el.props.hydrate&&typeof n.el.props.hydrate!="string"&&(k=e.adopt({tag:s,tagName:C(s),node:a,props:f,scope:p,root:r}),k))for(let y=0;y<k.length;y++)e.remove({node:k[y],parentNode:a,isNested:!1,root:r})}else{if(!a&&o){let y=o.shift();if(typeof n.el.props.hydrate=="string")if(m=new Se("hydration",n.el.props.hydrate),m.include){g=new Set(Object.keys(f));for(let b of m.props)g.delete(b)}else g=m.props;if(k=e.adopt({tag:s,tagName:C(s),node:y,props:f,scope:p,root:r}),k){a=y;for(let b=0;b<k.length;b++)e.remove({node:k[b],parentNode:a,isNested:!1,root:r})}}a||(a=e.create({tag:s,tagName:C(s),props:f,scope:p,root:r})),n.value=a}if(s!==T&&e.patch({tag:s,tagName:C(s),node:a,props:f,oldProps:l,scope:p,root:r,copyProps:h,isHydrating:!!k,quietProps:g}),!c){let y=He(e,n,t,p,s===T?a:r,n,0,i,m&&!m.includes("children")?void 0:k);e.arrange({tag:s,tagName:C(s),node:a,props:f,children:y,oldProps:l,scope:p,root:r})}if(n.oldProps=f,s===T){gt(e,n.value);return}return a}var Se=class{constructor(n,t){this.include=!0,this.props=new Set;let r=!0,i=!0,o=t.split(/[,\s]+/);for(let s=0;s<o.length;s++){let f=o[s].trim();if(f)f.startsWith("!")?(r=!1,this.props.add(f.slice(1))):(i=!1,this.props.add(f));else continue}!i&&!r?(console.error(`Invalid ${n} prop "${t}".
Use prop or !prop but not both.`),this.include=!0,this.props.clear()):this.include=r}includes(n){return this.include?this.props.has(n):!this.props.has(n)}};function Lt(e,n){for(let t=n;t!==void 0;t=t.parent)if(t===e)return!0;return!1}var ht={};function gt(e,n,t){n!=null&&e.finalize(n),(typeof n!="object"||n===null)&&(n=ht);let r=de.get(n);if(r){let i=new Map;for(let[o,s]of r)(u(o.ret,I)||t&&!Lt(t,o))&&(r.delete(o),i.set(o,s));i.size?de.set(n,i):de.delete(n);for(let[o,s]of r){let f=e.read(P(o.ret));for(let l of s)l(f)}}}function M(e,n,t,r,i,o){if(i.fallback&&(M(e,n,t,r,i.fallback,o),i.fallback=void 0),!u(i,We)){if(i.lingerers){for(let s=0;s<i.lingerers.length;s++){let f=i.lingerers[s];if(f)for(let l of f)M(e,n,t,r,l,o)}i.lingerers=void 0}typeof i.el.tag=="function"?jt(i.ctx,o):i.el.tag===K?Ee(e,n,t,r,i,o):i.el.tag===T?(Ee(e,i,t,i.value,i,!1),i.value!=null&&e.finalize(i.value)):(Ee(e,i,t,r,i,!0),u(i,j)&&(t&&xe(t.ctx,[i.value],s=>s[N].host===n),e.remove({node:i.value,parentNode:n.value,isNested:o,root:r})))}}function Ee(e,n,t,r,i,o){if(i.graveyard){for(let f=0;f<i.graveyard.length;f++){let l=i.graveyard[f];M(e,n,t,r,l,o)}i.graveyard=void 0}let s=i.children;if(Array.isArray(s))for(let f=0;f<s.length;f++){let l=s[f];typeof l=="object"&&M(e,n,t,r,l,o)}else s!==void 0&&M(e,n,t,r,s,o)}var Me=new WeakMap,Ce=new WeakMap,Te=new WeakMap,de=new WeakMap,_e=class{constructor(n,t,r,i,o,s){this.adapter=n,this.root=t,this.host=r,this.parent=i,this.ctx=new Be(this),this.scope=o,this.ret=s,this.iterator=void 0,this.inflight=void 0,this.enqueued=void 0,this.onPropsProvided=void 0,this.onPropsRequested=void 0,this.pull=void 0,this.index=0,this.schedule=void 0}},N=Symbol.for("crank.ContextState"),Be=class extends ne{constructor(n){super(n.parent?n.parent.ctx:null),this[N]=n}get props(){return this[N].ret.el.props}get value(){return console.warn("Context.value is deprecated."),this[N].adapter.read(P(this[N].ret))}get isExecuting(){return u(this[N].ret,A)}get isUnmounted(){return u(this[N].ret,L)}*[Symbol.iterator](){let n=this[N];d(n.ret,ge);try{for(;!u(n.ret,L)&&!u(n.ret,R);){if(u(n.ret,O))throw new Error(`<${C(n.ret.el.tag)}> context iterated twice without a yield`);d(n.ret,O),yield n.ret.el.props}}finally{d(n.ret,ge,!1)}}async*[Symbol.asyncIterator](){let n=this[N];d(n.ret,H);try{for(;!u(n.ret,L)&&!u(n.ret,R);){if(u(n.ret,O))throw new Error(`<${C(n.ret.el.tag)}> context iterated twice without a yield`);if(d(n.ret,O),u(n.ret,ie))d(n.ret,ie,!1),yield n.ret.el.props;else{let t=await new Promise(r=>n.onPropsProvided=r);if(u(n.ret,L)||u(n.ret,R))break;yield t}n.onPropsRequested&&(n.onPropsRequested(),n.onPropsRequested=void 0)}}finally{d(n.ret,H,!1),n.onPropsRequested&&(n.onPropsRequested(),n.onPropsRequested=void 0)}}refresh(n){let t=this[N];if(u(t.ret,L))return console.error(`Component <${C(t.ret.el.tag)}> is unmounted. Check the isUnmounted property if necessary.`),t.adapter.read(P(t.ret));if(u(t.ret,A))return console.error(`Component <${C(t.ret.el.tag)}> is already executing Check the isExecuting property if necessary.`),t.adapter.read(P(t.ret));if(n){let o=n();if(S(o))return Promise.resolve(o).then(()=>u(t.ret,L)?t.adapter.read(P(t.ret)):this.refresh())}u(t.ret,I)&&d(t.ret,ae);let r,i=[];try{if(d(t.ret,ce),r=yt(t),S(r))return r.then(()=>t.adapter.read(x(t,i))).then(s=>i.length?Promise.all(i).then(()=>t.adapter.read(P(t.ret))):s).catch(s=>{let f=be(t,s,i);return f?f.then(()=>i.length?Promise.all(i).then(()=>t.adapter.read(P(t.ret))):t.adapter.read(P(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(P(t.ret))):t.adapter.read(P(t.ret))}).finally(()=>d(t.ret,ce,!1));let o=t.adapter.read(x(t,i));return i.length?Promise.all(i).then(()=>t.adapter.read(P(t.ret))):o}catch(o){let s=be(t,o,i);return s?s.then(()=>{if(i.length)return Promise.all(i).then(()=>t.adapter.read(P(t.ret)))}).then(()=>t.adapter.read(P(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(P(t.ret))):t.adapter.read(P(t.ret))}finally{S(r)||d(t.ret,ce,!1)}}schedule(n){if(!n)return new Promise(i=>this.schedule(i));let t=this[N],r=Ce.get(t);r||(r=new Set,Ce.set(t,r)),r.add(n)}after(n){if(!n)return new Promise(s=>this.after(s));let t=this[N],r=t.root||ht,i=de.get(r);i||(i=new Map,de.set(r,i));let o=i.get(t);o||(o=new Set,i.set(t,o)),o.add(n)}flush(n){console.error("Context.flush() method has been renamed to after()"),this.after(n)}cleanup(n){if(!n)return new Promise(i=>this.cleanup(i));let t=this[N];if(u(t.ret,L)){let i=t.adapter.read(P(t.ret));n(i);return}let r=Te.get(t);r||(r=new Set,Te.set(t,r)),r.add(n)}consume(n){for(let t=this[N].parent;t!==void 0;t=t.parent){let r=Me.get(t);if(r&&r.has(n))return r.get(n)}}provide(n,t){let r=this[N],i=Me.get(r);i||(i=new Map,Me.set(r,i)),i.set(n,t)}[ne.dispatchEventOnSelf](n){let t=this[N],r=t.ret.el.props["on"+n.type];if(typeof r=="function")r(n);else for(let i in t.ret.el.props)i.toLowerCase()==="on"+n.type.toLowerCase()&&(r=t.ret.el.props[i],typeof r=="function"&&r(n))}};function Ke(e,n,t,r,i,o){let s;if(o.ctx){if(s=o.ctx,u(s.ret,A)){console.error(`Component <${C(s.ret.el.tag)}> is already executing`);return}else if(s.schedule)return s.schedule.promise.then(()=>Ke(e,n,t,r,i,o))}else s=o.ctx=new _e(e,n,t,r,i,o);return d(s.ret,he),yt(s)}function J(e,n,t){if(u(e.ret,L)||u(e.ret,R))return;n===void 0&&console.error(`Component <${C(e.ret.el.tag)}> has ${t?"yielded":"returned"} undefined. If this was intentional, ${t?"yield":"return"} null instead.`);let r;try{d(e.ret,A),r=we(e.adapter,e.root,e.host,e,e.scope,e.ret,Fe(n)),r&&(r=r.catch(i=>Ue(e,i)))}catch(i){r=Ue(e,i)}finally{d(e.ret,A,!1)}return r}function yt(e){if(e.inflight){if(!e.enqueued){let n;e.enqueued=[new Promise(t=>n=t).finally(()=>ft(e)),e.inflight[0].finally(()=>{let[t,r]=lt(e);return n(t),r})]}}else{let[n,t]=lt(e);return n&&(e.inflight=[n.finally(()=>ft(e)),t]),t}return e.enqueued[1]}function ft(e){e.inflight=e.enqueued,e.enqueued=void 0}function lt(e){if(u(e.ret,L))return[void 0,void 0];let n=e.ret,t=!e.iterator;if(t){d(e.ret,A),je(e.ctx);let i;try{i=n.el.tag.call(e.ctx,n.el.props,e.ctx)}catch(o){throw d(e.ret,R),o}finally{d(e.ret,A,!1)}if(tt(i))e.iterator=i;else if(S(i)){let o=i instanceof Promise?i:Promise.resolve(i);return[o.catch(U),o.then(s=>J(e,s,!1),s=>{throw d(e.ret,R),s})]}else return[void 0,J(e,i,!1)]}let r;if(t){try{d(e.ret,A),r=e.iterator.next()}catch(i){throw d(e.ret,R),i}finally{d(e.ret,A,!1)}S(r)?d(e.ret,V):d(e.ret,Q)}if(u(e.ret,Q)){if(!t)try{d(e.ret,A);let s=e.adapter.read(P(e.ret));r=e.iterator.next(s)}catch(s){throw d(e.ret,R),s}finally{d(e.ret,A,!1)}if(S(r))throw new Error("Mixed generator component");u(e.ret,ge)&&!u(e.ret,O)&&!u(e.ret,L)&&!u(e.ret,ae)&&console.error(`Component <${C(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),d(e.ret,O,!1),d(e.ret,ae,!1),r.done&&(d(e.ret,Q,!1),e.iterator=void 0);let i=J(e,r.value,!r.done);return[S(i)?i.catch(U):void 0,i]}else{if(u(e.ret,H))return at(e,r),[ye(e),e.pull&&e.pull.diff];{if(ye(e),!t)try{d(e.ret,A);let o=e.adapter.read(P(e.ret));r=e.iterator.next(o)}catch(o){throw d(e.ret,R),o}finally{d(e.ret,A,!1)}if(!S(r))throw new Error("Mixed generator component");let i=r.then(o=>(u(e.ret,H)?at(e,o):u(e.ret,ge)&&!u(e.ret,O)&&!u(e.ret,L)&&!u(e.ret,ae)&&console.error(`Component <${C(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),d(e.ret,O,!1),d(e.ret,ae,!1),o.done&&(d(e.ret,V,!1),e.iterator=void 0),J(e,o.value,!o.done)),o=>{throw d(e.ret,R),o});return[i.catch(U),i]}}}function ye(e){if(e.onPropsProvided)e.onPropsProvided(e.ret.el.props),e.onPropsProvided=void 0,d(e.ret,ie,!1);else if(d(e.ret,ie),u(e.ret,H))return new Promise(n=>e.onPropsRequested=n);return e.pull&&e.pull.iterationP&&e.pull.iterationP.then(U,U)}async function at(e,n){if(!n||e.pull)return;e.pull={iterationP:void 0,diff:void 0,onChildError:void 0};let t=!1;try{let r;for(;!t;){S(n)&&(e.pull.iterationP=n);let i;e.pull.diff=new Promise(l=>i=l).then(()=>{u(e.ret,he)||u(e.ret,ce)||x(e,[])},l=>{if(!(u(e.ret,he)||u(e.ret,ce))||!u(e.ret,O))return be(e,l,[]);throw l});let o;try{o=await n}catch(l){t=!0,d(e.ret,R),d(e.ret,O,!1),i(Promise.reject(l));break}let s;{let l=!0,a=new Promise((h,c)=>{e.ctx.schedule(h),e.pull.onChildError=p=>{if(c(p),l)return r=p,ye(e),e.pull.diff}});a.catch(U),s=Object.create(a),s.then=function(h,c){return l=!1,a.then(h,c)},s.catch=function(h){return l=!1,a.catch(h)}}if(r!=null)try{if(d(e.ret,A),typeof e.iterator.throw!="function")throw r;o=await e.iterator.throw(r)}catch(l){t=!0,d(e.ret,R),d(e.ret,O,!1),i(Promise.reject(l));break}finally{r=void 0,d(e.ret,A,!1)}u(e.ret,H)||d(e.ret,ie,!1),t=!!o.done;let f;try{S(n)?!u(e.ret,O)&&u(e.ret,ie)&&u(e.ret,H)?f=void 0:f=J(e,o.value,!o.done):f=void 0}catch(l){i(Promise.reject(l))}finally{i(f),d(e.ret,O,!1)}if(u(e.ret,L)){for(;(!o||!o.done)&&e.iterator&&u(e.ret,H);)try{d(e.ret,A),o=await e.iterator.next(s)}catch(l){throw d(e.ret,R),l}finally{d(e.ret,A,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{d(e.ret,A),await e.iterator.return()}catch(l){throw d(e.ret,R),l}finally{d(e.ret,A,!1)}break}else if(u(e.ret,H)){if(!o.done)try{d(e.ret,A),n=e.iterator.next(s)}finally{d(e.ret,A,!1)}}else break}}finally{t&&(d(e.ret,V,!1),e.iterator=void 0),e.pull=void 0}}function x(e,n,t){if(e.schedule)return e.schedule.promise.then(()=>{x(e,[]),$e(e)}),P(e.ret);let r=He(e.adapter,e.host,e,e.scope,e.root,e.ret,e.index,n,t);if(u(e.ret,L))return;ve(e.ctx,r);let i=u(e.ret,I),o,s=Ce.get(e);if(s){Ce.delete(e),d(e.ret,I);let f=e.adapter.read(Y(r));for(let l of s){let a=l(f);S(a)&&(o=o||[]).push(a)}if(o&&!u(e.ret,j)){let l=Promise.all(o).then(()=>{d(e.ret,I,i),$e(e),e.ret.fallback&&M(e.adapter,e.host,e.parent,e.root,e.ret.fallback,!1),e.ret.fallback=void 0}),a,h=le([l,new Promise(c=>a=c)]).finally(()=>{e.schedule=void 0});e.schedule={promise:h,onAbort:a},n.push(h)}else d(e.ret,I,i)}else d(e.ret,I,i);return u(e.ret,I)||(u(e.ret,he)||$e(e),e.ret.fallback&&M(e.adapter,e.host,e.parent,e.root,e.ret.fallback,!1),e.ret.fallback=void 0,d(e.ret,he,!1)),d(e.ret,j),P(e.ret,!0)}function vt(e,n){let t=[n];for(;t.length>0;){let r=t.pop();if(r===e)return!0;let i=r!==n&&(typeof r.el.tag=="string"&&r.el.tag!==K||r.el.tag===T);if(r.children&&!i)if(Array.isArray(r.children))for(let o of r.children)o&&t.push(o);else t.push(r.children);r.fallback&&!u(r,_)&&t.push(r.fallback)}return!1}function $e(e){let n=z(e.ret,e.index);ve(e.ctx,n,s=>s[N].host===e.host);let t=e.host,r=e.ret;if(!vt(r,t)||!u(t,j))return;let i=Ne(t.el.props),o=z(t,0);e.adapter.arrange({tag:t.el.tag,tagName:C(t.el.tag),node:t.value,props:i,oldProps:i,children:o,scope:t.scope,root:e.root}),gt(e.adapter,e.root,e)}async function jt(e,n){if(u(e.ret,L))return;let t,r=Te.get(e);if(r){let o=e.adapter.read(P(e.ret));Te.delete(e);for(let s of r){let f=s(o);S(f)&&(t=t||[]).push(f)}}let i=!1;if(!n&&t&&z(e.ret).length>0){i=!0;let o=e.index,s=e.host.lingerers||(e.host.lingerers=[]),f=s[o];f==null&&(f=new Set,s[o]=f),f.add(e.ret),await Promise.all(t),f.delete(e.ret),f.size===0&&(s[o]=void 0),s.some(Boolean)||(e.host.lingerers=void 0)}if(!u(e.ret,L)&&(d(e.ret,L),e.schedule&&(e.schedule.onAbort(),e.schedule=void 0),je(e.ctx),Ee(e.adapter,e.host,e,e.root,e.ret,n),i&&e.root!=null&&e.adapter.finalize(e.root),e.iterator)){if(e.pull){ye(e);return}e.inflight&&await e.inflight[1];let o;if(u(e.ret,ge))try{d(e.ret,A);let s=e.adapter.read(P(e.ret)),f=e.iterator.next(s);if(S(f)){if(!u(e.ret,V))throw new Error("Mixed generator component");o=await f}else{if(!u(e.ret,Q))throw new Error("Mixed generator component");o=f}}catch(s){throw d(e.ret,R),s}finally{d(e.ret,A,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{d(e.ret,A);let s=e.iterator.return();if(S(s)){if(!u(e.ret,V))throw new Error("Mixed generator component");o=await s}else{if(!u(e.ret,Q))throw new Error("Mixed generator component");o=s}}catch(s){throw d(e.ret,R),s}finally{d(e.ret,A,!1)}}}function Ue(e,n){if(!e.iterator)throw n;if(e.pull)return e.pull.onChildError(n),e.pull.diff;if(!e.iterator.throw)throw n;ye(e);let t;try{d(e.ret,A),t=e.iterator.throw(n)}catch(r){throw d(e.ret,R),r}finally{d(e.ret,A,!1)}return S(t)?t.then(r=>(r.done&&(d(e.ret,Q,!1),d(e.ret,V,!1),e.iterator=void 0),J(e,r.value,!r.done)),r=>{throw d(e.ret,R),r}):(t.done&&(d(e.ret,Q,!1),d(e.ret,V,!1),e.iterator=void 0),J(e,t.value,!t.done))}function be(e,n,t){let r=e.parent;if(!r)throw n;let i;try{i=Ue(r,n)}catch(o){return be(r,o,t)}if(S(i))return i.then(()=>{x(r,t)},o=>be(r,o,t));x(r,t)}function Xe(e){return/^[A-Z]/.test(e)?`-${e.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`).slice(1)}`:e.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}var Dt=new Set(["animation-iteration-count","aspect-ratio","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom"]);function bt(e,n){return typeof n=="number"?Dt.has(e)?String(n):`${n}px`:String(n)}var Ye={accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",xmlnsXlink:"xmlns:xlink"};var ee="http://www.w3.org/2000/svg",ke="http://www.w3.org/1998/Math/MathML";function Re(e){return e&&e.ownerDocument?e.ownerDocument:e&&e.nodeType===Node.DOCUMENT_NODE?e:document}function Ot(e,n){let t=e;do if(Object.prototype.hasOwnProperty.call(t,n))break;while(t=Object.getPrototypeOf(t));if(t===null)return!1;let r=Object.getOwnPropertyDescriptor(t,n);return r!=null&&(r.writable===!0||r.set!==void 0)}function v(e,n,t,r,i,o){let s=e,f=o||e;if(!n||!n.has(s))if(t===null||t===!1)console.warn(`Expected "${f}" to be missing but found ${String(r)} while hydrating:`,i);else if(t===!0||t==="")console.warn(`Expected "${f}" to be ${t===!0?"present":'""'} but found ${String(r)} while hydrating:`,i);else{let l=i.ownerDocument.defaultView;if(l&&l.location){let a=l.location.origin;if(new URL(t,a).href===new URL(r,a).href)return}console.warn(`Expected "${f}" to be "${String(t)}" but found ${String(r)} while hydrating:`,i)}}function wt(e,n,t,r,i,o,s,f,l,a){if(f!=null&&f.has(n))return;let h=n.indexOf(":");if(h!==-1){let[c,p]=[n.slice(0,h),n.slice(h+1)];switch(c){case"prop":e[p]=t;return;case"attr":if(t==null||t===!1){a&&e.hasAttribute(p)&&v(n,l,t,e.getAttribute(p),e),e.removeAttribute(p);return}else if(t===!0){a&&!e.hasAttribute(p)&&v(n,l,t,null,e),e.setAttribute(p,"");return}typeof t!="string"&&(t=String(t)),a&&e.getAttribute(p)!==t&&v(n,l,t,e.getAttribute(p),e),e.setAttribute(p,t);return}}switch(n){case"style":{let c=e.style;if(t==null||t===!1)a&&c.cssText!==""&&v(n,l,t,c.cssText,e),e.removeAttribute("style");else if(t===!0)a&&c.cssText!==""&&v(n,l,"",c.cssText,e),e.setAttribute("style","");else if(typeof t=="string")c.cssText!==t&&(c.cssText=t);else{if(typeof r=="string"&&(c.cssText=""),r)for(let p in r){if(t&&p in t)continue;let k=Xe(p);a&&c.getPropertyValue(k)!==""&&v(n,l,null,c.getPropertyValue(k),e,`style.${p}`),c.removeProperty(k)}if(t)for(let p in t){let k=Xe(p),g=t[p];if(g==null)a&&c.getPropertyValue(k)!==""&&v(n,l,null,c.getPropertyValue(k),e,`style.${p}`),c.removeProperty(k);else{let m=bt(k,g);c.getPropertyValue(k)!==m&&c.setProperty(k,m)}}}break}case"class":case"className":if(n==="className"&&"class"in i)break;if(t===!0)a&&e.getAttribute("class")!==""&&v(n,l,"",e.getAttribute("class"),e),e.setAttribute("class","");else if(t==null)a&&e.hasAttribute("class")&&v(n,l,t,e.getAttribute("class"),e),e.removeAttribute("class");else if(typeof t=="object"){typeof r=="string"&&e.setAttribute("class","");let c=!1,p=a?new Set(Array.from(e.classList)):void 0,k=a?e.getAttribute("class"):void 0;if(r)for(let g in r){if(t&&t[g])continue;let m=g.split(/\s+/).filter(Boolean);e.classList.remove(...m)}if(t)for(let g in t){if(!t[g])continue;let m=g.split(/\s+/).filter(Boolean);e.classList.add(...m);for(let y of m)p&&p.has(y)?p.delete(y):a&&(c=!0)}(c||p&&p.size>0)&&v(n,l,Object.keys(t).filter(g=>t[g]).join(" "),k||"",e)}else!o&&!s?e.className!==t&&(a&&v(n,l,t,e.className,e),e.className=t):e.getAttribute("class")!==t&&(a&&v(n,l,t,e.getAttribute("class"),e),e.setAttribute("class",t));break;case"innerHTML":t!==r&&(a&&v(n,l,t,e.innerHTML,e),e.innerHTML=t);break;case"dangerouslySetInnerHTML":{let c=t&&typeof t=="object"&&"__html"in t?t.__html??"":"",p=r&&typeof r=="object"&&"__html"in r?r.__html??"":"";c!==p&&(e.innerHTML=c);break}case"htmlFor":if("for"in i)break;t==null||t===!1?e.removeAttribute("for"):e.setAttribute("for",String(t===!0?"":t));break;default:{if(n[0]==="o"&&n[1]==="n"&&n[2]===n[2].toUpperCase()&&typeof t=="function"&&(n=n.toLowerCase()),o&&n in Ye&&(n=Ye[n]),n in e&&!(typeof t=="string"&&typeof e[n]=="boolean")&&Ot(e,n)){let c=e[n],p=t;if((n==="src"||n==="href")&&typeof t=="string"&&typeof c=="string")try{p=new URL(t,e.baseURI).href}catch{}(p!==c||r===void 0)&&(a&&typeof e[n]=="string"&&e[n]!==t&&v(n,l,t,e[n],e),e[n]=t);return}if(t===!0)t="";else if(t==null||t===!1){a&&e.hasAttribute(n)&&v(n,l,t,e.getAttribute(n),e),e.removeAttribute(n);return}else typeof t!="string"&&(t=String(t));e.getAttribute(n)!==t&&(a&&v(n,l,t,e.getAttribute(n),e),e.setAttribute(n,t))}}}var Mt={scope({scope:e,tag:n,props:t,root:r}){switch(n){case T:{let i=r instanceof Element?r.namespaceURI:null;e=i===ee?ee:i===ke?ke:void 0;break}case"svg":e=ee;break;case"math":e=ke;break;case"foreignObject":e=void 0;break}return t.xmlns||e},create({tag:e,tagName:n,scope:t,root:r}){if(typeof e!="string")throw new Error(`Unknown tag: ${n}`);e.toLowerCase()==="svg"?t=ee:e.toLowerCase()==="math"?t=ke:e==="foreignObject"&&(t=ee);let i=Re(r);return t?i.createElementNS(t,e):i.createElement(e)},adopt({tag:e,tagName:n,node:t,root:r}){if(typeof e!="string"&&e!==T)throw new Error(`Unknown tag: ${n}`);let i=Re(r);if((t===i.body||t===i.head||t===i.documentElement||t===i)&&console.warn(`Hydrating ${t.nodeName.toLowerCase()} is discouraged as it is destructive and may remove unknown nodes.`),t==null||typeof e=="string"&&(t.nodeType!==Node.ELEMENT_NODE||e.toLowerCase()!==t.tagName.toLowerCase())){console.warn(`Expected <${n}> while hydrating but found: `,t);return}return Array.from(t.childNodes)},patch({tag:e,tagName:n,node:t,props:r,oldProps:i,scope:o,copyProps:s,quietProps:f,isHydrating:l}){if(t.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Cannot patch node: ${String(t)}`);r.class&&r.className&&console.error(`Both "class" and "className" set in props for <${n}>. Use one or the other.`);let a=t,h=o===ee||e==="foreignObject",c=o===ke;if(i)for(let p in i)p in r||wt(a,p,void 0,i[p],r,h,c,s,f,l);for(let p in r)wt(a,p,r[p],i?i[p]:void 0,r,h,c,s,f,l)},arrange({tag:e,node:n,props:t,children:r}){if(e===T&&(n==null||typeof n.nodeType!="number"))throw new TypeError(`<Portal> root is not a node. Received: ${String(n)}`);if(!("innerHTML"in t)&&!("dangerouslySetInnerHTML"in t)){let i=n.firstChild;for(let o=0;o<r.length;o++){let s=r[o];i===s?i=i.nextSibling:(n.insertBefore(s,i),e!==T&&i&&o+1<r.length&&i!==r[o+1]&&(i=i.nextSibling))}}},remove({node:e,parentNode:n,isNested:t}){!t&&e.parentNode===n&&n.removeChild(e)},text({value:e,oldNode:n,hydrationNodes:t,root:r}){let i=Re(r);if(t!=null){let o=t.shift();if(!o||o.nodeType!==Node.TEXT_NODE)console.warn(`Expected "${e}" while hydrating but found:`,o);else{let s=o.data;if(s.length>e.length){if(s.startsWith(e))return o.data=e,t.unshift(i.createTextNode(s.slice(e.length))),o}else if(s===e)return o;console.warn(`Expected "${e}" while hydrating but found:`,s),n=o}}return n!=null?(n.data!==e&&(n.data=e),n):i.createTextNode(e)},raw({value:e,scope:n,hydrationNodes:t,root:r}){let i;if(typeof e=="string"){let o=Re(r),s=n==null?o.createElement("div"):n===ee?o.createElementNS(n,"svg"):o.createElementNS(n,"math");s.innerHTML=e,i=Array.from(s.childNodes)}else i=e==null?[]:Array.isArray(e)?[...e]:[e];if(t!=null)for(let o=0;o<i.length;o++){let s=i[o],f=t.shift();f&&typeof f=="object"&&typeof f.nodeType=="number"&&s.isEqualNode(f)?i[o]=f:console.warn(`Expected <Raw value="${String(e)}"> while hydrating but found:`,f)}return i.length===0?void 0:i.length===1?i[0]:i}},Ze=class extends Ae{constructor(){super(Mt)}render(n,t,r){return kt(t),super.render(n,t,r)}hydrate(n,t,r){return kt(t),super.hydrate(n,t,r)}};function kt(e){if(e==null||typeof e=="object"&&typeof e.nodeType!="number")throw new TypeError(`Render root is not a node. Received: ${String(e)}`);if(e.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Render root must be an element node. Received: ${String(e)}`)}var tn=new Ze;export{K as a,T as b,ze as c,Z as d,Pe as e,ue as f,dt as g,pe as h,Pt as i,Ae as j,Be as k,Xe as l,bt as m,Ye as n,Mt as o,Ze as p,tn as q};
