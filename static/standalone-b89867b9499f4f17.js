function Ur(){throw new Error("setTimeout has not been defined")}function Mr(){throw new Error("clearTimeout has not been defined")}var ie=Ur,oe=Mr;typeof globalThis.setTimeout=="function"&&(ie=setTimeout);typeof globalThis.clearTimeout=="function"&&(oe=clearTimeout);function $r(e){if(ie===setTimeout)return setTimeout(e,0);if((ie===Ur||!ie)&&setTimeout)return ie=setTimeout,setTimeout(e,0);try{return ie(e,0)}catch{try{return ie.call(null,e,0)}catch{return ie.call(this,e,0)}}}function _t(e){if(oe===clearTimeout)return clearTimeout(e);if((oe===Mr||!oe)&&clearTimeout)return oe=clearTimeout,clearTimeout(e);try{return oe(e)}catch{try{return oe.call(null,e)}catch{return oe.call(this,e)}}}var Z=[],Ae=!1,ue,Fe=-1;function Ct(){!Ae||!ue||(Ae=!1,ue.length?Z=ue.concat(Z):Fe=-1,Z.length&&Lr())}function Lr(){if(!Ae){var e=$r(Ct);Ae=!0;for(var r=Z.length;r;){for(ue=Z,Z=[];++Fe<r;)ue&&ue[Fe].run();Fe=-1,r=Z.length}ue=null,Ae=!1,_t(e)}}function Nt(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];Z.push(new Br(e,r)),Z.length===1&&!Ae&&$r(Lr)}function Br(e,r){this.fun=e,this.array=r}Br.prototype.run=function(){this.fun.apply(null,this.array)};var Ut="browser",Mt="browser",$t=!0,Lt={},Bt=[],Dt="",Ot={},jt={},Yt={};function ce(){}var Ft=ce,zt=ce,Wt=ce,Ht=ce,Gt=ce,Kt=ce,Xt=ce;function Vt(e){throw new Error("process.binding is not supported")}function qt(){return"/"}function Jt(e){throw new Error("process.chdir is not supported")}function Qt(){return 0}var be=globalThis.performance||{},Zt=be.now||be.mozNow||be.msNow||be.oNow||be.webkitNow||function(){return new Date().getTime()};function en(e){var r=Zt.call(be)*.001,t=Math.floor(r),n=Math.floor(r%1*1e9);return e&&(t=t-e[0],n=n-e[1],n<0&&(t--,n+=1e9)),[t,n]}var rn=new Date;function tn(){var e=new Date,r=e-rn;return r/1e3}var j={nextTick:Nt,title:Ut,browser:$t,env:Lt,argv:Bt,version:Dt,versions:Ot,on:Ft,addListener:zt,once:Wt,off:Ht,removeListener:Gt,removeAllListeners:Kt,emit:Xt,binding:Vt,cwd:qt,chdir:Jt,umask:Qt,hrtime:en,platform:Mt,release:jt,config:Yt,uptime:tn},Nr={};Object.keys(Nr).forEach(e=>{let r=e.split("."),t=j;for(let n=0;n<r.length;n++){let i=r[n];n===r.length-1?t[i]=Nr[e]:t=t[i]||(t[i]={})}});var G=[],Y=[],nn=typeof Uint8Array<"u"?Uint8Array:Array,lr=!1;function Yr(){lr=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,t=e.length;r<t;++r)G[r]=e[r],Y[e.charCodeAt(r)]=r;Y[45]=62,Y[95]=63}function on(e){lr||Yr();var r,t,n,i,o,f,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[s-2]==="="?2:e[s-1]==="="?1:0,f=new nn(s*3/4-o),n=o>0?s-4:s;var l=0;for(r=0,t=0;r<n;r+=4,t+=3)i=Y[e.charCodeAt(r)]<<18|Y[e.charCodeAt(r+1)]<<12|Y[e.charCodeAt(r+2)]<<6|Y[e.charCodeAt(r+3)],f[l++]=i>>16&255,f[l++]=i>>8&255,f[l++]=i&255;return o===2?(i=Y[e.charCodeAt(r)]<<2|Y[e.charCodeAt(r+1)]>>4,f[l++]=i&255):o===1&&(i=Y[e.charCodeAt(r)]<<10|Y[e.charCodeAt(r+1)]<<4|Y[e.charCodeAt(r+2)]>>2,f[l++]=i>>8&255,f[l++]=i&255),f}function fn(e){return G[e>>18&63]+G[e>>12&63]+G[e>>6&63]+G[e&63]}function sn(e,r,t){for(var n,i=[],o=r;o<t;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(fn(n));return i.join("")}function Dr(e){lr||Yr();for(var r,t=e.length,n=t%3,i="",o=[],f=16383,s=0,l=t-n;s<l;s+=f)o.push(sn(e,s,s+f>l?l:s+f));return n===1?(r=e[t-1],i+=G[r>>2],i+=G[r<<4&63],i+="=="):n===2&&(r=(e[t-2]<<8)+e[t-1],i+=G[r>>10],i+=G[r>>4&63],i+=G[r<<2&63],i+="="),o.push(i),o.join("")}p.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;function ze(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ee(e,r){if(ze()<r)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=p.prototype):(e===null&&(e=new p(r)),e.length=r),e}function p(e,r,t){if(!p.TYPED_ARRAY_SUPPORT&&!(this instanceof p))return new p(e,r,t);if(typeof e=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return ar(this,e)}return Fr(this,e,r,t)}p.poolSize=8192;p._augment=function(e){return e.__proto__=p.prototype,e};function Fr(e,r,t,n){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?un(e,r,t,n):typeof r=="string"?an(e,r,t):cn(e,r)}p.from=function(e,r,t){return Fr(null,e,r,t)};p.kMaxLength=ze();p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]);function zr(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function ln(e,r,t,n){return zr(r),r<=0?ee(e,r):t!==void 0?typeof n=="string"?ee(e,r).fill(t,n):ee(e,r).fill(t):ee(e,r)}p.alloc=function(e,r,t){return ln(null,e,r,t)};function ar(e,r){if(zr(r),e=ee(e,r<0?0:ur(r)|0),!p.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}p.allocUnsafe=function(e){return ar(null,e)};p.allocUnsafeSlow=function(e){return ar(null,e)};function an(e,r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!p.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=Wr(r,t)|0;e=ee(e,n);var i=e.write(r,t);return i!==n&&(e=e.slice(0,i)),e}function sr(e,r){var t=r.length<0?0:ur(r.length)|0;e=ee(e,t);for(var n=0;n<t;n+=1)e[n]=r[n]&255;return e}function un(e,r,t,n){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?r=new Uint8Array(r):n===void 0?r=new Uint8Array(r,t):r=new Uint8Array(r,t,n),p.TYPED_ARRAY_SUPPORT?(e=r,e.__proto__=p.prototype):e=sr(e,r),e}function cn(e,r){if(K(r)){var t=ur(r.length)|0;return e=ee(e,t),e.length===0||r.copy(e,0,0,t),e}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||_n(r.length)?ee(e,0):sr(e,r);if(r.type==="Buffer"&&Array.isArray(r.data))return sr(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ur(e){if(e>=ze())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ze().toString(16)+" bytes");return e|0}p.isBuffer=Cn;function K(e){return!!(e!=null&&e._isBuffer)}p.compare=function(r,t){if(!K(r)||!K(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,i=t.length,o=0,f=Math.min(n,i);o<f;++o)if(r[o]!==t[o]){n=r[o],i=t[o];break}return n<i?-1:i<n?1:0};p.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};p.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return p.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var i=p.allocUnsafe(t),o=0;for(n=0;n<r.length;++n){var f=r[n];if(!K(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(i,o),o+=f.length}return i};function Wr(e,r){if(K(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;if(t===0)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return We(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Jr(e).length;default:if(n)return We(e).length;r=(""+r).toLowerCase(),n=!0}}p.byteLength=Wr;function hn(e,r,t){var n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return kn(this,r,t);case"utf8":case"utf-8":return Kr(this,r,t);case"ascii":return bn(this,r,t);case"latin1":case"binary":return An(this,r,t);case"base64":return mn(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}p.prototype._isBuffer=!0;function he(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}p.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)he(this,t,t+1);return this};p.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)he(this,t,t+3),he(this,t+1,t+2);return this};p.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)he(this,t,t+7),he(this,t+1,t+6),he(this,t+2,t+5),he(this,t+3,t+4);return this};p.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?Kr(this,0,r):hn.apply(this,arguments)};p.prototype.equals=function(r){if(!K(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:p.compare(this,r)===0};p.prototype.compare=function(r,t,n,i,o){if(!K(r))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>r.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var f=o-i,s=n-t,l=Math.min(f,s),a=this.slice(i,o),c=r.slice(t,n),u=0;u<l;++u)if(a[u]!==c[u]){f=a[u],s=c[u];break}return f<s?-1:s<f?1:0};function Hr(e,r,t,n,i){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof r=="string"&&(r=p.from(r,n)),K(r))return r.length===0?-1:Or(e,r,t,n,i);if(typeof r=="number")return r=r&255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):Or(e,[r],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Or(e,r,t,n,i){var o=1,f=e.length,s=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;o=2,f/=2,s/=2,t/=2}function l(d,w){return o===1?d[w]:d.readUInt16BE(w*o)}var a;if(i){var c=-1;for(a=t;a<f;a++)if(l(e,a)===l(r,c===-1?0:a-c)){if(c===-1&&(c=a),a-c+1===s)return c*o}else c!==-1&&(a-=a-c),c=-1}else for(t+s>f&&(t=f-s),a=t;a>=0;a--){for(var u=!0,h=0;h<s;h++)if(l(e,a+h)!==l(r,h)){u=!1;break}if(u)return a}return-1}p.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1};p.prototype.indexOf=function(r,t,n){return Hr(this,r,t,n,!0)};p.prototype.lastIndexOf=function(r,t,n){return Hr(this,r,t,n,!1)};function pn(e,r,t,n){t=Number(t)||0;var i=e.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var f=0;f<n;++f){var s=parseInt(r.substr(f*2,2),16);if(isNaN(s))return f;e[t+f]=s}return f}function dn(e,r,t,n){return Ke(We(r,e.length-t),e,t,n)}function Gr(e,r,t,n){return Ke(Pn(r),e,t,n)}function gn(e,r,t,n){return Gr(e,r,t,n)}function yn(e,r,t,n){return Ke(Jr(r),e,t,n)}function wn(e,r,t,n){return Ke(In(r,e.length-t),e,t,n)}p.prototype.write=function(r,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var f=!1;;)switch(i){case"hex":return pn(this,r,t,n);case"utf8":case"utf-8":return dn(this,r,t,n);case"ascii":return Gr(this,r,t,n);case"latin1":case"binary":return gn(this,r,t,n);case"base64":return yn(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wn(this,r,t,n);default:if(f)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mn(e,r,t){return r===0&&t===e.length?Dr(e):Dr(e.slice(r,t))}function Kr(e,r,t){t=Math.min(e.length,t);for(var n=[],i=r;i<t;){var o=e[i],f=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=t){var l,a,c,u;switch(s){case 1:o<128&&(f=o);break;case 2:l=e[i+1],(l&192)===128&&(u=(o&31)<<6|l&63,u>127&&(f=u));break;case 3:l=e[i+1],a=e[i+2],(l&192)===128&&(a&192)===128&&(u=(o&15)<<12|(l&63)<<6|a&63,u>2047&&(u<55296||u>57343)&&(f=u));break;case 4:l=e[i+1],a=e[i+2],c=e[i+3],(l&192)===128&&(a&192)===128&&(c&192)===128&&(u=(o&15)<<18|(l&63)<<12|(a&63)<<6|c&63,u>65535&&u<1114112&&(f=u))}}f===null?(f=65533,s=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|f&1023),n.push(f),i+=s}return En(n)}var jr=4096;function En(e){var r=e.length;if(r<=jr)return String.fromCharCode.apply(String,e);for(var t="",n=0;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=jr));return t}function bn(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]&127);return n}function An(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]);return n}function kn(e,r,t){var n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=r;o<t;++o)i+=Rn(e[o]);return i}function Sn(e,r,t){for(var n=e.slice(r,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}p.prototype.slice=function(r,t){var n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);var i;if(p.TYPED_ARRAY_SUPPORT)i=this.subarray(r,t),i.__proto__=p.prototype;else{var o=t-r;i=new p(o,void 0);for(var f=0;f<o;++f)i[f]=this[f+r]}return i};function I(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(r,t,n){r=r|0,t=t|0,n||I(r,t,this.length);for(var i=this[r],o=1,f=0;++f<t&&(o*=256);)i+=this[r+f]*o;return i};p.prototype.readUIntBE=function(r,t,n){r=r|0,t=t|0,n||I(r,t,this.length);for(var i=this[r+--t],o=1;t>0&&(o*=256);)i+=this[r+--t]*o;return i};p.prototype.readUInt8=function(r,t){return t||I(r,1,this.length),this[r]};p.prototype.readUInt16LE=function(r,t){return t||I(r,2,this.length),this[r]|this[r+1]<<8};p.prototype.readUInt16BE=function(r,t){return t||I(r,2,this.length),this[r]<<8|this[r+1]};p.prototype.readUInt32LE=function(r,t){return t||I(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};p.prototype.readUInt32BE=function(r,t){return t||I(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};p.prototype.readIntLE=function(r,t,n){r=r|0,t=t|0,n||I(r,t,this.length);for(var i=this[r],o=1,f=0;++f<t&&(o*=256);)i+=this[r+f]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};p.prototype.readIntBE=function(r,t,n){r=r|0,t=t|0,n||I(r,t,this.length);for(var i=t,o=1,f=this[r+--i];i>0&&(o*=256);)f+=this[r+--i]*o;return o*=128,f>=o&&(f-=Math.pow(2,8*t)),f};p.prototype.readInt8=function(r,t){return t||I(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};p.prototype.readInt16LE=function(r,t){t||I(r,2,this.length);var n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};p.prototype.readInt16BE=function(r,t){t||I(r,2,this.length);var n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};p.prototype.readInt32LE=function(r,t){return t||I(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};p.prototype.readInt32BE=function(r,t){return t||I(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};p.prototype.readFloatLE=function(r,t){return t||I(r,4,this.length),Xe(this,r,!0,23,4)};p.prototype.readFloatBE=function(r,t){return t||I(r,4,this.length),Xe(this,r,!1,23,4)};p.prototype.readDoubleLE=function(r,t){return t||I(r,8,this.length),Xe(this,r,!0,52,8)};p.prototype.readDoubleBE=function(r,t){return t||I(r,8,this.length),Xe(this,r,!1,52,8)};function B(e,r,t,n,i,o){if(!K(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(r,t,n,i){if(r=+r,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;B(this,r,t,n,o,0)}var f=1,s=0;for(this[t]=r&255;++s<n&&(f*=256);)this[t+s]=r/f&255;return t+n};p.prototype.writeUIntBE=function(r,t,n,i){if(r=+r,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;B(this,r,t,n,o,0)}var f=n-1,s=1;for(this[t+f]=r&255;--f>=0&&(s*=256);)this[t+f]=r/s&255;return t+n};p.prototype.writeUInt8=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=r&255,t+1};function He(e,r,t,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(e.length-t,2);i<o;++i)e[t+i]=(r&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}p.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):He(this,r,t,!0),t+2};p.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):He(this,r,t,!1),t+2};function Ge(e,r,t,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(e.length-t,4);i<o;++i)e[t+i]=r>>>(n?i:3-i)*8&255}p.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255):Ge(this,r,t,!0),t+4};p.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):Ge(this,r,t,!1),t+4};p.prototype.writeIntLE=function(r,t,n,i){if(r=+r,t=t|0,!i){var o=Math.pow(2,8*n-1);B(this,r,t,n,o-1,-o)}var f=0,s=1,l=0;for(this[t]=r&255;++f<n&&(s*=256);)r<0&&l===0&&this[t+f-1]!==0&&(l=1),this[t+f]=(r/s>>0)-l&255;return t+n};p.prototype.writeIntBE=function(r,t,n,i){if(r=+r,t=t|0,!i){var o=Math.pow(2,8*n-1);B(this,r,t,n,o-1,-o)}var f=n-1,s=1,l=0;for(this[t+f]=r&255;--f>=0&&(s*=256);)r<0&&l===0&&this[t+f+1]!==0&&(l=1),this[t+f]=(r/s>>0)-l&255;return t+n};p.prototype.writeInt8=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=r&255,t+1};p.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):He(this,r,t,!0),t+2};p.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):He(this,r,t,!1),t+2};p.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):Ge(this,r,t,!0),t+4};p.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t|0,n||B(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):Ge(this,r,t,!1),t+4};function Xr(e,r,t,n,i,o){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Vr(e,r,t,n,i){return i||Xr(e,r,t,4,34028234663852886e22,-34028234663852886e22),Zr(e,r,t,n,23,4),t+4}p.prototype.writeFloatLE=function(r,t,n){return Vr(this,r,t,!0,n)};p.prototype.writeFloatBE=function(r,t,n){return Vr(this,r,t,!1,n)};function qr(e,r,t,n,i){return i||Xr(e,r,t,8,17976931348623157e292,-17976931348623157e292),Zr(e,r,t,n,52,8),t+8}p.prototype.writeDoubleLE=function(r,t,n){return qr(this,r,t,!0,n)};p.prototype.writeDoubleBE=function(r,t,n){return qr(this,r,t,!1,n)};p.prototype.copy=function(r,t,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),t>=r.length&&(t=r.length),t||(t=0),i>0&&i<n&&(i=n),i===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-t<i-n&&(i=r.length-t+n);var o=i-n,f;if(this===r&&n<t&&t<i)for(f=o-1;f>=0;--f)r[f+t]=this[f+n];else if(o<1e3||!p.TYPED_ARRAY_SUPPORT)for(f=0;f<o;++f)r[f+t]=this[f+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),t);return o};p.prototype.fill=function(r,t,n,i){if(typeof r=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),r.length===1){var o=r.charCodeAt(0);o<256&&(r=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof r=="number"&&(r=r&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);var f;if(typeof r=="number")for(f=t;f<n;++f)this[f]=r;else{var s=K(r)?r:We(new p(r,i).toString()),l=s.length;for(f=0;f<n-t;++f)this[f+t]=s[f%l]}return this};var Tn=/[^+\/0-9A-Za-z-_]/g;function vn(e){if(e=xn(e).replace(Tn,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function xn(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Rn(e){return e<16?"0"+e.toString(16):e.toString(16)}function We(e,r){r=r||1/0;for(var t,n=e.length,i=null,o=[],f=0;f<n;++f){if(t=e.charCodeAt(f),t>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(f+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Pn(e){for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function In(e,r){for(var t,n,i,o=[],f=0;f<e.length&&!((r-=2)<0);++f)t=e.charCodeAt(f),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function Jr(e){return on(vn(e))}function Ke(e,r,t,n){for(var i=0;i<n&&!(i+t>=r.length||i>=e.length);++i)r[i+t]=e[i];return i}function _n(e){return e!==e}function Cn(e){return e!=null&&(!!e._isBuffer||Qr(e)||Nn(e))}function Qr(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Nn(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Qr(e.slice(0,0))}function Xe(e,r,t,n,i){var o,f,s=i*8-n-1,l=(1<<s)-1,a=l>>1,c=-7,u=t?i-1:0,h=t?-1:1,d=e[r+u];for(u+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=o*256+e[r+u],u+=h,c-=8);for(f=o&(1<<-c)-1,o>>=-c,c+=n;c>0;f=f*256+e[r+u],u+=h,c-=8);if(o===0)o=1-a;else{if(o===l)return f?NaN:(d?-1:1)*(1/0);f=f+Math.pow(2,n),o=o-a}return(d?-1:1)*f*Math.pow(2,o-n)}function Zr(e,r,t,n,i,o){var f,s,l,a=o*8-i-1,c=(1<<a)-1,u=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,w=n?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,f=c):(f=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-f))<1&&(f--,l*=2),f+u>=1?r+=h/l:r+=h*Math.pow(2,1-u),r*l>=2&&(f++,l/=2),f+u>=c?(s=0,f=c):f+u>=1?(s=(r*l-1)*Math.pow(2,i),f=f+u):(s=r*Math.pow(2,u-1)*Math.pow(2,i),f=0));i>=8;e[t+d]=s&255,d+=w,s/=256,i-=8);for(f=f<<i|s,a+=i;a>0;e[t+d]=f&255,d+=w,f/=256,a-=8);e[t+d-w]|=A*128}function tt(e){return e!=null&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"&&typeof e.dispatchEvent=="function"}function F(e,r,t){Object.defineProperty(e,r,{value:t,writable:!1,configurable:!0})}function et(e){return typeof e=="function"||e!==null&&typeof e=="object"&&typeof e.handleEvent=="function"}function rt(e){return typeof e=="boolean"?{capture:e}:e??{}}var Pe=Symbol.for("CustomEventTarget.parent"),re=Symbol.for("CustomEventTarget.listeners"),fe=Symbol.for("CustomEventTarget.delegates"),cr=Symbol.for("CustomEventTarget.dispatchSelf"),ke=class{constructor(r=null){this[Pe]=r,this[re]=[],this[fe]=new Set}addEventListener(r,t,n){if(!et(t))return;let i=this[re];n=rt(n);let o;typeof t=="function"?o=t:o=s=>t.handleEvent(s);let f={type:r,listener:t,callback:o,options:n};if(n.once&&(f.callback=function(){let s=i.indexOf(f);return s!==-1&&i.splice(s,1),o.apply(this,arguments)}),!i.some(s=>f.type===s.type&&f.listener===s.listener&&!f.options.capture==!s.options.capture)){i.push(f);for(let s of this[fe])s.addEventListener(r,f.callback,f.options)}}removeEventListener(r,t,n){let i=this[re];if(i==null||!et(t))return;let o=rt(n),f=i.findIndex(l=>l.type===r&&l.listener===t&&!l.options.capture==!o.capture);if(f===-1)return;let s=i[f];i.splice(f,1);for(let l of this[fe])l.removeEventListener(s.type,s.callback,s.options)}dispatchEvent(r){let t=[];for(let s=this[Pe];s;s=s[Pe])t.push(s);let n=!1,i=!1,o=r.stopPropagation;F(r,"stopPropagation",()=>(n=!0,o.call(r)));let f=r.stopImmediatePropagation;F(r,"stopImmediatePropagation",()=>(i=!0,f.call(r))),F(r,"target",this);try{F(r,"eventPhase",1);for(let s=t.length-1;s>=0;s--){let l=t[s],a=l[re];F(r,"currentTarget",l);for(let c=0;c<a.length;c++){let u=a[c];if(u.type===r.type&&u.options.capture){try{u.callback.call(l,r)}catch(h){console.error(h)}if(i)return!0}}if(n)return!0}{if(F(r,"eventPhase",2),F(r,"currentTarget",this),this[cr](r),i)return!0;let s=this[re];for(let l=0;l<s.length;l++){let a=s[l];if(a.type===r.type){try{a.callback.call(this,r)}catch(c){console.error(c)}if(i)return!0}}if(n)return!0}if(r.bubbles){F(r,"eventPhase",3);for(let s=0;s<t.length;s++){let l=t[s];F(r,"currentTarget",l);let a=l[re];for(let c=0;c<a.length;c++){let u=a[c];if(u.type===r.type&&!u.options.capture){try{u.callback.call(l,r)}catch(h){console.error(h)}if(i)return!0}}if(n)return!0}}}finally{return F(r,"eventPhase",0),F(r,"currentTarget",null),!r.defaultPrevented}}[cr](r){}};ke.dispatchEventOnSelf=cr;function hr(e,r,t=n=>e===n){let n=r.filter(tt);for(let i=e;i&&t(i);i=i[Pe])for(let o=0;o<n.length;o++){let f=n[o];if(!i[fe].has(f)){i[fe].add(f);for(let s of i[re])f.addEventListener(s.type,s.callback,s.options)}}}function nt(e,r,t=n=>e===n){let n=r.filter(tt);for(let i=e;i&&t(i);i=i[Pe])for(let o=0;o<n.length;o++){let f=n[o];if(i[fe].has(f)){i[fe].delete(f);for(let s of i[re])f.removeEventListener(s.type,s.callback,s.options)}}}function pr(e){let r=e[re],t=e[fe];for(let n=0;n<r.length;n++){let i=r[n];for(let o of t)o.removeEventListener(i.type,i.callback,i.options)}r.length=0,t.clear()}function gr(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function se(e){return e.length===0?void 0:e.length===1?e[0]:e}function it(e){return e==null?[]:Array.isArray(e)?e:typeof e=="string"||typeof e[Symbol.iterator]!="function"?[e]:[...e]}function ot(e){return e!=null&&typeof e.next=="function"}function R(e){return e!=null&&typeof e.then=="function"}function Un(e){let r=new Set,t={deferreds:r,settled:!1};return Promise.resolve(e).then(n=>{for(let{resolve:i}of r)i(n);r.clear(),t.settled=!0},n=>{for(let{reject:i}of r)i(n);r.clear(),t.settled=!0}),t}var dr=new WeakMap;function Ie(e){let r;return new Promise((n,i)=>{r={resolve:n,reject:i};for(let o of e){if(!R(o)){Promise.resolve(o).then(n,i);continue}let f=dr.get(o);f===void 0?(f=Un(o),f.deferreds.add(r),dr.set(o,f)):f.settled?Promise.resolve(o).then(n,i):f.deferreds.add(r)}}).finally(()=>{for(let n of e)if(R(n)){let i=dr.get(n);i&&i.deferreds.delete(r)}})}var X=()=>{};function P(e){return typeof e=="function"?e.name||"Anonymous":typeof e=="string"?e:e.description||"Anonymous"}var q="",x=Symbol.for("crank.Portal"),er=Symbol.for("crank.Copy"),ne=Symbol.for("crank.Text"),Ue=Symbol.for("crank.Raw"),dt=Symbol.for("crank.Element"),Se=class{constructor(r,t){this.tag=r,this.props=t}};Se.prototype.$$typeof=dt;function Ar(e){return e!=null&&e.$$typeof===dt}var ft=["crank-","c-","$"],st=["key","ref","static","copy"];function le(e,r,...t){r==null&&(r={}),"static"in r&&(console.error("The `static` prop is deprecated. Use `copy` instead."),r.copy=r.static,delete r.static);for(let n=0;n<ft.length;n++){let i=ft[n];for(let o=0;o<st.length;o++){let f=st[o],s=i+f;if(s in r){let l=f==="static"?"copy":f;console.error(`The \`${s}\` prop is deprecated. Use \`${l}\` instead.`),r[l]=r[s],delete r[s]}}}return t.length>1?r.children=t:t.length===1&&(r.children=t[0]),new Se(e,r)}function gt(e){if(!Ar(e))throw new TypeError(`Cannot clone non-element: ${String(e)}`);return new Se(e.tag,{...e.props})}function kr(e){if(!(typeof e=="boolean"||e==null)){{if(typeof e=="string"||Ar(e))return e;if(typeof e[Symbol.iterator]=="function")return le(q,null,e)}return e.toString()}}var W=1,$=2,Te=4,Me=8,v=16,Ce=32,z=64,lt=128,N=256,C=512,Sr=1024,de=2048,ge=4096,$e=8192,te=16384,D=32768,ve=65536,_e=1<<17;function y(e,r){return!!(e.f&r)}function g(e,r,t=!0){t?e.f|=r:e.f&=~r}var J=class{constructor(r){this.f=0,this.el=r,this.ctx=void 0,this.children=void 0,this.fallback=void 0,this.value=void 0,this.oldProps=void 0,this.pendingDiff=void 0,this.onNextDiff=void 0,this.graveyard=void 0,this.lingerers=void 0}};function yt(e){let r=new J(e.el);return r.f=e.f,r.ctx=e.ctx,r.children=e.children,r.fallback=e.fallback,r.value=e.value,r.scope=e.scope,r.oldProps=e.oldProps,r.pendingDiff=e.pendingDiff,r.onNextDiff=e.onNextDiff,r.graveyard=e.graveyard,r.lingerers=e.lingerers,r}function T(e,r=!1,t){return y(e,z)&&r?e.fallback?T(e.fallback,r,t):void 0:e.fallback&&!y(e,W)?e.fallback?T(e.fallback,r,t):e.fallback:e.el.tag===x?void 0:e.el.tag===q||typeof e.el.tag=="function"?(t!=null&&e.ctx&&(e.ctx.index=t),se(V(e,t))):e.value}function V(e,r){let t=[],n=e.lingerers,i=e.children,o=Array.isArray(i),f=i===void 0?0:o?i.length:1,s=r;for(let l=0;l<f;l++){if(n!=null&&n[l]!=null){let c=n[l];for(let u of c){let h=T(u,!0,s);if(Array.isArray(h)){for(let d=0;d<h.length;d++)t.push(h[d]);s!=null&&(s+=h.length)}else h&&(t.push(h),s!=null&&s++)}}let a=o?i[l]:i;if(a){let c=T(a,!0,s);if(Array.isArray(c)){for(let u=0;u<c.length;u++)t.push(c[u]);s!=null&&(s+=c.length)}else c&&(t.push(c),s!=null&&s++)}}if(n!=null&&n.length>f)for(let l=f;l<n.length;l++){let a=n[l];if(a!=null)for(let c of a){let u=T(c,!0,s);if(Array.isArray(u)){for(let h=0;h<u.length;h++)t.push(u[h]);s!=null&&(s+=u.length)}else u&&(t.push(u),s!=null&&s++)}}return t}function rr(e){let r,t;return{key:r,ref:r,copy:r,hydrate:r,children:r,...t}=e,t}var Mn={create(){throw new Error("adapter must implement create")},adopt(){throw new Error("adapter must implement adopt() for hydration")},scope:({scope:e})=>e,read:e=>e,text:({value:e})=>e,raw:({value:e})=>e,patch:X,arrange:X,remove:X,finalize:X},ye=class{constructor(r){this.cache=new WeakMap,this.adapter={...Mn,...r}}render(r,t,n){let i=at(this,n,{children:r,root:t});return ut(this.adapter,t,i,r)}hydrate(r,t,n){let i=at(this,n,{children:r,root:t,hydrate:!0});return ut(this.adapter,t,i,r)}};function at(e,r,{children:t,root:n,hydrate:i}){let o,f=r&&r[_];typeof n=="object"&&n!==null&&(o=e.cache.get(n));let s=e.adapter;if(o===void 0)o=new J(le(x,{children:t,root:n,hydrate:i})),o.value=n,o.ctx=f,o.scope=s.scope({tag:x,tagName:P(x),props:rr(o.el.props),scope:void 0,root:n}),typeof n=="object"&&n!==null&&t!=null&&e.cache.set(n,o);else{if(o.ctx!==f)throw new Error("A previous call to render() was passed a different context");o.el=le(x,{children:t,root:n,hydrate:i}),typeof n=="object"&&n!==null&&t==null&&e.cache.delete(n)}return o}function ut(e,r,t,n){let i=De(e,r,t,t.ctx,t.scope,t,n),o=[];return R(i)?i.then(()=>(mr(e,t,t,t.ctx,t.scope,r,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(se(V(t))))):((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(se(V(t)))))):(mr(e,t,t,t.ctx,t.scope,r,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(se(V(t))))):((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(se(V(t)))))}function $n(e,r,t,n,i,o,f){let s=kr(f),l=o.children,a,c;if(typeof s=="object"){let u=!1,h=typeof l=="object"?l.el.props.key:void 0,d=s.props.key;if(h!==d&&(typeof l=="object"&&(a=a||[]).push(l),l=void 0),s.tag===er)u=!0;else if(typeof l=="object"&&l.el===s&&y(l,$))u=!0;else{if(l&&l.el.tag===s.tag)l.el=s,s.props.copy&&typeof s.props.copy!="string"&&(u=!0);else if(l){let w=!1;for(let A=l,m=l.fallback;m;A=m,m=m.fallback)if(m.el.tag===s.tag){let E=yt(m);g(E,Sr),A.fallback=E;let k=l;l=m,l.el=s,l.fallback=k,g(l,W,!1),w=!0;break}if(!w){let A=l;l=new J(s),l.fallback=A}}else l=new J(s);u&&y(l,$)||s.tag===Ue||s.tag===ne||(s.tag===q?c=De(e,r,t,n,i,l,l.el.props.children):typeof s.tag=="function"?c=xr(e,r,t,n,i,l):c=wt(e,r,n,i,l))}typeof l=="object"&&(u?(g(l,Te),c=Tr(l)):g(l,Te,!1))}else typeof s=="string"?typeof l=="object"&&l.el.tag===ne?l.el.props.value=s:(typeof l=="object"&&(a=a||[]).push(l),l=new J(le(ne,{value:s}))):(typeof l=="object"&&(a=a||[]).push(l),l=void 0);if(o.children=l,R(c)){let u=c.finally(()=>{if(g(o,W),a)if(o.graveyard)for(let w=0;w<a.length;w++)o.graveyard.push(a[w]);else o.graveyard=a}),h,d=o.pendingDiff=Ie([u,new Promise(w=>h=w)]);return o.onNextDiff&&o.onNextDiff(d),o.onNextDiff=h,d}else{if(g(o,W),a)if(o.graveyard)for(let u=0;u<a.length;u++)o.graveyard.push(a[u]);else o.graveyard=a;o.onNextDiff&&(o.onNextDiff(c),o.onNextDiff=void 0),o.pendingDiff=void 0}}function De(e,r,t,n,i,o,f){if(!Array.isArray(f)&&(typeof f!="object"||f===null||typeof f[Symbol.iterator]!="function")&&!Array.isArray(o.children))return $n(e,r,t,n,i,o,f);let s=gr(o.children),l=[],a=it(f),c=[],u,h,d=!1,w=0,A=s.length,m;for(let E=0,k=a.length;E<k;E++){let b=w>=A?void 0:s[w],S=kr(a[E]);{let Q=typeof b=="object"?b.el.props.key:void 0,L=typeof S=="object"?S.props.key:void 0;if(L!==void 0&&h&&h.has(L)&&(console.error(`Duplicate key found in <${P(o.el.tag)}>`,L),S=gt(S),L=S.props.key=void 0),Q===L)u!==void 0&&L!==void 0&&u.delete(L),w++;else if(u=u||Ln(s,w),L===void 0){for(;b!==void 0&&Q!==void 0;)w++,b=s[w],Q=typeof b=="object"?b.el.props.key:void 0;w++}else b=u.get(L),b!==void 0&&u.delete(L),(h=h||new Set).add(L)}let Ee;if(typeof S=="object"){let Q=!1;if(S.tag===er)Q=!0;else if(typeof b=="object"&&b.el===S&&y(b,$))Q=!0;else{if(b&&b.el.tag===S.tag)b.el=S,S.props.copy&&typeof S.props.copy!="string"&&(Q=!0);else if(b){let L=!1;for(let Ye=b,ae=b.fallback;ae;Ye=ae,ae=ae.fallback)if(ae.el.tag===S.tag){let Cr=yt(ae);g(Cr,Sr),Ye.fallback=Cr;let It=b;b=ae,b.el=S,b.fallback=It,g(b,W,!1),L=!0;break}if(!L){let Ye=b;b=new J(S),b.fallback=Ye}}else b=new J(S);Q&&y(b,$)||S.tag===Ue||S.tag===ne||(S.tag===q?Ee=De(e,r,t,n,i,b,b.el.props.children):typeof S.tag=="function"?Ee=xr(e,r,t,n,i,b):Ee=wt(e,r,n,i,b))}typeof b=="object"&&(Q?(g(b,Te),Ee=Tr(b)):g(b,Te,!1)),R(Ee)&&(d=!0)}else typeof S=="string"?typeof b=="object"&&b.el.tag===ne?b.el.props.value=S:(typeof b=="object"&&(m=m||[]).push(b),b=new J(le(ne,{value:S}))):(typeof b=="object"&&(m=m||[]).push(b),b=void 0);c[E]=Ee,l[E]=b}for(;w<A;w++){let E=s[w];typeof E=="object"&&(typeof E.el.props.key>"u"||!h||!h.has(E.el.props.key))&&(m=m||[]).push(E)}if(u!==void 0&&u.size>0){m=m||[];for(let E of u.values())m.push(E)}if(o.children=se(l),d){let E=Promise.all(c).then(()=>{}).finally(()=>{if(g(o,W),m)if(o.graveyard)for(let S=0;S<m.length;S++)o.graveyard.push(m[S]);else o.graveyard=m}),k,b=o.pendingDiff=Ie([E,new Promise(S=>k=S)]);return o.onNextDiff&&o.onNextDiff(b),o.onNextDiff=k,b}else{if(g(o,W),m)if(o.graveyard)for(let E=0;E<m.length;E++)o.graveyard.push(m[E]);else o.graveyard=m;o.onNextDiff&&(o.onNextDiff(c),o.onNextDiff=void 0),o.pendingDiff=void 0}}function Tr(e){if(e.ctx&&e.ctx.inflight)return e.ctx.inflight[1];if(e.pendingDiff)return e.pendingDiff}function Ln(e,r){let t=new Map;for(let n=r;n<e.length;n++){let i=e[n];typeof i=="object"&&typeof i.el.props.key<"u"&&t.set(i.el.props.key,i)}return t}function wt(e,r,t,n,i){let o=i.el,f=o.tag;return o.tag===x&&(r=i.value=o.props.root),y(i,$)?n=i.scope:n=i.scope=e.scope({tag:f,tagName:P(f),props:o.props,scope:n,root:r}),De(e,r,i,t,n,i,i.el.props.children)}function mr(e,r,t,n,i,o,f,s,l){if(y(t,Te)&&y(t,$))return T(t);let a=t.el,c=a.tag;(typeof c=="function"||c===q||c===x||c===Ue||c===ne)&&(typeof a.props.copy=="string"&&console.error(`String copy prop ignored for <${P(c)}>. Use booleans instead.`),typeof a.props.hydrate=="string"&&console.error(`String hydrate prop ignored for <${P(c)}>. Use booleans instead.`));let u,h;return l&&a.props.hydrate!=null&&!a.props.hydrate&&typeof a.props.hydrate!="string"&&(h=l,l=void 0),typeof c=="function"?(t.ctx.index=f,u=we(t.ctx,s,l)):(c===q?u=vr(e,r,n,i,o,t,f,s,l):c===ne?u=Bn(e,t,a,i,l,o):c===Ue?u=Dn(e,r,t,i,l,o):u=On(e,t,n,o,s,l),t.fallback&&(O(e,r,n,o,t.fallback,!1),t.fallback=void 0)),h&&h.splice(0,u==null?0:Array.isArray(u)?u.length:1),y(t,$)||(g(t,$),typeof c!="function"&&c!==q&&c!==x&&typeof a.props.ref=="function"&&a.props.ref(e.read(u))),u}function vr(e,r,t,n,i,o,f,s,l){let a=[],c=o.children,u=Array.isArray(c),h=c===void 0?0:u?c.length:1;for(let d=0;d<h;d++){let w=u?c[d]:c,A,m=!1;for(;w&&(!y(w,W)&&w.fallback||y(w,z));){if(y(w,z)&&w.ctx.schedule&&((A=A||[]).push(w.ctx.schedule.promise),m=!0),!y(w,W)&&y(w,$))for(let E of V(w))e.remove({node:E,parentNode:r.value,isNested:!1,root:i});if(w=w.fallback,A&&m&&w){if(y(w,W))A=void 0;else{let E=Tr(w);A.push(E)}y(w,lt)?m=!0:(g(w,lt,!0),m=!1)}}if(A&&A.length>1&&s.push(Ie(A)),w){let E=mr(e,r,w,t,n,i,f,s,l);if(Array.isArray(E)){for(let k=0;k<E.length;k++)a.push(E[k]);f+=E.length}else E&&(a.push(E),f++)}}if(o.graveyard){for(let d=0;d<o.graveyard.length;d++){let w=o.graveyard[d];O(e,r,t,i,w,!1)}o.graveyard=void 0}return o.lingerers&&(a=V(o)),a}function Bn(e,r,t,n,i,o){let f=e.text({value:t.props.value,scope:n,oldNode:r.value,hydrationNodes:i,root:o});return r.value=f,f}function Dn(e,r,t,n,i,o){if(!t.oldProps||t.oldProps.value!==t.el.props.value){let f=gr(t.value);for(let s=0;s<f.length;s++){let l=f[s];e.remove({node:l,parentNode:r.value,isNested:!1,root:o})}t.value=e.raw({value:t.el.props.value,scope:n,hydrationNodes:i,root:o})}return t.oldProps=rr(t.el.props),t.value}function On(e,r,t,n,i,o){if(y(r,Te)&&y(r,$))return T(r);let f=r.el.tag,s=rr(r.el.props),l=r.oldProps,a=r.value,c,u=!1;if(l){for(let m in s)s[m]===er&&(s[m]=l[m],(c=c||new Set).add(m));if(typeof r.el.props.copy=="string"){let m=new qe("copy",r.el.props.copy);if(m.include)for(let E of m.props)E in l&&(s[E]=l[E],(c=c||new Set).add(E));else for(let E in l)m.props.has(E)||(s[E]=l[E],(c=c||new Set).add(E));u=m.includes("children")}}let h=r.scope,d,w,A;if(!y(r,$))if(f===x){if(r.el.props.hydrate&&typeof r.el.props.hydrate!="string"&&(d=e.adopt({tag:f,tagName:P(f),node:a,props:s,scope:h,root:n}),d))for(let m=0;m<d.length;m++)e.remove({node:d[m],parentNode:a,isNested:!1,root:n})}else{if(!a&&o){let m=o.shift();if(typeof r.el.props.hydrate=="string")if(A=new qe("hydration",r.el.props.hydrate),A.include){w=new Set(Object.keys(s));for(let E of A.props)w.delete(E)}else w=A.props;if(d=e.adopt({tag:f,tagName:P(f),node:m,props:s,scope:h,root:n}),d){a=m;for(let E=0;E<d.length;E++)e.remove({node:d[E],parentNode:a,isNested:!1,root:n})}}a||(a=e.create({tag:f,tagName:P(f),props:s,scope:h,root:n})),r.value=a}if(f!==x&&e.patch({tag:f,tagName:P(f),node:a,props:s,oldProps:l,scope:h,root:n,copyProps:c,isHydrating:!!d,quietProps:w}),!u){let m=vr(e,r,t,h,f===x?a:n,r,0,i,A&&!A.includes("children")?void 0:d);e.arrange({tag:f,tagName:P(f),node:a,props:s,children:m,oldProps:l,scope:h,root:n})}if(r.oldProps=s,f===x){Et(e,r.value);return}return a}var qe=class{constructor(r,t){this.include=!0,this.props=new Set;let n=!0,i=!0,o=t.split(/[,\s]+/);for(let f=0;f<o.length;f++){let s=o[f].trim();if(s)s.startsWith("!")?(n=!1,this.props.add(s.slice(1))):(i=!1,this.props.add(s));else continue}!i&&!n?(console.error(`Invalid ${r} prop "${t}".
Use prop or !prop but not both.`),this.include=!0,this.props.clear()):this.include=n}includes(r){return this.include?this.props.has(r):!this.props.has(r)}};function jn(e,r){for(let t=r;t!==void 0;t=t.parent)if(t===e)return!0;return!1}var mt={};function Et(e,r,t){r!=null&&e.finalize(r),(typeof r!="object"||r===null)&&(r=mt);let n=Ne.get(r);if(n){let i=new Map;for(let[o,f]of n)(y(o.ret,z)||t&&!jn(t,o))&&(n.delete(o),i.set(o,f));i.size?Ne.set(r,i):Ne.delete(r);for(let[o,f]of n){let s=e.read(T(o.ret));for(let l of f)l(s)}}}function O(e,r,t,n,i,o){if(i.fallback&&(O(e,r,t,n,i.fallback,o),i.fallback=void 0),!y(i,Sr)){if(i.lingerers){for(let f=0;f<i.lingerers.length;f++){let s=i.lingerers[f];if(s)for(let l of s)O(e,r,t,n,l,o)}i.lingerers=void 0}typeof i.el.tag=="function"?Fn(i.ctx,o):i.el.tag===q?Ve(e,r,t,n,i,o):i.el.tag===x?(Ve(e,i,t,i.value,i,!1),i.value!=null&&e.finalize(i.value)):(Ve(e,i,t,n,i,!0),y(i,$)&&(t&&nt(t.ctx,[i.value],f=>f[_].host===r),e.remove({node:i.value,parentNode:r.value,isNested:o,root:n})))}}function Ve(e,r,t,n,i,o){if(i.graveyard){for(let s=0;s<i.graveyard.length;s++){let l=i.graveyard[s];O(e,r,t,n,l,o)}i.graveyard=void 0}let f=i.children;if(Array.isArray(f))for(let s=0;s<f.length;s++){let l=f[s];typeof l=="object"&&O(e,r,t,n,l,o)}else f!==void 0&&O(e,r,t,n,f,o)}var yr=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Ne=new WeakMap,Er=class{constructor(r,t,n,i,o,f){this.adapter=r,this.root=t,this.host=n,this.parent=i,this.ctx=new Ze(this),this.scope=o,this.ret=f,this.iterator=void 0,this.inflight=void 0,this.enqueued=void 0,this.onPropsProvided=void 0,this.onPropsRequested=void 0,this.pull=void 0,this.index=0,this.schedule=void 0}},_=Symbol.for("crank.ContextState"),Ze=class extends ke{constructor(r){super(r.parent?r.parent.ctx:null),this[_]=r}get props(){return this[_].ret.el.props}get value(){return console.warn("Context.value is deprecated."),this[_].adapter.read(T(this[_].ret))}get isExecuting(){return y(this[_].ret,v)}get isUnmounted(){return y(this[_].ret,N)}*[Symbol.iterator](){let r=this[_];g(r.ret,$e);try{for(;!y(r.ret,N)&&!y(r.ret,C);){if(y(r.ret,D))throw new Error(`<${P(r.ret.el.tag)}> context iterated twice without a yield`);g(r.ret,D),yield r.ret.el.props}}finally{g(r.ret,$e,!1)}}async*[Symbol.asyncIterator](){let r=this[_];g(r.ret,te);try{for(;!y(r.ret,N)&&!y(r.ret,C);){if(y(r.ret,D))throw new Error(`<${P(r.ret.el.tag)}> context iterated twice without a yield`);if(g(r.ret,D),y(r.ret,ve))g(r.ret,ve,!1),yield r.ret.el.props;else{let t=await new Promise(n=>r.onPropsProvided=n);if(y(r.ret,N)||y(r.ret,C))break;yield t}r.onPropsRequested&&(r.onPropsRequested(),r.onPropsRequested=void 0)}}finally{g(r.ret,te,!1),r.onPropsRequested&&(r.onPropsRequested(),r.onPropsRequested=void 0)}}refresh(r){let t=this[_];if(y(t.ret,N))return console.error(`Component <${P(t.ret.el.tag)}> is unmounted. Check the isUnmounted property if necessary.`),t.adapter.read(T(t.ret));if(y(t.ret,v))return console.error(`Component <${P(t.ret.el.tag)}> is already executing Check the isExecuting property if necessary.`),t.adapter.read(T(t.ret));if(r){let o=r();if(R(o))return Promise.resolve(o).then(()=>y(t.ret,N)?t.adapter.read(T(t.ret)):this.refresh())}y(t.ret,z)&&g(t.ret,_e);let n,i=[];try{if(g(t.ret,Ce),n=bt(t),R(n))return n.then(()=>t.adapter.read(we(t,i))).then(f=>i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):f).catch(f=>{let s=Be(t,f,i);return s?s.then(()=>i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))}).finally(()=>g(t.ret,Ce,!1));let o=t.adapter.read(we(t,i));return i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):o}catch(o){let f=Be(t,o,i);return f?f.then(()=>{if(i.length)return Promise.all(i).then(()=>t.adapter.read(T(t.ret)))}).then(()=>t.adapter.read(T(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))}finally{R(n)||g(t.ret,Ce,!1)}}schedule(r){if(!r)return new Promise(i=>this.schedule(i));let t=this[_],n=Je.get(t);n||(n=new Set,Je.set(t,n)),n.add(r)}after(r){if(!r)return new Promise(f=>this.after(f));let t=this[_],n=t.root||mt,i=Ne.get(n);i||(i=new Map,Ne.set(n,i));let o=i.get(t);o||(o=new Set,i.set(t,o)),o.add(r)}flush(r){console.error("Context.flush() method has been renamed to after()"),this.after(r)}cleanup(r){if(!r)return new Promise(i=>this.cleanup(i));let t=this[_];if(y(t.ret,N)){let i=t.adapter.read(T(t.ret));r(i);return}let n=Qe.get(t);n||(n=new Set,Qe.set(t,n)),n.add(r)}consume(r){for(let t=this[_].parent;t!==void 0;t=t.parent){let n=yr.get(t);if(n&&n.has(r))return n.get(r)}}provide(r,t){let n=this[_],i=yr.get(n);i||(i=new Map,yr.set(n,i)),i.set(r,t)}[ke.dispatchEventOnSelf](r){let t=this[_],n=t.ret.el.props["on"+r.type];if(typeof n=="function")n(r);else for(let i in t.ret.el.props)i.toLowerCase()==="on"+r.type.toLowerCase()&&(n=t.ret.el.props[i],typeof n=="function"&&n(r))}};function xr(e,r,t,n,i,o){let f;if(o.ctx){if(f=o.ctx,y(f.ret,v)){console.error(`Component <${P(f.ret.el.tag)}> is already executing`);return}else if(f.schedule)return f.schedule.promise.then(()=>xr(e,r,t,n,i,o))}else f=o.ctx=new Er(e,r,t,n,i,o);return g(f.ret,Me),bt(f)}function pe(e,r,t){if(y(e.ret,N)||y(e.ret,C))return;r===void 0&&console.error(`Component <${P(e.ret.el.tag)}> has ${t?"yielded":"returned"} undefined. If this was intentional, ${t?"yield":"return"} null instead.`);let n;try{g(e.ret,v),n=De(e.adapter,e.root,e.host,e,e.scope,e.ret,kr(r)),n&&(n=n.catch(i=>br(e,i)))}catch(i){n=br(e,i)}finally{g(e.ret,v,!1)}return n}function bt(e){if(e.inflight){if(!e.enqueued){let r;e.enqueued=[new Promise(t=>r=t).finally(()=>ct(e)),e.inflight[0].finally(()=>{let[t,n]=ht(e);return r(t),n})]}}else{let[r,t]=ht(e);return r&&(e.inflight=[r.finally(()=>ct(e)),t]),t}return e.enqueued[1]}function ct(e){e.inflight=e.enqueued,e.enqueued=void 0}function ht(e){if(y(e.ret,N))return[void 0,void 0];let r=e.ret,t=!e.iterator;if(t){g(e.ret,v),pr(e.ctx);let i;try{i=r.el.tag.call(e.ctx,r.el.props,e.ctx)}catch(o){throw g(e.ret,C),o}finally{g(e.ret,v,!1)}if(ot(i))e.iterator=i;else if(R(i)){let o=i instanceof Promise?i:Promise.resolve(i);return[o.catch(X),o.then(f=>pe(e,f,!1),f=>{throw g(e.ret,C),f})]}else return[void 0,pe(e,i,!1)]}let n;if(t){try{g(e.ret,v),n=e.iterator.next()}catch(i){throw g(e.ret,C),i}finally{g(e.ret,v,!1)}R(n)?g(e.ret,ge):g(e.ret,de)}if(y(e.ret,de)){if(!t)try{g(e.ret,v);let f=e.adapter.read(T(e.ret));n=e.iterator.next(f)}catch(f){throw g(e.ret,C),f}finally{g(e.ret,v,!1)}if(R(n))throw new Error("Mixed generator component");y(e.ret,$e)&&!y(e.ret,D)&&!y(e.ret,N)&&!y(e.ret,_e)&&console.error(`Component <${P(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),g(e.ret,D,!1),g(e.ret,_e,!1),n.done&&(g(e.ret,de,!1),e.iterator=void 0);let i=pe(e,n.value,!n.done);return[R(i)?i.catch(X):void 0,i]}else{if(y(e.ret,te))return pt(e,n),[Le(e),e.pull&&e.pull.diff];{if(Le(e),!t)try{g(e.ret,v);let o=e.adapter.read(T(e.ret));n=e.iterator.next(o)}catch(o){throw g(e.ret,C),o}finally{g(e.ret,v,!1)}if(!R(n))throw new Error("Mixed generator component");let i=n.then(o=>(y(e.ret,te)?pt(e,o):y(e.ret,$e)&&!y(e.ret,D)&&!y(e.ret,N)&&!y(e.ret,_e)&&console.error(`Component <${P(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),g(e.ret,D,!1),g(e.ret,_e,!1),o.done&&(g(e.ret,ge,!1),e.iterator=void 0),pe(e,o.value,!o.done)),o=>{throw g(e.ret,C),o});return[i.catch(X),i]}}}function Le(e){if(e.onPropsProvided)e.onPropsProvided(e.ret.el.props),e.onPropsProvided=void 0,g(e.ret,ve,!1);else if(g(e.ret,ve),y(e.ret,te))return new Promise(r=>e.onPropsRequested=r);return e.pull&&e.pull.iterationP&&e.pull.iterationP.then(X,X)}async function pt(e,r){if(!r||e.pull)return;e.pull={iterationP:void 0,diff:void 0,onChildError:void 0};let t=!1;try{let n;for(;!t;){R(r)&&(e.pull.iterationP=r);let i;e.pull.diff=new Promise(l=>i=l).then(()=>{y(e.ret,Me)||y(e.ret,Ce)||we(e,[])},l=>{if(!(y(e.ret,Me)||y(e.ret,Ce))||!y(e.ret,D))return Be(e,l,[]);throw l});let o;try{o=await r}catch(l){t=!0,g(e.ret,C),g(e.ret,D,!1),i(Promise.reject(l));break}let f;{let l=!0,a=new Promise((c,u)=>{e.ctx.schedule(c),e.pull.onChildError=h=>{if(u(h),l)return n=h,Le(e),e.pull.diff}});a.catch(X),f=Object.create(a),f.then=function(c,u){return l=!1,a.then(c,u)},f.catch=function(c){return l=!1,a.catch(c)}}if(n!=null)try{if(g(e.ret,v),typeof e.iterator.throw!="function")throw n;o=await e.iterator.throw(n)}catch(l){t=!0,g(e.ret,C),g(e.ret,D,!1),i(Promise.reject(l));break}finally{n=void 0,g(e.ret,v,!1)}y(e.ret,te)||g(e.ret,ve,!1),t=!!o.done;let s;try{R(r)?!y(e.ret,D)&&y(e.ret,ve)&&y(e.ret,te)?s=void 0:s=pe(e,o.value,!o.done):s=void 0}catch(l){i(Promise.reject(l))}finally{i(s),g(e.ret,D,!1)}if(y(e.ret,N)){for(;(!o||!o.done)&&e.iterator&&y(e.ret,te);)try{g(e.ret,v),o=await e.iterator.next(f)}catch(l){throw g(e.ret,C),l}finally{g(e.ret,v,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{g(e.ret,v),await e.iterator.return()}catch(l){throw g(e.ret,C),l}finally{g(e.ret,v,!1)}break}else if(y(e.ret,te)){if(!o.done)try{g(e.ret,v),r=e.iterator.next(f)}finally{g(e.ret,v,!1)}}else break}}finally{t&&(g(e.ret,ge,!1),e.iterator=void 0),e.pull=void 0}}function we(e,r,t){if(e.schedule)return e.schedule.promise.then(()=>{we(e,[]),wr(e)}),T(e.ret);let n=vr(e.adapter,e.host,e,e.scope,e.root,e.ret,e.index,r,t);if(y(e.ret,N))return;hr(e.ctx,n);let i=y(e.ret,z),o,f=Je.get(e);if(f){Je.delete(e),g(e.ret,z);let s=e.adapter.read(se(n));for(let l of f){let a=l(s);R(a)&&(o=o||[]).push(a)}if(o&&!y(e.ret,$)){let l=Promise.all(o).then(()=>{g(e.ret,z,i),wr(e),e.ret.fallback&&O(e.adapter,e.host,e.parent,e.root,e.ret.fallback,!1),e.ret.fallback=void 0}),a,c=Ie([l,new Promise(u=>a=u)]).finally(()=>{e.schedule=void 0});e.schedule={promise:c,onAbort:a},r.push(c)}else g(e.ret,z,i)}else g(e.ret,z,i);return y(e.ret,z)||(y(e.ret,Me)||wr(e),e.ret.fallback&&O(e.adapter,e.host,e.parent,e.root,e.ret.fallback,!1),e.ret.fallback=void 0,g(e.ret,Me,!1)),g(e.ret,$),T(e.ret,!0)}function Yn(e,r){let t=[r];for(;t.length>0;){let n=t.pop();if(n===e)return!0;let i=n!==r&&(typeof n.el.tag=="string"&&n.el.tag!==q||n.el.tag===x);if(n.children&&!i)if(Array.isArray(n.children))for(let o of n.children)o&&t.push(o);else t.push(n.children);n.fallback&&!y(n,W)&&t.push(n.fallback)}return!1}function wr(e){let r=V(e.ret,e.index);hr(e.ctx,r,f=>f[_].host===e.host);let t=e.host,n=e.ret;if(!Yn(n,t)||!y(t,$))return;let i=rr(t.el.props),o=V(t,0);e.adapter.arrange({tag:t.el.tag,tagName:P(t.el.tag),node:t.value,props:i,oldProps:i,children:o,scope:t.scope,root:e.root}),Et(e.adapter,e.root,e)}async function Fn(e,r){if(y(e.ret,N))return;let t,n=Qe.get(e);if(n){let o=e.adapter.read(T(e.ret));Qe.delete(e);for(let f of n){let s=f(o);R(s)&&(t=t||[]).push(s)}}let i=!1;if(!r&&t&&V(e.ret).length>0){i=!0;let o=e.index,f=e.host.lingerers||(e.host.lingerers=[]),s=f[o];s==null&&(s=new Set,f[o]=s),s.add(e.ret),await Promise.all(t),s.delete(e.ret),s.size===0&&(f[o]=void 0),f.some(Boolean)||(e.host.lingerers=void 0)}if(!y(e.ret,N)&&(g(e.ret,N),e.schedule&&(e.schedule.onAbort(),e.schedule=void 0),pr(e.ctx),Ve(e.adapter,e.host,e,e.root,e.ret,r),i&&e.root!=null&&e.adapter.finalize(e.root),e.iterator)){if(e.pull){Le(e);return}e.inflight&&await e.inflight[1];let o;if(y(e.ret,$e))try{g(e.ret,v);let f=e.adapter.read(T(e.ret)),s=e.iterator.next(f);if(R(s)){if(!y(e.ret,ge))throw new Error("Mixed generator component");o=await s}else{if(!y(e.ret,de))throw new Error("Mixed generator component");o=s}}catch(f){throw g(e.ret,C),f}finally{g(e.ret,v,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{g(e.ret,v);let f=e.iterator.return();if(R(f)){if(!y(e.ret,ge))throw new Error("Mixed generator component");o=await f}else{if(!y(e.ret,de))throw new Error("Mixed generator component");o=f}}catch(f){throw g(e.ret,C),f}finally{g(e.ret,v,!1)}}}function br(e,r){if(!e.iterator)throw r;if(e.pull)return e.pull.onChildError(r),e.pull.diff;if(!e.iterator.throw)throw r;Le(e);let t;try{g(e.ret,v),t=e.iterator.throw(r)}catch(n){throw g(e.ret,C),n}finally{g(e.ret,v,!1)}return R(t)?t.then(n=>(n.done&&(g(e.ret,de,!1),g(e.ret,ge,!1),e.iterator=void 0),pe(e,n.value,!n.done)),n=>{throw g(e.ret,C),n}):(t.done&&(g(e.ret,de,!1),g(e.ret,ge,!1),e.iterator=void 0),pe(e,t.value,!t.done))}function Be(e,r,t){let n=e.parent;if(!n)throw r;let i;try{i=br(n,r)}catch(o){return Be(n,o,t)}if(R(i))return i.then(()=>{we(n,t)},o=>Be(n,o,t));we(n,t)}var At=new Map;function St(e,...r){let t=JSON.stringify(e.raw),n=At.get(t);if(n==null){n=Wn(e.raw);let f=!1;for(let s=0;s<n.targets.length;s++){let l=n.targets[s];if(l&&l.type==="error"){f=!0;break}}f||At.set(t,n)}let{element:i,targets:o}=n;for(let f=0;f<r.length;f++){let s=r[f],l=o[f];if(l){if(l.type==="error"){let a=l.message.replace("${}",_r(s));throw new SyntaxError(l.spanIndex!=null&&l.charIndex!=null?U(a,e.raw,l.spanIndex,l.charIndex):a)}l.value=s}}return Tt(i,n.spans)}var zn=St,xe=/((?:\r|\n|\r\n)\s*)|(<!--[\S\s]*?(?:-->|$))|(<\s*(\/{0,2})\s*([-_$\w]*))/g,Rr=/\s*(?:(\/?\s*>)|(\.\.\.\s*)|(?:([-_$\w]+)\s*(=)?\s*(?:("(\\"|[\S\s])*?(?:"|$)|'(?:\\'|[\S\s])*?(?:'|$)))?))/g,kt=/>/g,tr=/[^\\]?'/g,Pr=/[^\\]?"/g,Ir=/-->/g;function Wn(e){let r=xe,t=[],n={type:"element",open:{type:"tag",slash:"",value:""},close:null,props:[],children:[]},i=[],o=!0;for(let f=0;f<e.length;f++){let s=e[f],l=f<e.length-1,a=null;for(let c=0,u=c;c<s.length;c=u){r.lastIndex=c;let h=r.exec(s);switch(u=h?h.index+h[0].length:s.length,r){case xe:{if(h){let[,d,w,A,m,E]=h;if(c<h.index){let k=s.slice(c,h.index);o&&(k=k.replace(/^\s*/,"")),d&&(s[Math.max(0,h.index-1)]==="\\"?k=k.slice(0,-1):k=k.replace(/\s*$/,"")),k&&n.children.push({type:"value",value:k})}if(o=!!d,w)u===s.length&&(r=Ir);else if(A)if(m)if(n.close={type:"tag",slash:m,value:E,spanIndex:f,charIndex:h.index},t.length)u===s.length&&(a=n.close),n=t.pop(),r=kt;else{if(u!==s.length)throw new SyntaxError(U(`Unmatched closing tag "${E}"`,e,f,h.index));a={type:"error",message:"Unmatched closing tag ${}",value:null,spanIndex:f,charIndex:h.index}}else{let k={type:"element",open:{type:"tag",slash:"",value:E,spanIndex:f,charIndex:h.index},close:null,props:[],children:[]};n.children.push(k),t.push(n),n=k,r=Rr,u===s.length&&(a=n.open)}}else if(c<s.length){let d=s.slice(c);l||(d=d.replace(/\s*$/,"")),d&&n.children.push({type:"value",value:d})}break}case Rr:{if(h){let[,d,w,A,m,E]=h;if(c<h.index)throw new SyntaxError(U(`Unexpected text \`${s.slice(c,h.index).trim()}\``,e,f,c));if(d)d[0]==="/"&&(n=t.pop()),r=xe;else if(w){let k={type:"value",value:null};if(n.props.push(k),a=k,!(l&&u===s.length))throw new SyntaxError(U('Expression expected after "..."',e,f,h.index))}else if(A){let k;if(E==null)if(!m)k={type:"value",value:!0};else{if(u<s.length)throw new SyntaxError(U(`Unexpected text \`${s.slice(u,u+20)}\``,e,f,u));if(k={type:"value",value:null},a=k,!(l&&u===s.length))throw new SyntaxError(U(`Expression expected for prop "${A}"`,e,f,h.index))}else{let S=E[0];k={type:"propString",parts:[]},k.parts.push(E),u===s.length&&(r=S==="'"?tr:Pr)}let b={type:"prop",name:A,value:k};n.props.push(b)}}else if(!l)throw c===s.length?new SyntaxError(U("Expected props but reached end of document",e,f,c)):new SyntaxError(U(`Unexpected text \`${s.slice(c,c+20).trim()}\``,e,f,c));break}case kt:{if(h){if(c<h.index)throw new SyntaxError(U(`Unexpected text \`${s.slice(c,h.index).trim()}\``,e,f,c));r=xe}else if(!l)throw new SyntaxError(U(`Unexpected text \`${s.slice(c,c+20).trim()}\``,e,f,c));break}case tr:case Pr:{let d=s.slice(c,u);if(n.props[n.props.length-1].value.parts.push(d),h)r=Rr;else if(!l)throw new SyntaxError(U(`Missing \`${r===tr?"'":'"'}\``,e,f,c));break}case Ir:{if(h)r=xe;else if(!l)throw new SyntaxError(U("Expected `-->` but reached end of template",e,f,c));break}}}if(l){if(a){if(i.push(a),a.type==="error")break;continue}switch(r){case xe:{let c={type:"value",value:null};n.children.push(c),i.push(c);break}case tr:case Pr:{let c=n.props[n.props.length-1],u={type:"value",value:null};c.value.parts.push(u),i.push(u);break}case Ir:i.push(null);break;default:throw new SyntaxError(U("Unexpected expression",e,f,e[f].length))}}else if(a)throw new SyntaxError(U("Expression expected",e,f,e[f].length));o=!1}if(t.length){let f=i.indexOf(n.open);if(f===-1)throw new SyntaxError(U(`Unmatched opening tag "${n.open.value}"`,e,n.open.spanIndex??0,n.open.charIndex??0));i[f]={type:"error",message:"Unmatched opening tag ${}",value:null,spanIndex:n.open.spanIndex,charIndex:n.open.charIndex}}return n.children.length===1&&n.children[0].type==="element"&&(n=n.children[0]),{element:n,targets:i,spans:e}}function Tt(e,r){if(e.close!==null&&e.close.slash!=="//"&&e.open.value!==e.close.value){let i=`Unmatched closing tag ${_r(e.close.value)}, expected ${_r(e.open.value)}`;throw new SyntaxError(r&&e.close.spanIndex!=null&&e.close.charIndex!=null?U(i,r,e.close.spanIndex,e.close.charIndex):i)}let t=[];for(let i=0;i<e.children.length;i++){let o=e.children[i];t.push(o.type==="element"?Tt(o,r):o.value)}let n=e.props.length?{}:null;for(let i=0;i<e.props.length;i++){let o=e.props[i];if(o.type==="prop"){let f;if(o.value.type==="value")f=o.value.value;else{let s="";for(let l=0;l<o.value.parts.length;l++){let a=o.value.parts[l];typeof a=="string"?s+=a:typeof a.value!="boolean"&&a.value!=null&&(s+=typeof a.value=="string"?a.value:String(a.value))}f=s.slice(1,-1).replace(/\\x[0-9a-f]{2}|\\u[0-9a-f]{4}|\\u\{[0-9a-f]+\}|\\./gi,l=>{switch(l[1]){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"x":return String.fromCharCode(parseInt(l.slice(2),16));case"u":return l[2]==="{"?String.fromCodePoint(parseInt(l.slice(3,-1),16)):String.fromCharCode(parseInt(l.slice(2),16));case"0":return"\0";default:return l.slice(1)}})}n[o.name]=f}else n={...n,...o.value}}return le(e.open.value,n,...t)}function _r(e){return typeof e=="function"?e.name+"()":typeof e=="string"?`"${e}"`:JSON.stringify(e)}function U(e,r,t,n){let i=r[0];for(let d=1;d<r.length;d++)i+="${}"+r[d];let o=0;for(let d=0;d<t;d++)o+=r[d].length+3;o+=n;let f=i.split(/\n/),s=0,l=o;for(let d=0;d<f.length;d++){if(l<=f[d].length){s=d;break}l-=f[d].length+1}let a=`${e}

`,c=Math.max(0,s-1),u=Math.min(f.length-1,s+1),h=String(u+1).length;for(let d=c;d<=u;d++){let w=String(d+1).padStart(h);d===s?(a+=`> ${w} | ${f[d]}
`,a+=`  ${" ".repeat(h)} | ${" ".repeat(l)}^
`):a+=`  ${w} | ${f[d]}
`}return a.trimEnd()}function Oe(e){return/^[A-Z]/.test(e)?`-${e.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`).slice(1)}`:e.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}var Hn=new Set(["animation-iteration-count","aspect-ratio","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom"]);function nr(e,r){return typeof r=="number"?Hn.has(e)?String(r):`${r}px`:String(r)}var Re={accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",xmlnsXlink:"xmlns:xlink"};var me="http://www.w3.org/2000/svg",je="http://www.w3.org/1998/Math/MathML";function ir(e){return e&&e.ownerDocument?e.ownerDocument:e&&e.nodeType===Node.DOCUMENT_NODE?e:document}function Gn(e,r){let t=e;do if(Object.prototype.hasOwnProperty.call(t,r))break;while(t=Object.getPrototypeOf(t));if(t===null)return!1;let n=Object.getOwnPropertyDescriptor(t,r);return n!=null&&(n.writable===!0||n.set!==void 0)}function M(e,r,t,n,i,o){let f=e,s=o||e;if(!r||!r.has(f))if(t===null||t===!1)console.warn(`Expected "${s}" to be missing but found ${String(n)} while hydrating:`,i);else if(t===!0||t==="")console.warn(`Expected "${s}" to be ${t===!0?"present":'""'} but found ${String(n)} while hydrating:`,i);else{let l=i.ownerDocument.defaultView;if(l&&l.location){let a=l.location.origin;if(new URL(t,a).href===new URL(n,a).href)return}console.warn(`Expected "${s}" to be "${String(t)}" but found ${String(n)} while hydrating:`,i)}}function vt(e,r,t,n,i,o,f,s,l,a){if(s!=null&&s.has(r))return;let c=r.indexOf(":");if(c!==-1){let[u,h]=[r.slice(0,c),r.slice(c+1)];switch(u){case"prop":e[h]=t;return;case"attr":if(t==null||t===!1){a&&e.hasAttribute(h)&&M(r,l,t,e.getAttribute(h),e),e.removeAttribute(h);return}else if(t===!0){a&&!e.hasAttribute(h)&&M(r,l,t,null,e),e.setAttribute(h,"");return}typeof t!="string"&&(t=String(t)),a&&e.getAttribute(h)!==t&&M(r,l,t,e.getAttribute(h),e),e.setAttribute(h,t);return}}switch(r){case"style":{let u=e.style;if(t==null||t===!1)a&&u.cssText!==""&&M(r,l,t,u.cssText,e),e.removeAttribute("style");else if(t===!0)a&&u.cssText!==""&&M(r,l,"",u.cssText,e),e.setAttribute("style","");else if(typeof t=="string")u.cssText!==t&&(u.cssText=t);else{if(typeof n=="string"&&(u.cssText=""),n)for(let h in n){if(t&&h in t)continue;let d=Oe(h);a&&u.getPropertyValue(d)!==""&&M(r,l,null,u.getPropertyValue(d),e,`style.${h}`),u.removeProperty(d)}if(t)for(let h in t){let d=Oe(h),w=t[h];if(w==null)a&&u.getPropertyValue(d)!==""&&M(r,l,null,u.getPropertyValue(d),e,`style.${h}`),u.removeProperty(d);else{let A=nr(d,w);u.getPropertyValue(d)!==A&&u.setProperty(d,A)}}}break}case"class":case"className":if(r==="className"&&"class"in i)break;if(t===!0)a&&e.getAttribute("class")!==""&&M(r,l,"",e.getAttribute("class"),e),e.setAttribute("class","");else if(t==null)a&&e.hasAttribute("class")&&M(r,l,t,e.getAttribute("class"),e),e.removeAttribute("class");else if(typeof t=="object"){typeof n=="string"&&e.setAttribute("class","");let u=!1,h=a?new Set(Array.from(e.classList)):void 0,d=a?e.getAttribute("class"):void 0;if(n)for(let w in n){if(t&&t[w])continue;let A=w.split(/\s+/).filter(Boolean);e.classList.remove(...A)}if(t)for(let w in t){if(!t[w])continue;let A=w.split(/\s+/).filter(Boolean);e.classList.add(...A);for(let m of A)h&&h.has(m)?h.delete(m):a&&(u=!0)}(u||h&&h.size>0)&&M(r,l,Object.keys(t).filter(w=>t[w]).join(" "),d||"",e)}else!o&&!f?e.className!==t&&(a&&M(r,l,t,e.className,e),e.className=t):e.getAttribute("class")!==t&&(a&&M(r,l,t,e.getAttribute("class"),e),e.setAttribute("class",t));break;case"innerHTML":t!==n&&(a&&M(r,l,t,e.innerHTML,e),e.innerHTML=t);break;case"dangerouslySetInnerHTML":{let u=t&&typeof t=="object"&&"__html"in t?t.__html??"":"",h=n&&typeof n=="object"&&"__html"in n?n.__html??"":"";u!==h&&(e.innerHTML=u);break}case"htmlFor":if("for"in i)break;t==null||t===!1?e.removeAttribute("for"):e.setAttribute("for",String(t===!0?"":t));break;default:{if(r[0]==="o"&&r[1]==="n"&&r[2]===r[2].toUpperCase()&&typeof t=="function"&&(r=r.toLowerCase()),o&&r in Re&&(r=Re[r]),r in e&&!(typeof t=="string"&&typeof e[r]=="boolean")&&Gn(e,r)){let u=e[r],h=t;if((r==="src"||r==="href")&&typeof t=="string"&&typeof u=="string")try{h=new URL(t,e.baseURI).href}catch{}(h!==u||n===void 0)&&(a&&typeof e[r]=="string"&&e[r]!==t&&M(r,l,t,e[r],e),e[r]=t);return}if(t===!0)t="";else if(t==null||t===!1){a&&e.hasAttribute(r)&&M(r,l,t,e.getAttribute(r),e),e.removeAttribute(r);return}else typeof t!="string"&&(t=String(t));e.getAttribute(r)!==t&&(a&&M(r,l,t,e.getAttribute(r),e),e.setAttribute(r,t))}}}var Kn={scope({scope:e,tag:r,props:t,root:n}){switch(r){case x:{let i=n instanceof Element?n.namespaceURI:null;e=i===me?me:i===je?je:void 0;break}case"svg":e=me;break;case"math":e=je;break;case"foreignObject":e=void 0;break}return t.xmlns||e},create({tag:e,tagName:r,scope:t,root:n}){if(typeof e!="string")throw new Error(`Unknown tag: ${r}`);e.toLowerCase()==="svg"?t=me:e.toLowerCase()==="math"?t=je:e==="foreignObject"&&(t=me);let i=ir(n);return t?i.createElementNS(t,e):i.createElement(e)},adopt({tag:e,tagName:r,node:t,root:n}){if(typeof e!="string"&&e!==x)throw new Error(`Unknown tag: ${r}`);let i=ir(n);if((t===i.body||t===i.head||t===i.documentElement||t===i)&&console.warn(`Hydrating ${t.nodeName.toLowerCase()} is discouraged as it is destructive and may remove unknown nodes.`),t==null||typeof e=="string"&&(t.nodeType!==Node.ELEMENT_NODE||e.toLowerCase()!==t.tagName.toLowerCase())){console.warn(`Expected <${r}> while hydrating but found: `,t);return}return Array.from(t.childNodes)},patch({tag:e,tagName:r,node:t,props:n,oldProps:i,scope:o,copyProps:f,quietProps:s,isHydrating:l}){if(t.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Cannot patch node: ${String(t)}`);n.class&&n.className&&console.error(`Both "class" and "className" set in props for <${r}>. Use one or the other.`);let a=t,c=o===me||e==="foreignObject",u=o===je;if(i)for(let h in i)h in n||vt(a,h,void 0,i[h],n,c,u,f,s,l);for(let h in n)vt(a,h,n[h],i?i[h]:void 0,n,c,u,f,s,l)},arrange({tag:e,node:r,props:t,children:n}){if(e===x&&(r==null||typeof r.nodeType!="number"))throw new TypeError(`<Portal> root is not a node. Received: ${String(r)}`);if(!("innerHTML"in t)&&!("dangerouslySetInnerHTML"in t)){let i=r.firstChild;for(let o=0;o<n.length;o++){let f=n[o];i===f?i=i.nextSibling:(r.insertBefore(f,i),e!==x&&i&&o+1<n.length&&i!==n[o+1]&&(i=i.nextSibling))}}},remove({node:e,parentNode:r,isNested:t}){!t&&e.parentNode===r&&r.removeChild(e)},text({value:e,oldNode:r,hydrationNodes:t,root:n}){let i=ir(n);if(t!=null){let o=t.shift();if(!o||o.nodeType!==Node.TEXT_NODE)console.warn(`Expected "${e}" while hydrating but found:`,o);else{let f=o.data;if(f.length>e.length){if(f.startsWith(e))return o.data=e,t.unshift(i.createTextNode(f.slice(e.length))),o}else if(f===e)return o;console.warn(`Expected "${e}" while hydrating but found:`,f),r=o}}return r!=null?(r.data!==e&&(r.data=e),r):i.createTextNode(e)},raw({value:e,scope:r,hydrationNodes:t,root:n}){let i;if(typeof e=="string"){let o=ir(n),f=r==null?o.createElement("div"):r===me?o.createElementNS(r,"svg"):o.createElementNS(r,"math");f.innerHTML=e,i=Array.from(f.childNodes)}else i=e==null?[]:Array.isArray(e)?[...e]:[e];if(t!=null)for(let o=0;o<i.length;o++){let f=i[o],s=t.shift();s&&typeof s=="object"&&typeof s.nodeType=="number"&&f.isEqualNode(s)?i[o]=s:console.warn(`Expected <Raw value="${String(e)}"> while hydrating but found:`,s)}return i.length===0?void 0:i.length===1?i[0]:i}},or=class extends ye{constructor(){super(Kn)}render(r,t,n){return xt(t),super.render(r,t,n)}hydrate(r,t,n){return xt(t),super.hydrate(r,t,n)}};function xt(e){if(e==null||typeof e=="object"&&typeof e.nodeType!="number")throw new TypeError(`Render root is not a node. Received: ${String(e)}`);if(e.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Render root must be an element node. Received: ${String(e)}`)}var Rt=new or;var Xn=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);function H(e){return e.replace(/[&<>"']/g,r=>{switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#039;";default:return""}})}function Vn(e){let r=[];for(let[t,n]of Object.entries(e))if(n!=null){let i=Oe(t),o=nr(i,n);r.push(`${i}:${o};`)}return r.join("")}function qn(e,r){let t=[];for(let[n,i]of Object.entries(e))if(!(n==="innerHTML"||n==="dangerouslySetInnerHTML"||n.startsWith("prop:")))if(n==="htmlFor"){if("for"in e||i==null||i===!1)continue;t.push(`for="${H(String(i===!0?"":i))}"`)}else if(n==="style")typeof i=="string"?t.push(`style="${H(i)}"`):typeof i=="object"&&i!==null&&t.push(`style="${H(Vn(i))}"`);else if(n==="className"){if("class"in e||typeof i!="string")continue;t.push(`class="${H(i)}"`)}else if(n==="class"){if(typeof i=="string")t.push(`class="${H(i)}"`);else if(typeof i=="object"&&i!==null){let o=Object.keys(i).filter(f=>i[f]).join(" ");o&&t.push(`class="${H(o)}"`)}}else n.startsWith("attr:")?n=n.slice(5):r&&n in Re&&(n=Re[n]),typeof i=="string"?t.push(`${H(n)}="${H(i)}"`):typeof i=="number"?t.push(`${H(n)}="${i}"`):i===!0&&t.push(`${H(n)}`);return t.join(" ")}function Pt(e){let r="";for(let t=0;t<e.length;t++){let n=e[t];r+=typeof n=="string"?n:n.value}return r}var Jn={scope({scope:e,tag:r}){if(r!==x){switch(r){case"svg":return"svg";case"math":return"math";case"foreignObject":return}return e}},create(){return{value:""}},text({value:e}){return{value:H(e)}},read(e){return Array.isArray(e)?Pt(e):typeof e>"u"?"":typeof e=="string"?e:e.value||""},arrange({tag:e,tagName:r,node:t,props:n,children:i,scope:o}){var a;if(e===x)return;if(typeof e!="string")throw new Error(`Unknown tag: ${r}`);let f=qn(n,o==="svg"||e==="foreignObject"),s=`<${e}${f.length?" ":""}${f}>`,l;if(Xn.has(e))l=s;else{let c=`</${e}>`,u="innerHTML"in n?n.innerHTML:"dangerouslySetInnerHTML"in n?((a=n.dangerouslySetInnerHTML)==null?void 0:a.__html)??"":Pt(i);l=`${s}${u}${c}`}t.value=l}},fr=class extends ye{constructor(){super(Jn)}},Qn=new fr;export{Ze as Context,er as Copy,or as DOMRenderer,Se as Element,q as Fragment,fr as HTMLRenderer,x as Portal,Ue as Raw,ye as Renderer,ne as Text,gt as cloneElement,le as createElement,Rt as domRenderer,zn as html,Qn as htmlRenderer,Ar as isElement,St as jsx,Rt as renderer};
/*! Bundled license information:

@esbuild-plugins/node-globals-polyfill/Buffer.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)
*/
