function Pr(){throw new Error("setTimeout has not been defined")}function xr(){throw new Error("clearTimeout has not been defined")}var ee=Pr,re=xr;typeof globalThis.setTimeout=="function"&&(ee=setTimeout);typeof globalThis.clearTimeout=="function"&&(re=clearTimeout);function _r(e){if(ee===setTimeout)return setTimeout(e,0);if((ee===Pr||!ee)&&setTimeout)return ee=setTimeout,setTimeout(e,0);try{return ee(e,0)}catch{try{return ee.call(null,e,0)}catch{return ee.call(this,e,0)}}}function Rt(e){if(re===clearTimeout)return clearTimeout(e);if((re===xr||!re)&&clearTimeout)return re=clearTimeout,clearTimeout(e);try{return re(e)}catch{try{return re.call(null,e)}catch{return re.call(this,e)}}}var q=[],Ee=!1,se,Me=-1;function Pt(){!Ee||!se||(Ee=!1,se.length?q=se.concat(q):Me=-1,q.length&&Ir())}function Ir(){if(!Ee){var e=_r(Pt);Ee=!0;for(var r=q.length;r;){for(se=q,q=[];++Me<r;)se&&se[Me].run();Me=-1,r=q.length}se=null,Ee=!1,Rt(e)}}function xt(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];q.push(new Cr(e,r)),q.length===1&&!Ee&&_r(Ir)}function Cr(e,r){this.fun=e,this.array=r}Cr.prototype.run=function(){this.fun.apply(null,this.array)};var _t="browser",It="browser",Ct=!0,Ut={},Nt=[],Mt="",Lt={},Bt={},$t={};function fe(){}var Dt=fe,Ot=fe,Yt=fe,jt=fe,Ft=fe,Wt=fe,zt=fe;function Gt(e){throw new Error("process.binding is not supported")}function Ht(){return"/"}function Vt(e){throw new Error("process.chdir is not supported")}function Kt(){return 0}var me=globalThis.performance||{},qt=me.now||me.mozNow||me.msNow||me.oNow||me.webkitNow||function(){return new Date().getTime()};function Jt(e){var r=qt.call(me)*.001,t=Math.floor(r),n=Math.floor(r%1*1e9);return e&&(t=t-e[0],n=n-e[1],n<0&&(t--,n+=1e9)),[t,n]}var Qt=new Date;function Xt(){var e=new Date,r=e-Qt;return r/1e3}var Y={nextTick:xt,title:_t,browser:Ct,env:Ut,argv:Nt,version:Mt,versions:Lt,on:Dt,addListener:Ot,once:Yt,off:jt,removeListener:Ft,removeAllListeners:Wt,emit:zt,binding:Gt,cwd:Ht,chdir:Vt,umask:Kt,hrtime:Jt,platform:It,release:Bt,config:$t,uptime:Xt},Rr={};Object.keys(Rr).forEach(e=>{let r=e.split("."),t=Y;for(let n=0;n<r.length;n++){let i=r[n];n===r.length-1?t[i]=Rr[e]:t=t[i]||(t[i]={})}});var z=[],D=[],Zt=typeof Uint8Array<"u"?Uint8Array:Array,or=!1;function Lr(){or=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,t=e.length;r<t;++r)z[r]=e[r],D[e.charCodeAt(r)]=r;D[45]=62,D[95]=63}function en(e){or||Lr();var r,t,n,i,o,l,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[s-2]==="="?2:e[s-1]==="="?1:0,l=new Zt(s*3/4-o),n=o>0?s-4:s;var f=0;for(r=0,t=0;r<n;r+=4,t+=3)i=D[e.charCodeAt(r)]<<18|D[e.charCodeAt(r+1)]<<12|D[e.charCodeAt(r+2)]<<6|D[e.charCodeAt(r+3)],l[f++]=i>>16&255,l[f++]=i>>8&255,l[f++]=i&255;return o===2?(i=D[e.charCodeAt(r)]<<2|D[e.charCodeAt(r+1)]>>4,l[f++]=i&255):o===1&&(i=D[e.charCodeAt(r)]<<10|D[e.charCodeAt(r+1)]<<4|D[e.charCodeAt(r+2)]>>2,l[f++]=i>>8&255,l[f++]=i&255),l}function rn(e){return z[e>>18&63]+z[e>>12&63]+z[e>>6&63]+z[e&63]}function tn(e,r,t){for(var n,i=[],o=r;o<t;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(rn(n));return i.join("")}function Ur(e){or||Lr();for(var r,t=e.length,n=t%3,i="",o=[],l=16383,s=0,f=t-n;s<f;s+=l)o.push(tn(e,s,s+l>f?f:s+l));return n===1?(r=e[t-1],i+=z[r>>2],i+=z[r<<4&63],i+="=="):n===2&&(r=(e[t-2]<<8)+e[t-1],i+=z[r>>10],i+=z[r>>4&63],i+=z[r<<2&63],i+="="),o.push(i),o.join("")}p.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;function Le(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function J(e,r){if(Le()<r)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=p.prototype):(e===null&&(e=new p(r)),e.length=r),e}function p(e,r,t){if(!p.TYPED_ARRAY_SUPPORT&&!(this instanceof p))return new p(e,r,t);if(typeof e=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return lr(this,e)}return Br(this,e,r,t)}p.poolSize=8192;p._augment=function(e){return e.__proto__=p.prototype,e};function Br(e,r,t,n){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?ln(e,r,t,n):typeof r=="string"?on(e,r,t):sn(e,r)}p.from=function(e,r,t){return Br(null,e,r,t)};p.kMaxLength=Le();p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]);function $r(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function nn(e,r,t,n){return $r(r),r<=0?J(e,r):t!==void 0?typeof n=="string"?J(e,r).fill(t,n):J(e,r).fill(t):J(e,r)}p.alloc=function(e,r,t){return nn(null,e,r,t)};function lr(e,r){if($r(r),e=J(e,r<0?0:sr(r)|0),!p.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}p.allocUnsafe=function(e){return lr(null,e)};p.allocUnsafeSlow=function(e){return lr(null,e)};function on(e,r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!p.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=Dr(r,t)|0;e=J(e,n);var i=e.write(r,t);return i!==n&&(e=e.slice(0,i)),e}function ir(e,r){var t=r.length<0?0:sr(r.length)|0;e=J(e,t);for(var n=0;n<t;n+=1)e[n]=r[n]&255;return e}function ln(e,r,t,n){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?r=new Uint8Array(r):n===void 0?r=new Uint8Array(r,t):r=new Uint8Array(r,t,n),p.TYPED_ARRAY_SUPPORT?(e=r,e.__proto__=p.prototype):e=ir(e,r),e}function sn(e,r){if(G(r)){var t=sr(r.length)|0;return e=J(e,t),e.length===0||r.copy(e,0,0,t),e}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||Rn(r.length)?J(e,0):ir(e,r);if(r.type==="Buffer"&&Array.isArray(r.data))return ir(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function sr(e){if(e>=Le())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Le().toString(16)+" bytes");return e|0}p.isBuffer=Pn;function G(e){return!!(e!=null&&e._isBuffer)}p.compare=function(r,t){if(!G(r)||!G(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,i=t.length,o=0,l=Math.min(n,i);o<l;++o)if(r[o]!==t[o]){n=r[o],i=t[o];break}return n<i?-1:i<n?1:0};p.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};p.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return p.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var i=p.allocUnsafe(t),o=0;for(n=0;n<r.length;++n){var l=r[n];if(!G(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(i,o),o+=l.length}return i};function Dr(e,r){if(G(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;if(t===0)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return Be(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Gr(e).length;default:if(n)return Be(e).length;r=(""+r).toLowerCase(),n=!0}}p.byteLength=Dr;function fn(e,r,t){var n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return mn(this,r,t);case"utf8":case"utf-8":return jr(this,r,t);case"ascii":return yn(this,r,t);case"latin1":case"binary":return wn(this,r,t);case"base64":return dn(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return En(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}p.prototype._isBuffer=!0;function ae(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}p.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)ae(this,t,t+1);return this};p.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)ae(this,t,t+3),ae(this,t+1,t+2);return this};p.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)ae(this,t,t+7),ae(this,t+1,t+6),ae(this,t+2,t+5),ae(this,t+3,t+4);return this};p.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?jr(this,0,r):fn.apply(this,arguments)};p.prototype.equals=function(r){if(!G(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:p.compare(this,r)===0};p.prototype.compare=function(r,t,n,i,o){if(!G(r))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>r.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var l=o-i,s=n-t,f=Math.min(l,s),h=this.slice(i,o),c=r.slice(t,n),a=0;a<f;++a)if(h[a]!==c[a]){l=h[a],s=c[a];break}return l<s?-1:s<l?1:0};function Or(e,r,t,n,i){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof r=="string"&&(r=p.from(r,n)),G(r))return r.length===0?-1:Nr(e,r,t,n,i);if(typeof r=="number")return r=r&255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):Nr(e,[r],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Nr(e,r,t,n,i){var o=1,l=e.length,s=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;o=2,l/=2,s/=2,t/=2}function f(w,m){return o===1?w[m]:w.readUInt16BE(m*o)}var h;if(i){var c=-1;for(h=t;h<l;h++)if(f(e,h)===f(r,c===-1?0:h-c)){if(c===-1&&(c=h),h-c+1===s)return c*o}else c!==-1&&(h-=h-c),c=-1}else for(t+s>l&&(t=l-s),h=t;h>=0;h--){for(var a=!0,u=0;u<s;u++)if(f(e,h+u)!==f(r,u)){a=!1;break}if(a)return h}return-1}p.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1};p.prototype.indexOf=function(r,t,n){return Or(this,r,t,n,!0)};p.prototype.lastIndexOf=function(r,t,n){return Or(this,r,t,n,!1)};function an(e,r,t,n){t=Number(t)||0;var i=e.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var l=0;l<n;++l){var s=parseInt(r.substr(l*2,2),16);if(isNaN(s))return l;e[t+l]=s}return l}function un(e,r,t,n){return Oe(Be(r,e.length-t),e,t,n)}function Yr(e,r,t,n){return Oe(Tn(r),e,t,n)}function cn(e,r,t,n){return Yr(e,r,t,n)}function hn(e,r,t,n){return Oe(Gr(r),e,t,n)}function pn(e,r,t,n){return Oe(Sn(r,e.length-t),e,t,n)}p.prototype.write=function(r,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var l=!1;;)switch(i){case"hex":return an(this,r,t,n);case"utf8":case"utf-8":return un(this,r,t,n);case"ascii":return Yr(this,r,t,n);case"latin1":case"binary":return cn(this,r,t,n);case"base64":return hn(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,r,t,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dn(e,r,t){return r===0&&t===e.length?Ur(e):Ur(e.slice(r,t))}function jr(e,r,t){t=Math.min(e.length,t);for(var n=[],i=r;i<t;){var o=e[i],l=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=t){var f,h,c,a;switch(s){case 1:o<128&&(l=o);break;case 2:f=e[i+1],(f&192)===128&&(a=(o&31)<<6|f&63,a>127&&(l=a));break;case 3:f=e[i+1],h=e[i+2],(f&192)===128&&(h&192)===128&&(a=(o&15)<<12|(f&63)<<6|h&63,a>2047&&(a<55296||a>57343)&&(l=a));break;case 4:f=e[i+1],h=e[i+2],c=e[i+3],(f&192)===128&&(h&192)===128&&(c&192)===128&&(a=(o&15)<<18|(f&63)<<12|(h&63)<<6|c&63,a>65535&&a<1114112&&(l=a))}}l===null?(l=65533,s=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|l&1023),n.push(l),i+=s}return gn(n)}var Mr=4096;function gn(e){var r=e.length;if(r<=Mr)return String.fromCharCode.apply(String,e);for(var t="",n=0;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=Mr));return t}function yn(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]&127);return n}function wn(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]);return n}function mn(e,r,t){var n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=r;o<t;++o)i+=An(e[o]);return i}function En(e,r,t){for(var n=e.slice(r,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}p.prototype.slice=function(r,t){var n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);var i;if(p.TYPED_ARRAY_SUPPORT)i=this.subarray(r,t),i.__proto__=p.prototype;else{var o=t-r;i=new p(o,void 0);for(var l=0;l<o;++l)i[l]=this[l+r]}return i};function _(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(r,t,n){r=r|0,t=t|0,n||_(r,t,this.length);for(var i=this[r],o=1,l=0;++l<t&&(o*=256);)i+=this[r+l]*o;return i};p.prototype.readUIntBE=function(r,t,n){r=r|0,t=t|0,n||_(r,t,this.length);for(var i=this[r+--t],o=1;t>0&&(o*=256);)i+=this[r+--t]*o;return i};p.prototype.readUInt8=function(r,t){return t||_(r,1,this.length),this[r]};p.prototype.readUInt16LE=function(r,t){return t||_(r,2,this.length),this[r]|this[r+1]<<8};p.prototype.readUInt16BE=function(r,t){return t||_(r,2,this.length),this[r]<<8|this[r+1]};p.prototype.readUInt32LE=function(r,t){return t||_(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};p.prototype.readUInt32BE=function(r,t){return t||_(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};p.prototype.readIntLE=function(r,t,n){r=r|0,t=t|0,n||_(r,t,this.length);for(var i=this[r],o=1,l=0;++l<t&&(o*=256);)i+=this[r+l]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};p.prototype.readIntBE=function(r,t,n){r=r|0,t=t|0,n||_(r,t,this.length);for(var i=t,o=1,l=this[r+--i];i>0&&(o*=256);)l+=this[r+--i]*o;return o*=128,l>=o&&(l-=Math.pow(2,8*t)),l};p.prototype.readInt8=function(r,t){return t||_(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};p.prototype.readInt16LE=function(r,t){t||_(r,2,this.length);var n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};p.prototype.readInt16BE=function(r,t){t||_(r,2,this.length);var n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};p.prototype.readInt32LE=function(r,t){return t||_(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};p.prototype.readInt32BE=function(r,t){return t||_(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};p.prototype.readFloatLE=function(r,t){return t||_(r,4,this.length),Ye(this,r,!0,23,4)};p.prototype.readFloatBE=function(r,t){return t||_(r,4,this.length),Ye(this,r,!1,23,4)};p.prototype.readDoubleLE=function(r,t){return t||_(r,8,this.length),Ye(this,r,!0,52,8)};p.prototype.readDoubleBE=function(r,t){return t||_(r,8,this.length),Ye(this,r,!1,52,8)};function L(e,r,t,n,i,o){if(!G(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(r,t,n,i){if(r=+r,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;L(this,r,t,n,o,0)}var l=1,s=0;for(this[t]=r&255;++s<n&&(l*=256);)this[t+s]=r/l&255;return t+n};p.prototype.writeUIntBE=function(r,t,n,i){if(r=+r,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;L(this,r,t,n,o,0)}var l=n-1,s=1;for(this[t+l]=r&255;--l>=0&&(s*=256);)this[t+l]=r/s&255;return t+n};p.prototype.writeUInt8=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=r&255,t+1};function $e(e,r,t,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(e.length-t,2);i<o;++i)e[t+i]=(r&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}p.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):$e(this,r,t,!0),t+2};p.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):$e(this,r,t,!1),t+2};function De(e,r,t,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(e.length-t,4);i<o;++i)e[t+i]=r>>>(n?i:3-i)*8&255}p.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255):De(this,r,t,!0),t+4};p.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):De(this,r,t,!1),t+4};p.prototype.writeIntLE=function(r,t,n,i){if(r=+r,t=t|0,!i){var o=Math.pow(2,8*n-1);L(this,r,t,n,o-1,-o)}var l=0,s=1,f=0;for(this[t]=r&255;++l<n&&(s*=256);)r<0&&f===0&&this[t+l-1]!==0&&(f=1),this[t+l]=(r/s>>0)-f&255;return t+n};p.prototype.writeIntBE=function(r,t,n,i){if(r=+r,t=t|0,!i){var o=Math.pow(2,8*n-1);L(this,r,t,n,o-1,-o)}var l=n-1,s=1,f=0;for(this[t+l]=r&255;--l>=0&&(s*=256);)r<0&&f===0&&this[t+l+1]!==0&&(f=1),this[t+l]=(r/s>>0)-f&255;return t+n};p.prototype.writeInt8=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=r&255,t+1};p.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):$e(this,r,t,!0),t+2};p.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):$e(this,r,t,!1),t+2};p.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):De(this,r,t,!0),t+4};p.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t|0,n||L(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),p.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):De(this,r,t,!1),t+4};function Fr(e,r,t,n,i,o){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Wr(e,r,t,n,i){return i||Fr(e,r,t,4,34028234663852886e22,-34028234663852886e22),Vr(e,r,t,n,23,4),t+4}p.prototype.writeFloatLE=function(r,t,n){return Wr(this,r,t,!0,n)};p.prototype.writeFloatBE=function(r,t,n){return Wr(this,r,t,!1,n)};function zr(e,r,t,n,i){return i||Fr(e,r,t,8,17976931348623157e292,-17976931348623157e292),Vr(e,r,t,n,52,8),t+8}p.prototype.writeDoubleLE=function(r,t,n){return zr(this,r,t,!0,n)};p.prototype.writeDoubleBE=function(r,t,n){return zr(this,r,t,!1,n)};p.prototype.copy=function(r,t,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),t>=r.length&&(t=r.length),t||(t=0),i>0&&i<n&&(i=n),i===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-t<i-n&&(i=r.length-t+n);var o=i-n,l;if(this===r&&n<t&&t<i)for(l=o-1;l>=0;--l)r[l+t]=this[l+n];else if(o<1e3||!p.TYPED_ARRAY_SUPPORT)for(l=0;l<o;++l)r[l+t]=this[l+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),t);return o};p.prototype.fill=function(r,t,n,i){if(typeof r=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),r.length===1){var o=r.charCodeAt(0);o<256&&(r=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof r=="number"&&(r=r&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);var l;if(typeof r=="number")for(l=t;l<n;++l)this[l]=r;else{var s=G(r)?r:Be(new p(r,i).toString()),f=s.length;for(l=0;l<n-t;++l)this[l+t]=s[l%f]}return this};var bn=/[^+\/0-9A-Za-z-_]/g;function vn(e){if(e=kn(e).replace(bn,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function kn(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function An(e){return e<16?"0"+e.toString(16):e.toString(16)}function Be(e,r){r=r||1/0;for(var t,n=e.length,i=null,o=[],l=0;l<n;++l){if(t=e.charCodeAt(l),t>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(l+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Tn(e){for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function Sn(e,r){for(var t,n,i,o=[],l=0;l<e.length&&!((r-=2)<0);++l)t=e.charCodeAt(l),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function Gr(e){return en(vn(e))}function Oe(e,r,t,n){for(var i=0;i<n&&!(i+t>=r.length||i>=e.length);++i)r[i+t]=e[i];return i}function Rn(e){return e!==e}function Pn(e){return e!=null&&(!!e._isBuffer||Hr(e)||xn(e))}function Hr(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function xn(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Hr(e.slice(0,0))}function Ye(e,r,t,n,i){var o,l,s=i*8-n-1,f=(1<<s)-1,h=f>>1,c=-7,a=t?i-1:0,u=t?-1:1,w=e[r+a];for(a+=u,o=w&(1<<-c)-1,w>>=-c,c+=s;c>0;o=o*256+e[r+a],a+=u,c-=8);for(l=o&(1<<-c)-1,o>>=-c,c+=n;c>0;l=l*256+e[r+a],a+=u,c-=8);if(o===0)o=1-h;else{if(o===f)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,n),o=o-h}return(w?-1:1)*l*Math.pow(2,o-n)}function Vr(e,r,t,n,i,o){var l,s,f,h=o*8-i-1,c=(1<<h)-1,a=c>>1,u=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,m=n?1:-1,v=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,l=c):(l=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+a>=1?r+=u/f:r+=u*Math.pow(2,1-a),r*f>=2&&(l++,f/=2),l+a>=c?(s=0,l=c):l+a>=1?(s=(r*f-1)*Math.pow(2,i),l=l+a):(s=r*Math.pow(2,a-1)*Math.pow(2,i),l=0));i>=8;e[t+w]=s&255,w+=m,s/=256,i-=8);for(l=l<<i|s,h+=i;h>0;e[t+w]=l&255,w+=m,l/=256,h-=8);e[t+w-m]|=v*128}function Jr(e){return e!=null&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"&&typeof e.dispatchEvent=="function"}function j(e,r,t){Object.defineProperty(e,r,{value:t,writable:!1,configurable:!0})}function Kr(e){return typeof e=="function"||e!==null&&typeof e=="object"&&typeof e.handleEvent=="function"}function qr(e){return typeof e=="boolean"?{capture:e}:e??{}}var Se=Symbol.for("CustomEventTarget.parent"),Q=Symbol.for("CustomEventTarget.listeners"),te=Symbol.for("CustomEventTarget.delegates"),fr=Symbol.for("CustomEventTarget.dispatchSelf"),be=class{constructor(r=null){this[Se]=r,this[Q]=[],this[te]=new Set}addEventListener(r,t,n){if(!Kr(t))return;let i=this[Q];n=qr(n);let o;typeof t=="function"?o=t:o=s=>t.handleEvent(s);let l={type:r,listener:t,callback:o,options:n};if(n.once&&(l.callback=function(){let s=i.indexOf(l);return s!==-1&&i.splice(s,1),o.apply(this,arguments)}),!i.some(s=>l.type===s.type&&l.listener===s.listener&&!l.options.capture==!s.options.capture)){i.push(l);for(let s of this[te])s.addEventListener(r,l.callback,l.options)}}removeEventListener(r,t,n){let i=this[Q];if(i==null||!Kr(t))return;let o=qr(n),l=i.findIndex(f=>f.type===r&&f.listener===t&&!f.options.capture==!o.capture);if(l===-1)return;let s=i[l];i.splice(l,1);for(let f of this[te])f.removeEventListener(s.type,s.callback,s.options)}dispatchEvent(r){let t=[];for(let s=this[Se];s;s=s[Se])t.push(s);let n=!1,i=!1,o=r.stopPropagation;j(r,"stopPropagation",()=>(n=!0,o.call(r)));let l=r.stopImmediatePropagation;j(r,"stopImmediatePropagation",()=>(i=!0,l.call(r))),j(r,"target",this);try{j(r,"eventPhase",1);for(let s=t.length-1;s>=0;s--){let f=t[s],h=f[Q];j(r,"currentTarget",f);for(let c=0;c<h.length;c++){let a=h[c];if(a.type===r.type&&a.options.capture){try{a.callback.call(f,r)}catch(u){console.error(u)}if(i)return!0}}if(n)return!0}{if(j(r,"eventPhase",2),j(r,"currentTarget",this),this[fr](r),i)return!0;let s=this[Q];for(let f=0;f<s.length;f++){let h=s[f];if(h.type===r.type){try{h.callback.call(this,r)}catch(c){console.error(c)}if(i)return!0}}if(n)return!0}if(r.bubbles){j(r,"eventPhase",3);for(let s=0;s<t.length;s++){let f=t[s];j(r,"currentTarget",f);let h=f[Q];for(let c=0;c<h.length;c++){let a=h[c];if(a.type===r.type&&!a.options.capture){try{a.callback.call(f,r)}catch(u){console.error(u)}if(i)return!0}}if(n)return!0}}}finally{return j(r,"eventPhase",0),j(r,"currentTarget",null),!r.defaultPrevented}}[fr](r){}};be.dispatchEventOnSelf=fr;function ar(e,r,t=n=>e===n){let n=r.filter(Jr);for(let i=e;i&&t(i);i=i[Se])for(let o=0;o<n.length;o++){let l=n[o];if(!i[te].has(l)){i[te].add(l);for(let s of i[Q])l.addEventListener(s.type,s.callback,s.options)}}}function Qr(e,r,t=n=>e===n){let n=r.filter(Jr);for(let i=e;i&&t(i);i=i[Se])for(let o=0;o<n.length;o++){let l=n[o];if(i[te].has(l)){i[te].delete(l);for(let s of i[Q])l.removeEventListener(s.type,s.callback,s.options)}}}function ur(e){let r=e[Q],t=e[te];for(let n=0;n<r.length;n++){let i=r[n];for(let o of t)o.removeEventListener(i.type,i.callback,i.options)}r.length=0,t.clear()}function ne(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function ie(e){return e.length===0?void 0:e.length===1?e[0]:e}function Xr(e){return e==null?[]:Array.isArray(e)?e:typeof e=="string"||typeof e[Symbol.iterator]!="function"?[e]:[...e]}function Zr(e){return e!=null&&typeof e.next=="function"}function P(e){return e!=null&&typeof e.then=="function"}function _n(e){let r=new Set,t={deferreds:r,settled:!1};return Promise.resolve(e).then(n=>{for(let{resolve:i}of r)i(n);r.clear(),t.settled=!0},n=>{for(let{reject:i}of r)i(n);r.clear(),t.settled=!0}),t}var cr=new WeakMap;function je(e){let r;return new Promise((n,i)=>{r={resolve:n,reject:i};for(let o of e){if(!P(o)){Promise.resolve(o).then(n,i);continue}let l=cr.get(o);l===void 0?(l=_n(o),l.deferreds.add(r),cr.set(o,l)):l.settled?Promise.resolve(o).then(n,i):l.deferreds.add(r)}}).finally(()=>{for(let n of e)if(P(n)){let i=cr.get(n);i&&i.deferreds.delete(r)}})}var H=()=>{};function x(e){return typeof e=="function"?e.name||"Anonymous":typeof e=="string"?e:e.description||"Anonymous"}var Z="",R=Symbol.for("crank.Portal"),wr=Symbol.for("crank.Copy"),ve=Symbol.for("crank.Text"),We=Symbol.for("crank.Raw"),ft=Symbol.for("crank.Element"),ke=class{constructor(r,t){this.tag=r,this.props=t}};ke.prototype.$$typeof=ft;function mr(e){return e!=null&&e.$$typeof===ft}var et=["crank-","c-","$"],rt=["key","ref","static","copy"];function pe(e,r,...t){r==null&&(r={}),"static"in r&&(console.error("The `static` prop is deprecated. Use `copy` instead."),r.copy=r.static,delete r.static);for(let n=0;n<et.length;n++){let i=et[n];for(let o=0;o<rt.length;o++){let l=rt[o],s=i+l;if(s in r){let f=l==="static"?"copy":l;console.error(`The \`${s}\` prop is deprecated. Use \`${f}\` instead.`),r[f]=r[s],delete r[s]}}}return t.length>1?r.children=t:t.length===1&&(r.children=t[0]),new ke(e,r)}function at(e){if(!mr(e))throw new TypeError(`Cannot clone non-element: ${String(e)}`);return new ke(e.tag,{...e.props})}function ut(e){if(!(typeof e=="boolean"||e==null)){{if(typeof e=="string"||mr(e))return e;if(typeof e[Symbol.iterator]=="function")return pe(Z,null,e)}return e.toString()}}var oe=1,$=2,ze=4,_e=8,S=16,Pe=32,F=64,tt=128,U=256,C=512,ct=1024,ce=2048,de=4096,Ie=8192,X=16384,B=32768,Ae=65536,Re=1<<17;function g(e,r){return!!(e.f&r)}function d(e,r,t=!0){t?e.f|=r:e.f&=~r}var he=class{constructor(r){this.f=0,this.el=r,this.ctx=void 0,this.children=void 0,this.fallback=void 0,this.value=void 0,this.oldProps=void 0,this.pendingDiff=void 0,this.onNextDiff=void 0,this.graveyard=void 0,this.lingerers=void 0}};function In(e){let r=new he(e.el);return r.f=e.f,r.ctx=e.ctx,r.children=e.children,r.fallback=e.fallback,r.value=e.value,r.scope=e.scope,r.oldProps=e.oldProps,r.pendingDiff=e.pendingDiff,r.onNextDiff=e.onNextDiff,r.graveyard=e.graveyard,r.lingerers=e.lingerers,r}function T(e,r=!1,t){return g(e,F)&&r?e.fallback?T(e.fallback,r,t):void 0:e.fallback&&!g(e,oe)?e.fallback?T(e.fallback,r,t):e.fallback:e.el.tag===R?void 0:e.el.tag===Z||typeof e.el.tag=="function"?(t!=null&&e.ctx&&(e.ctx.index=t),ie(V(e,t))):e.value}function V(e,r){let t=[],n=e.lingerers,i=ne(e.children),o=r;for(let l=0;l<i.length;l++){if(n!=null&&n[l]!=null){let f=n[l];for(let h of f){let c=T(h,!0,o);if(Array.isArray(c)){for(let a=0;a<c.length;a++)t.push(c[a]);o!=null&&(o+=c.length)}else c&&(t.push(c),o!=null&&o++)}}let s=i[l];if(s){let f=T(s,!0,o);if(Array.isArray(f)){for(let h=0;h<f.length;h++)t.push(f[h]);o!=null&&(o+=f.length)}else f&&(t.push(f),o!=null&&o++)}}if(n!=null&&n.length>i.length)for(let l=i.length;l<n.length;l++){let s=n[l];if(s!=null)for(let f of s){let h=T(f,!0,o);if(Array.isArray(h)){for(let c=0;c<h.length;c++)t.push(h[c]);o!=null&&(o+=h.length)}else h&&(t.push(h),o!=null&&o++)}}return t}function qe(e){let r,t;return{key:r,ref:r,copy:r,hydrate:r,children:r,...t}=e,t}var Cn={create(){throw new Error("adapter must implement create")},adopt(){throw new Error("adapter must implement adopt() for hydration")},scope:({scope:e})=>e,read:e=>e,text:({value:e})=>e,raw:({value:e})=>e,patch:H,arrange:H,remove:H,finalize:H},ge=class{constructor(r){this.cache=new WeakMap,this.adapter={...Cn,...r}}render(r,t,n){let i=nt(this,n,{children:r,root:t});return it(this.adapter,t,i,r)}hydrate(r,t,n){let i=nt(this,n,{children:r,root:t,hydrate:!0});return it(this.adapter,t,i,r)}};function nt(e,r,{children:t,root:n,hydrate:i}){let o,l=r&&r[I];typeof n=="object"&&n!==null&&(o=e.cache.get(n));let s=e.adapter;if(o===void 0)o=new he(pe(R,{children:t,root:n,hydrate:i})),o.value=n,o.ctx=l,o.scope=s.scope({tag:R,tagName:x(R),props:qe(o.el.props),scope:void 0,root:n}),typeof n=="object"&&n!==null&&t!=null&&e.cache.set(n,o);else{if(o.ctx!==l)throw new Error("A previous call to render() was passed a different context");o.el=pe(R,{children:t,root:n,hydrate:i}),typeof n=="object"&&n!==null&&t==null&&e.cache.delete(n)}return o}function it(e,r,t,n){let i=Je(e,r,t,t.ctx,t.scope,t,n),o=[];return P(i)?i.then(()=>(dr(e,t,t,t.ctx,t.scope,r,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(ie(V(t))))):((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(ie(V(t)))))):(dr(e,t,t,t.ctx,t.scope,r,0,o,void 0),o.length>0?Promise.all(o).then(()=>((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(ie(V(t))))):((typeof r!="object"||r===null)&&O(e,t,t.ctx,r,t,!1),e.read(ie(V(t)))))}function Je(e,r,t,n,i,o,l){let s=ne(o.children),f=[],h=Xr(l),c=[],a,u,w=!1,m=0,v=s.length,y;for(let b=0,k=h.length;b<k;b++){let E=m>=v?void 0:s[m],A=ut(h[b]);{let K=typeof E=="object"?E.el.props.key:void 0,M=typeof A=="object"?A.props.key:void 0;if(M!==void 0&&u&&u.has(M)&&(console.error(`Duplicate key found in <${x(o.el.tag)}>`,M),A=at(A),M=A.props.key=void 0),K===M)a!==void 0&&M!==void 0&&a.delete(M),m++;else if(a=a||Un(s,m),M===void 0){for(;E!==void 0&&K!==void 0;)m++,E=s[m],K=typeof E=="object"?E.el.props.key:void 0;m++}else E=a.get(M),E!==void 0&&a.delete(M),(u=u||new Set).add(M)}let we;if(typeof A=="object"){let K=!1;if(A.tag===wr)K=!0;else if(typeof E=="object"&&E.el===A&&g(E,$))K=!0;else{if(E&&E.el.tag===A.tag)E.el=A,A.props.copy&&typeof A.props.copy!="string"&&(K=!0);else if(E){let M=!1;for(let Ne=E,le=E.fallback;le;Ne=le,le=le.fallback)if(le.el.tag===A.tag){let Sr=In(le);d(Sr,ct),Ne.fallback=Sr;let St=E;E=le,E.el=A,E.fallback=St,d(E,oe,!1),M=!0;break}if(!M){let Ne=E;E=new he(A),E.fallback=Ne}}else E=new he(A);K&&g(E,$)||A.tag===We||A.tag===ve||(A.tag===Z?we=Je(e,r,t,n,i,E,E.el.props.children):typeof A.tag=="function"?we=gt(e,r,t,n,i,E):we=Nn(e,r,n,i,E))}typeof E=="object"&&(K?(d(E,ze),we=ht(E)):d(E,ze,!1)),P(we)&&(w=!0)}else typeof A=="string"?typeof E=="object"&&E.el.tag===ve?E.el.props.value=A:(typeof E=="object"&&(y=y||[]).push(E),E=new he(pe(ve,{value:A}))):(typeof E=="object"&&(y=y||[]).push(E),E=void 0);c[b]=we,f[b]=E}for(;m<v;m++){let b=s[m];typeof b=="object"&&(typeof b.el.props.key>"u"||!u||!u.has(b.el.props.key))&&(y=y||[]).push(b)}if(a!==void 0&&a.size>0){y=y||[];for(let b of a.values())y.push(b)}if(o.children=ie(f),w){let b=Promise.all(c).then(()=>{}).finally(()=>{if(d(o,oe),y)if(o.graveyard)for(let A=0;A<y.length;A++)o.graveyard.push(y[A]);else o.graveyard=y}),k,E=o.pendingDiff=je([b,new Promise(A=>k=A)]);return o.onNextDiff&&o.onNextDiff(E),o.onNextDiff=k,E}else{if(d(o,oe),y)if(o.graveyard)for(let b=0;b<y.length;b++)o.graveyard.push(y[b]);else o.graveyard=y;o.onNextDiff&&(o.onNextDiff(c),o.onNextDiff=void 0),o.pendingDiff=void 0}}function ht(e){if(e.ctx&&e.ctx.inflight)return e.ctx.inflight[1];if(e.pendingDiff)return e.pendingDiff}function Un(e,r){let t=new Map;for(let n=r;n<e.length;n++){let i=e[n];typeof i=="object"&&typeof i.el.props.key<"u"&&t.set(i.el.props.key,i)}return t}function Nn(e,r,t,n,i){let o=i.el,l=o.tag;return o.tag===R&&(r=i.value=o.props.root),g(i,$)?n=i.scope:n=i.scope=e.scope({tag:l,tagName:x(l),props:o.props,scope:n,root:r}),Je(e,r,i,t,n,i,i.el.props.children)}function dr(e,r,t,n,i,o,l,s,f){if(g(t,ze)&&g(t,$))return T(t);let h=t.el,c=h.tag;(typeof c=="function"||c===Z||c===R||c===We||c===ve)&&(typeof h.props.copy=="string"&&console.error(`String copy prop ignored for <${x(c)}>. Use booleans instead.`),typeof h.props.hydrate=="string"&&console.error(`String hydrate prop ignored for <${x(c)}>. Use booleans instead.`));let a,u;return f&&h.props.hydrate!=null&&!h.props.hydrate&&typeof h.props.hydrate!="string"&&(u=f,f=void 0),typeof c=="function"?(t.ctx.index=l,a=ye(t.ctx,s,f)):(c===Z?a=Er(e,r,n,i,o,t,l,s,f):c===ve?a=Mn(e,t,h,i,f,o):c===We?a=Ln(e,r,t,i,f,o):a=Bn(e,t,n,o,s,f),t.fallback&&(O(e,r,n,o,t.fallback,!1),t.fallback=void 0)),u&&u.splice(0,ne(a).length),g(t,$)||(d(t,$),typeof c!="function"&&c!==Z&&c!==R&&typeof h.props.ref=="function"&&h.props.ref(e.read(a))),a}function Er(e,r,t,n,i,o,l,s,f){let h=[];for(let c=0,a=ne(o.children);c<a.length;c++){let u=a[c],w,m=!1;for(;u&&(!g(u,oe)&&u.fallback||g(u,F));){if(g(u,F)&&u.ctx.schedule&&((w=w||[]).push(u.ctx.schedule.promise),m=!0),!g(u,oe)&&g(u,$))for(let v of V(u))e.remove({node:v,parentNode:r.value,isNested:!1,root:i});if(u=u.fallback,w&&m&&u){if(g(u,oe))w=void 0;else{let v=ht(u);w.push(v)}g(u,tt)?m=!0:(d(u,tt,!0),m=!1)}}if(w&&w.length>1&&s.push(je(w)),u){let v=dr(e,r,u,t,n,i,l,s,f);if(Array.isArray(v)){for(let y=0;y<v.length;y++)h.push(v[y]);l+=v.length}else v&&(h.push(v),l++)}}if(o.graveyard){for(let c=0;c<o.graveyard.length;c++){let a=o.graveyard[c];O(e,r,t,i,a,!1)}o.graveyard=void 0}return o.lingerers&&(h=V(o)),h}function Mn(e,r,t,n,i,o){let l=e.text({value:t.props.value,scope:n,oldNode:r.value,hydrationNodes:i,root:o});return r.value=l,l}function Ln(e,r,t,n,i,o){if(!t.oldProps||t.oldProps.value!==t.el.props.value){let l=ne(t.value);for(let s=0;s<l.length;s++){let f=l[s];e.remove({node:f,parentNode:r.value,isNested:!1,root:o})}t.value=e.raw({value:t.el.props.value,scope:n,hydrationNodes:i,root:o})}return t.oldProps=qe(t.el.props),t.value}function Bn(e,r,t,n,i,o){if(g(r,ze)&&g(r,$))return T(r);let l=r.el.tag,s=qe(r.el.props),f=r.oldProps,h=r.value,c,a=!1;if(f){for(let y in s)s[y]===wr&&(s[y]=f[y],(c=c||new Set).add(y));if(typeof r.el.props.copy=="string"){let y=new Ge("copy",r.el.props.copy);if(y.include)for(let b of y.props)b in f&&(s[b]=f[b],(c=c||new Set).add(b));else for(let b in f)y.props.has(b)||(s[b]=f[b],(c=c||new Set).add(b));a=y.includes("children")}}let u=r.scope,w,m,v;if(!g(r,$))if(l===R){if(r.el.props.hydrate&&typeof r.el.props.hydrate!="string"&&(w=e.adopt({tag:l,tagName:x(l),node:h,props:s,scope:u,root:n}),w))for(let y=0;y<w.length;y++)e.remove({node:w[y],parentNode:h,isNested:!1,root:n})}else{if(!h&&o){let y=o.shift();if(typeof r.el.props.hydrate=="string")if(v=new Ge("hydration",r.el.props.hydrate),v.include){m=new Set(Object.keys(s));for(let b of v.props)m.delete(b)}else m=v.props;if(w=e.adopt({tag:l,tagName:x(l),node:y,props:s,scope:u,root:n}),w){h=y;for(let b=0;b<w.length;b++)e.remove({node:w[b],parentNode:h,isNested:!1,root:n})}}h||(h=e.create({tag:l,tagName:x(l),props:s,scope:u,root:n})),r.value=h}if(l!==R&&e.patch({tag:l,tagName:x(l),node:h,props:s,oldProps:f,scope:u,root:n,copyProps:c,isHydrating:!!w,quietProps:m}),!a){let y=Er(e,r,t,u,l===R?h:n,r,0,i,v&&!v.includes("children")?void 0:w);e.arrange({tag:l,tagName:x(l),node:h,props:s,children:y,oldProps:f,root:n})}if(r.oldProps=s,l===R){dt(e,r.value);return}return h}var Ge=class{constructor(r,t){this.include=!0,this.props=new Set;let n=!0,i=!0,o=t.split(/[,\s]+/);for(let l=0;l<o.length;l++){let s=o[l].trim();if(s)s.startsWith("!")?(n=!1,this.props.add(s.slice(1))):(i=!1,this.props.add(s));else continue}!i&&!n?(console.error(`Invalid ${r} prop "${t}".
Use prop or !prop but not both.`),this.include=!0,this.props.clear()):this.include=n}includes(r){return this.include?this.props.has(r):!this.props.has(r)}};function $n(e,r){for(let t=r;t!==void 0;t=t.parent)if(t===e)return!0;return!1}var pt={};function dt(e,r,t){r!=null&&e.finalize(r),(typeof r!="object"||r===null)&&(r=pt);let n=xe.get(r);if(n){let i=new Map;for(let[o,l]of n)(g(o.ret,F)||t&&!$n(t,o))&&(n.delete(o),i.set(o,l));i.size?xe.set(r,i):xe.delete(r);for(let[o,l]of n){let s=e.read(T(o.ret));for(let f of l)f(s)}}}function O(e,r,t,n,i,o){if(i.fallback&&(O(e,r,t,n,i.fallback,o),i.fallback=void 0),!g(i,ct)){if(i.lingerers){for(let l=0;l<i.lingerers.length;l++){let s=i.lingerers[l];if(s)for(let f of s)O(e,r,t,n,f,o)}i.lingerers=void 0}typeof i.el.tag=="function"?On(i.ctx,o):i.el.tag===Z?Fe(e,r,t,n,i,o):i.el.tag===R?(Fe(e,i,t,i.value,i,!1),i.value!=null&&e.finalize(i.value)):(Fe(e,i,t,n,i,!0),g(i,$)&&(t&&Qr(t.ctx,[i.value],l=>l[I].host===r),e.remove({node:i.value,parentNode:r.value,isNested:o,root:n})))}}function Fe(e,r,t,n,i,o){if(i.graveyard){for(let l=0;l<i.graveyard.length;l++){let s=i.graveyard[l];O(e,r,t,n,s,o)}i.graveyard=void 0}for(let l=0,s=ne(i.children);l<s.length;l++){let f=s[l];typeof f=="object"&&O(e,r,t,n,f,o)}}var hr=new WeakMap,He=new WeakMap,Ve=new WeakMap,xe=new WeakMap,gr=class{constructor(r,t,n,i,o,l){this.adapter=r,this.root=t,this.host=n,this.parent=i,this.ctx=new Ke(this),this.scope=o,this.ret=l,this.iterator=void 0,this.inflight=void 0,this.enqueued=void 0,this.onPropsProvided=void 0,this.onPropsRequested=void 0,this.pull=void 0,this.index=0,this.schedule=void 0}},I=Symbol.for("crank.ContextState"),Ke=class extends be{constructor(r){super(r.parent?r.parent.ctx:null),this[I]=r}get props(){return this[I].ret.el.props}get value(){return console.warn("Context.value is deprecated."),this[I].adapter.read(T(this[I].ret))}get isExecuting(){return g(this[I].ret,S)}get isUnmounted(){return g(this[I].ret,U)}*[Symbol.iterator](){let r=this[I];d(r.ret,Ie);try{for(;!g(r.ret,U)&&!g(r.ret,C);){if(g(r.ret,B))throw new Error(`<${x(r.ret.el.tag)}> context iterated twice without a yield`);d(r.ret,B),yield r.ret.el.props}}finally{d(r.ret,Ie,!1)}}async*[Symbol.asyncIterator](){let r=this[I];d(r.ret,X);try{for(;!g(r.ret,U)&&!g(r.ret,C);){if(g(r.ret,B))throw new Error(`<${x(r.ret.el.tag)}> context iterated twice without a yield`);if(d(r.ret,B),g(r.ret,Ae))d(r.ret,Ae,!1),yield r.ret.el.props;else{let t=await new Promise(n=>r.onPropsProvided=n);if(g(r.ret,U)||g(r.ret,C))break;yield t}r.onPropsRequested&&(r.onPropsRequested(),r.onPropsRequested=void 0)}}finally{d(r.ret,X,!1),r.onPropsRequested&&(r.onPropsRequested(),r.onPropsRequested=void 0)}}refresh(r){let t=this[I];if(g(t.ret,U))return console.error(`Component <${x(t.ret.el.tag)}> is unmounted. Check the isUnmounted property if necessary.`),t.adapter.read(T(t.ret));if(g(t.ret,S))return console.error(`Component <${x(t.ret.el.tag)}> is already executing Check the isExecuting property if necessary.`),t.adapter.read(T(t.ret));if(r){let o=r();if(P(o))return Promise.resolve(o).then(()=>g(t.ret,U)?t.adapter.read(T(t.ret)):this.refresh())}g(t.ret,F)&&d(t.ret,Re);let n,i=[];try{if(d(t.ret,Pe),n=yt(t),P(n))return n.then(()=>t.adapter.read(ye(t,i))).then(l=>i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):l).catch(l=>{let s=Ue(t,l,i);return s?s.then(()=>i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))}).finally(()=>d(t.ret,Pe,!1));let o=t.adapter.read(ye(t,i));return i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):o}catch(o){let l=Ue(t,o,i);return l?l.then(()=>{if(i.length)return Promise.all(i).then(()=>t.adapter.read(T(t.ret)))}).then(()=>t.adapter.read(T(t.ret))):i.length?Promise.all(i).then(()=>t.adapter.read(T(t.ret))):t.adapter.read(T(t.ret))}finally{P(n)||d(t.ret,Pe,!1)}}schedule(r){if(!r)return new Promise(i=>this.schedule(i));let t=this[I],n=He.get(t);n||(n=new Set,He.set(t,n)),n.add(r)}after(r){if(!r)return new Promise(l=>this.after(l));let t=this[I],n=t.root||pt,i=xe.get(n);i||(i=new Map,xe.set(n,i));let o=i.get(t);o||(o=new Set,i.set(t,o)),o.add(r)}flush(r){console.error("Context.flush() method has been renamed to after()"),this.after(r)}cleanup(r){if(!r)return new Promise(i=>this.cleanup(i));let t=this[I];if(g(t.ret,U)){let i=t.adapter.read(T(t.ret));r(i);return}let n=Ve.get(t);n||(n=new Set,Ve.set(t,n)),n.add(r)}consume(r){for(let t=this[I].parent;t!==void 0;t=t.parent){let n=hr.get(t);if(n&&n.has(r))return n.get(r)}}provide(r,t){let n=this[I],i=hr.get(n);i||(i=new Map,hr.set(n,i)),i.set(r,t)}[be.dispatchEventOnSelf](r){let t=this[I],n=t.ret.el.props["on"+r.type];if(typeof n=="function")n(r);else for(let i in t.ret.el.props)i.toLowerCase()==="on"+r.type.toLowerCase()&&(n=t.ret.el.props[i],typeof n=="function"&&n(r))}};function gt(e,r,t,n,i,o){let l;if(o.ctx){if(l=o.ctx,g(l.ret,S)){console.error(`Component <${x(l.ret.el.tag)}> is already executing`);return}else if(l.schedule)return l.schedule.promise.then(()=>gt(e,r,t,n,i,o))}else l=o.ctx=new gr(e,r,t,n,i,o);return d(l.ret,_e),yt(l)}function ue(e,r,t){if(g(e.ret,U)||g(e.ret,C))return;r===void 0&&console.error(`Component <${x(e.ret.el.tag)}> has ${t?"yielded":"returned"} undefined. If this was intentional, ${t?"yield":"return"} null instead.`);let n;try{d(e.ret,S),n=Je(e.adapter,e.root,e.host,e,e.scope,e.ret,ut(r)),n&&(n=n.catch(i=>yr(e,i)))}catch(i){n=yr(e,i)}finally{d(e.ret,S,!1)}return n}function yt(e){if(e.inflight){if(!e.enqueued){let r;e.enqueued=[new Promise(t=>r=t).finally(()=>ot(e)),e.inflight[0].finally(()=>{let[t,n]=lt(e);return r(t),n})]}}else{let[r,t]=lt(e);return r&&(e.inflight=[r.finally(()=>ot(e)),t]),t}return e.enqueued[1]}function ot(e){e.inflight=e.enqueued,e.enqueued=void 0}function lt(e){if(g(e.ret,U))return[void 0,void 0];let r=e.ret,t=!e.iterator;if(t){d(e.ret,S),ur(e.ctx);let i;try{i=r.el.tag.call(e.ctx,r.el.props,e.ctx)}catch(o){throw d(e.ret,C),o}finally{d(e.ret,S,!1)}if(Zr(i))e.iterator=i;else if(P(i)){let o=i instanceof Promise?i:Promise.resolve(i);return[o.catch(H),o.then(l=>ue(e,l,!1),l=>{throw d(e.ret,C),l})]}else return[void 0,ue(e,i,!1)]}let n;if(t){try{d(e.ret,S),n=e.iterator.next()}catch(i){throw d(e.ret,C),i}finally{d(e.ret,S,!1)}P(n)?d(e.ret,de):d(e.ret,ce)}if(g(e.ret,ce)){if(!t)try{d(e.ret,S);let l=e.adapter.read(T(e.ret));n=e.iterator.next(l)}catch(l){throw d(e.ret,C),l}finally{d(e.ret,S,!1)}if(P(n))throw new Error("Mixed generator component");g(e.ret,Ie)&&!g(e.ret,B)&&!g(e.ret,U)&&!g(e.ret,Re)&&console.error(`Component <${x(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),d(e.ret,B,!1),d(e.ret,Re,!1),n.done&&(d(e.ret,ce,!1),e.iterator=void 0);let i=ue(e,n.value,!n.done);return[P(i)?i.catch(H):void 0,i]}else{if(g(e.ret,X))return st(e,n),[Ce(e),e.pull&&e.pull.diff];{if(Ce(e),!t)try{d(e.ret,S);let o=e.adapter.read(T(e.ret));n=e.iterator.next(o)}catch(o){throw d(e.ret,C),o}finally{d(e.ret,S,!1)}if(!P(n))throw new Error("Mixed generator component");let i=n.then(o=>(g(e.ret,X)?st(e,o):g(e.ret,Ie)&&!g(e.ret,B)&&!g(e.ret,U)&&!g(e.ret,Re)&&console.error(`Component <${x(e.ret.el.tag)}> yielded/returned more than once in for...of loop`),d(e.ret,B,!1),d(e.ret,Re,!1),o.done&&(d(e.ret,de,!1),e.iterator=void 0),ue(e,o.value,!o.done)),o=>{throw d(e.ret,C),o});return[i.catch(H),i]}}}function Ce(e){if(e.onPropsProvided)e.onPropsProvided(e.ret.el.props),e.onPropsProvided=void 0,d(e.ret,Ae,!1);else if(d(e.ret,Ae),g(e.ret,X))return new Promise(r=>e.onPropsRequested=r);return e.pull&&e.pull.iterationP&&e.pull.iterationP.then(H,H)}async function st(e,r){if(!r||e.pull)return;e.pull={iterationP:void 0,diff:void 0,onChildError:void 0};let t=!1;try{let n;for(;!t;){P(r)&&(e.pull.iterationP=r);let i;e.pull.diff=new Promise(f=>i=f).then(()=>{g(e.ret,_e)||g(e.ret,Pe)||ye(e,[])},f=>{if(!(g(e.ret,_e)||g(e.ret,Pe))||!g(e.ret,B))return Ue(e,f,[]);throw f});let o;try{o=await r}catch(f){t=!0,d(e.ret,C),d(e.ret,B,!1),i(Promise.reject(f));break}let l;{let f=!0,h=new Promise((c,a)=>{e.ctx.schedule(c),e.pull.onChildError=u=>{if(a(u),f)return n=u,Ce(e),e.pull.diff}});h.catch(H),l=Object.create(h),l.then=function(c,a){return f=!1,h.then(c,a)},l.catch=function(c){return f=!1,h.catch(c)}}if(n!=null)try{if(d(e.ret,S),typeof e.iterator.throw!="function")throw n;o=await e.iterator.throw(n)}catch(f){t=!0,d(e.ret,C),d(e.ret,B,!1),i(Promise.reject(f));break}finally{n=void 0,d(e.ret,S,!1)}g(e.ret,X)||d(e.ret,Ae,!1),t=!!o.done;let s;try{P(r)?!g(e.ret,B)&&g(e.ret,Ae)&&g(e.ret,X)?s=void 0:s=ue(e,o.value,!o.done):s=void 0}catch(f){i(Promise.reject(f))}finally{i(s),d(e.ret,B,!1)}if(g(e.ret,U)){for(;(!o||!o.done)&&e.iterator&&g(e.ret,X);)try{d(e.ret,S),o=await e.iterator.next(l)}catch(f){throw d(e.ret,C),f}finally{d(e.ret,S,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{d(e.ret,S),await e.iterator.return()}catch(f){throw d(e.ret,C),f}finally{d(e.ret,S,!1)}break}else if(g(e.ret,X)){if(!o.done)try{d(e.ret,S),r=e.iterator.next(l)}finally{d(e.ret,S,!1)}}else break}}finally{t&&(d(e.ret,de,!1),e.iterator=void 0),e.pull=void 0}}function ye(e,r,t){if(e.schedule)return e.schedule.promise.then(()=>{ye(e,[]),pr(e)}),T(e.ret);let n=Er(e.adapter,e.host,e,e.scope,e.root,e.ret,e.index,r,t);if(g(e.ret,U))return;ar(e.ctx,n);let i=g(e.ret,F),o,l=He.get(e);if(l){He.delete(e),d(e.ret,F);let s=e.adapter.read(ie(n));for(let f of l){let h=f(s);P(h)&&(o=o||[]).push(h)}if(o&&!g(e.ret,$)){let f=Promise.all(o).then(()=>{d(e.ret,F,i),pr(e),e.ret.fallback&&O(e.adapter,e.host,e.parent,e.root,e.ret.fallback,!1),e.ret.fallback=void 0}),h,c=je([f,new Promise(a=>h=a)]).finally(()=>{e.schedule=void 0});e.schedule={promise:c,onAbort:h},r.push(c)}else d(e.ret,F,i)}else d(e.ret,F,i);return g(e.ret,F)||(g(e.ret,_e)||pr(e),e.ret.fallback&&O(e.adapter,e.host,e.parent,e.root,e.ret.fallback,!1),e.ret.fallback=void 0,d(e.ret,_e,!1)),d(e.ret,$),T(e.ret,!0)}function Dn(e,r){let t=[r];for(;t.length>0;){let n=t.pop();if(n===e)return!0;let i=n!==r&&(typeof n.el.tag=="string"&&n.el.tag!==Z||n.el.tag===R);if(n.children&&!i){let o=ne(n.children);for(let l of o)l&&t.push(l)}n.fallback&&!g(n,oe)&&t.push(n.fallback)}return!1}function pr(e){let r=V(e.ret,e.index);ar(e.ctx,r,l=>l[I].host===e.host);let t=e.host,n=e.ret;if(!Dn(n,t)||!g(t,$))return;let i=qe(t.el.props),o=V(t,0);e.adapter.arrange({tag:t.el.tag,tagName:x(t.el.tag),node:t.value,props:i,oldProps:i,children:o,root:e.root}),dt(e.adapter,e.root,e)}async function On(e,r){if(g(e.ret,U))return;let t,n=Ve.get(e);if(n){let o=e.adapter.read(T(e.ret));Ve.delete(e);for(let l of n){let s=l(o);P(s)&&(t=t||[]).push(s)}}let i=!1;if(!r&&t&&V(e.ret).length>0){i=!0;let o=e.index,l=e.host.lingerers||(e.host.lingerers=[]),s=l[o];s==null&&(s=new Set,l[o]=s),s.add(e.ret),await Promise.all(t),s.delete(e.ret),s.size===0&&(l[o]=void 0),l.some(Boolean)||(e.host.lingerers=void 0)}if(!g(e.ret,U)&&(d(e.ret,U),e.schedule&&(e.schedule.onAbort(),e.schedule=void 0),ur(e.ctx),Fe(e.adapter,e.host,e,e.root,e.ret,r),i&&e.root!=null&&e.adapter.finalize(e.root),e.iterator)){if(e.pull){Ce(e);return}e.inflight&&await e.inflight[1];let o;if(g(e.ret,Ie))try{d(e.ret,S);let l=e.adapter.read(T(e.ret)),s=e.iterator.next(l);if(P(s)){if(!g(e.ret,de))throw new Error("Mixed generator component");o=await s}else{if(!g(e.ret,ce))throw new Error("Mixed generator component");o=s}}catch(l){throw d(e.ret,C),l}finally{d(e.ret,S,!1)}if((!o||!o.done)&&e.iterator&&typeof e.iterator.return=="function")try{d(e.ret,S);let l=e.iterator.return();if(P(l)){if(!g(e.ret,de))throw new Error("Mixed generator component");o=await l}else{if(!g(e.ret,ce))throw new Error("Mixed generator component");o=l}}catch(l){throw d(e.ret,C),l}finally{d(e.ret,S,!1)}}}function yr(e,r){if(!e.iterator)throw r;if(e.pull)return e.pull.onChildError(r),e.pull.diff;if(!e.iterator.throw)throw r;Ce(e);let t;try{d(e.ret,S),t=e.iterator.throw(r)}catch(n){throw d(e.ret,C),n}finally{d(e.ret,S,!1)}return P(t)?t.then(n=>(n.done&&(d(e.ret,ce,!1),d(e.ret,de,!1),e.iterator=void 0),ue(e,n.value,!n.done)),n=>{throw d(e.ret,C),n}):(t.done&&(d(e.ret,ce,!1),d(e.ret,de,!1),e.iterator=void 0),ue(e,t.value,!t.done))}function Ue(e,r,t){let n=e.parent;if(!n)throw r;let i;try{i=yr(n,r)}catch(o){return Ue(n,o,t)}if(P(i))return i.then(()=>{ye(n,t)},o=>Ue(n,o,t));ye(n,t)}var wt=new Map;function Et(e,...r){let t=JSON.stringify(e.raw),n=wt.get(t);n==null&&(n=jn(e.raw),wt.set(t,n));let{element:i,targets:o}=n;for(let l=0;l<r.length;l++){let s=r[l],f=o[l];if(f){if(f.type==="error")throw new SyntaxError(f.message.replace("${}",Ar(s)));f.value=s}}return bt(i)}var Yn=Et,Te=/((?:\r|\n|\r\n)\s*)|(<!--[\S\s]*?(?:-->|$))|(<\s*(\/{0,2})\s*([-_$\w]*))/g,br=/\s*(?:(\/?\s*>)|(\.\.\.\s*)|(?:([-_$\w]+)\s*(=)?\s*(?:("(\\"|[\S\s])*?(?:"|$)|'(?:\\'|[\S\s])*?(?:'|$)))?))/g,mt=/>/g,Qe=/[^\\]?'/g,vr=/[^\\]?"/g,kr=/-->/g;function jn(e){let r=Te,t=[],n={type:"element",open:{type:"tag",slash:"",value:""},close:null,props:[],children:[]},i=[],o=!0;for(let l=0;l<e.length;l++){let s=e[l],f=l<e.length-1,h=null;for(let c=0,a=c;c<s.length;c=a){r.lastIndex=c;let u=r.exec(s);switch(a=u?u.index+u[0].length:s.length,r){case Te:{if(u){let[,w,m,v,y,b]=u;if(c<u.index){let k=s.slice(c,u.index);o&&(k=k.replace(/^\s*/,"")),w&&(s[Math.max(0,u.index-1)]==="\\"?k=k.slice(0,-1):k=k.replace(/\s*$/,"")),k&&n.children.push({type:"value",value:k})}if(o=!!w,m)a===s.length&&(r=kr);else if(v)if(y)if(n.close={type:"tag",slash:y,value:b},t.length)a===s.length&&(h=n.close),n=t.pop(),r=mt;else{if(a!==s.length)throw new SyntaxError(`Unmatched closing tag "${b}"`);h={type:"error",message:"Unmatched closing tag ${}",value:null}}else{let k={type:"element",open:{type:"tag",slash:"",value:b},close:null,props:[],children:[]};n.children.push(k),t.push(n),n=k,r=br,a===s.length&&(h=n.open)}}else if(c<s.length){let w=s.slice(c);f||(w=w.replace(/\s*$/,"")),w&&n.children.push({type:"value",value:w})}break}case br:{if(u){let[,w,m,v,y,b]=u;if(c<u.index)throw new SyntaxError(`Unexpected text \`${s.slice(c,u.index).trim()}\``);if(w)w[0]==="/"&&(n=t.pop()),r=Te;else if(m){let k={type:"value",value:null};if(n.props.push(k),h=k,!(f&&a===s.length))throw new SyntaxError('Expression expected after "..."')}else if(v){let k;if(b==null)if(!y)k={type:"value",value:!0};else{if(a<s.length)throw new SyntaxError(`Unexpected text \`${s.slice(a,a+20)}\``);if(k={type:"value",value:null},h=k,!(f&&a===s.length))throw new SyntaxError(`Expression expected for prop "${v}"`)}else{let A=b[0];k={type:"propString",parts:[]},k.parts.push(b),a===s.length&&(r=A==="'"?Qe:vr)}let E={type:"prop",name:v,value:k};n.props.push(E)}}else if(!f)throw c===s.length?new SyntaxError("Expected props but reached end of document"):new SyntaxError(`Unexpected text \`${s.slice(c,c+20).trim()}\``);break}case mt:{if(u){if(c<u.index)throw new SyntaxError(`Unexpected text \`${s.slice(c,u.index).trim()}\``);r=Te}else if(!f)throw new SyntaxError(`Unexpected text \`${s.slice(c,c+20).trim()}\``);break}case Qe:case vr:{let w=s.slice(c,a);if(n.props[n.props.length-1].value.parts.push(w),u)r=br;else if(!f)throw new SyntaxError(`Missing \`${r===Qe?"'":'"'}\``);break}case kr:{if(u)r=Te;else if(!f)throw new SyntaxError("Expected `-->` but reached end of template");break}}}if(f){if(h){if(i.push(h),h.type==="error")break;continue}switch(r){case Te:{let c={type:"value",value:null};n.children.push(c),i.push(c);break}case Qe:case vr:{let c=n.props[n.props.length-1],a={type:"value",value:null};c.value.parts.push(a),i.push(a);break}case kr:i.push(null);break;default:throw new SyntaxError("Unexpected expression")}}else if(h)throw new SyntaxError("Expression expected");o=!1}if(t.length){let l=i.indexOf(n.open);if(l===-1)throw new SyntaxError(`Unmatched opening tag "${n.open.value}"`);i[l]={type:"error",message:"Unmatched opening tag ${}",value:null}}return n.children.length===1&&n.children[0].type==="element"&&(n=n.children[0]),{element:n,targets:i}}function bt(e){if(e.close!==null&&e.close.slash!=="//"&&e.open.value!==e.close.value)throw new SyntaxError(`Unmatched closing tag ${Ar(e.close.value)}, expected ${Ar(e.open.value)}`);let r=[];for(let n=0;n<e.children.length;n++){let i=e.children[n];r.push(i.type==="element"?bt(i):i.value)}let t=e.props.length?{}:null;for(let n=0;n<e.props.length;n++){let i=e.props[n];if(i.type==="prop"){let o;if(i.value.type==="value")o=i.value.value;else{let l="";for(let s=0;s<i.value.parts.length;s++){let f=i.value.parts[s];typeof f=="string"?l+=f:typeof f.value!="boolean"&&f.value!=null&&(l+=typeof f.value=="string"?f.value:String(f.value))}o=l.slice(1,-1).replace(/\\x[0-9a-f]{2}|\\u[0-9a-f]{4}|\\u\{[0-9a-f]+\}|\\./gi,s=>{switch(s[1]){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"x":return String.fromCharCode(parseInt(s.slice(2),16));case"u":return s[2]==="{"?String.fromCodePoint(parseInt(s.slice(3,-1),16)):String.fromCharCode(parseInt(s.slice(2),16));case"0":return"\0";default:return s.slice(1)}})}t[i.name]=o}else t={...t,...i.value}}return pe(e.open.value,t,...r)}function Ar(e){return typeof e=="function"?e.name+"()":typeof e=="string"?`"${e}"`:JSON.stringify(e)}function Xe(e){return/^[A-Z]/.test(e)?`-${e.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`).slice(1)}`:e.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}var Fn=new Set(["animation-iteration-count","aspect-ratio","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom"]);function Ze(e,r){return typeof r=="number"?Fn.has(e)?String(r):`${r}px`:String(r)}var er="http://www.w3.org/2000/svg",Tr="http://www.w3.org/1998/Math/MathML";function rr(e){return e&&e.ownerDocument?e.ownerDocument:e&&e.nodeType===Node.DOCUMENT_NODE?e:document}function Wn(e,r){let t=e;do if(Object.prototype.hasOwnProperty.call(t,r))break;while(t=Object.getPrototypeOf(t));if(t===null)return!1;let n=Object.getOwnPropertyDescriptor(t,r);return n!=null&&(n.writable===!0||n.set!==void 0)}function N(e,r,t,n,i,o){let l=e,s=o||e;if(!r||!r.has(l))if(t===null||t===!1)console.warn(`Expected "${s}" to be missing but found ${String(n)} while hydrating:`,i);else if(t===!0||t==="")console.warn(`Expected "${s}" to be ${t===!0?"present":'""'} but found ${String(n)} while hydrating:`,i);else{let f=i.ownerDocument.defaultView;if(f&&f.location){let h=f.location.origin;if(new URL(t,h).href===new URL(n,h).href)return}console.warn(`Expected "${s}" to be "${String(t)}" but found ${String(n)} while hydrating:`,i)}}var vt={clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",pointerEvents:"pointer-events",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",vectorEffect:"vector-effect",wordSpacing:"word-spacing",writingMode:"writing-mode",alignmentBaseline:"alignment-baseline",baselineShift:"baseline-shift",enableBackground:"enable-background",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"},zn={scope({scope:e,tag:r,props:t}){switch(r){case R:e=void 0;break;case"svg":e=er;break;case"math":e=Tr;break}return t.xmlns||e},create({tag:e,tagName:r,scope:t,root:n}){if(typeof e!="string")throw new Error(`Unknown tag: ${r}`);e.toLowerCase()==="svg"?t=er:e.toLowerCase()==="math"&&(t=Tr);let i=rr(n);return t?i.createElementNS(t,e):i.createElement(e)},adopt({tag:e,tagName:r,node:t,root:n}){if(typeof e!="string"&&e!==R)throw new Error(`Unknown tag: ${r}`);let i=rr(n);if((t===i.body||t===i.head||t===i.documentElement||t===i)&&console.warn(`Hydrating ${t.nodeName.toLowerCase()} is discouraged as it is destructive and may remove unknown nodes.`),t==null||typeof e=="string"&&(t.nodeType!==Node.ELEMENT_NODE||e.toLowerCase()!==t.tagName.toLowerCase())){console.warn(`Expected <${r}> while hydrating but found: `,t);return}return Array.from(t.childNodes)},patch({tagName:e,node:r,props:t,oldProps:n,scope:i,copyProps:o,quietProps:l,isHydrating:s}){if(r.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Cannot patch node: ${String(r)}`);t.class&&t.className&&console.error(`Both "class" and "className" set in props for <${e}>. Use one or the other.`);let f=r,h=i===er,c=i===Tr;for(let a in{...n,...t}){let u=t[a],w=n?n[a]:void 0;{if(o!=null&&o.has(a))continue;let m=a.indexOf(":");if(m!==-1){let[v,y]=[a.slice(0,m),a.slice(m+1)];switch(v){case"prop":r[y]=u;continue;case"attr":u==null||u===!1?(s&&f.hasAttribute(y)&&N(a,l,u,f.getAttribute(y),f),f.removeAttribute(y)):u===!0?(s&&!f.hasAttribute(y)&&N(a,l,u,null,f),f.setAttribute(y,"")):typeof u!="string"&&(u=String(u)),s&&f.getAttribute(y)!==u&&N(a,l,u,f.getAttribute(y),f),f.setAttribute(y,String(u));continue}}}switch(a){case"style":{let m=f.style;if(u==null||u===!1)s&&m.cssText!==""&&N(a,l,u,m.cssText,f),f.removeAttribute("style");else if(u===!0)s&&m.cssText!==""&&N(a,l,"",m.cssText,f),f.setAttribute("style","");else if(typeof u=="string")m.cssText!==u&&(m.cssText=u);else{typeof w=="string"&&(m.cssText="");for(let v in{...w,...u}){let y=Xe(v),b=u&&u[v];if(b==null)s&&m.getPropertyValue(y)!==""&&N(a,l,null,m.getPropertyValue(y),f,`style.${v}`),m.removeProperty(y);else{let k=Ze(y,b);m.getPropertyValue(y)!==k&&m.setProperty(y,k)}}}break}case"class":case"className":if(u===!0)s&&f.getAttribute("class")!==""&&N(a,l,"",f.getAttribute("class"),f),f.setAttribute("class","");else if(u==null)s&&f.hasAttribute("class")&&N(a,l,u,f.getAttribute("class"),f),f.removeAttribute("class");else if(typeof u=="object"){typeof w=="string"&&f.setAttribute("class","");let m=!1,v=s?new Set(Array.from(f.classList)):void 0,y=s?f.getAttribute("class"):void 0,b={...w,...u};for(let k in b)if(!(u&&u[k])){let E=k.split(/\s+/).filter(Boolean);f.classList.remove(...E)}for(let k in b)if(u&&u[k]){let E=k.split(/\s+/).filter(Boolean);f.classList.add(...E);for(let A of E)v&&v.has(A)?v.delete(A):s&&(m=!0)}(m||v&&v.size>0)&&N(a,l,Object.keys(u).filter(k=>u[k]).join(" "),y||"",f)}else!h&&!c?f.className!==u&&(s&&N(a,l,u,f.className,f),f.className=u):f.getAttribute("class")!==u&&(s&&N(a,l,u,f.getAttribute("class"),f),f.setAttribute("class",u));break;case"innerHTML":u!==w&&(s&&N(a,l,u,f.innerHTML,f),f.innerHTML=u);break;case"dangerouslySetInnerHTML":{let m=u&&typeof u=="object"&&"__html"in u?u.__html:u,v=w&&typeof w=="object"&&"__html"in w?w.__html:w;m!==v&&(f.innerHTML=m);break}case"htmlFor":u==null||u===!1?f.removeAttribute("for"):f.setAttribute("for",String(u===!0?"":u));break;default:{if(a[0]==="o"&&a[1]==="n"&&a[2]===a[2].toUpperCase()&&typeof u=="function"&&(a=a.toLowerCase()),h&&a in vt&&(a=vt[a]),a in f&&!(typeof u=="string"&&typeof f[a]=="boolean")&&Wn(f,a)){let m=f[a],v=u;if((a==="src"||a==="href")&&typeof u=="string"&&typeof m=="string")try{v=new URL(u,f.baseURI).href}catch{}(v!==m||w===void 0)&&(s&&typeof f[a]=="string"&&f[a]!==u&&N(a,l,u,f[a],f),f[a]=u);continue}if(u===!0)u="";else if(u==null||u===!1){s&&f.hasAttribute(a)&&N(a,l,u,f.getAttribute(a),f),f.removeAttribute(a);continue}else typeof u!="string"&&(u=String(u));f.getAttribute(a)!==u&&(s&&N(a,l,u,f.getAttribute(a),f),f.setAttribute(a,u))}}}},arrange({tag:e,node:r,props:t,children:n}){if(e===R&&(r==null||typeof r.nodeType!="number"))throw new TypeError(`<Portal> root is not a node. Received: ${String(r)}`);if(!("innerHTML"in t)&&!("dangerouslySetInnerHTML"in t)){let i=r.firstChild;for(let o=0;o<n.length;o++){let l=n[o];i===l?i=i.nextSibling:(r.insertBefore(l,i),e!==R&&i&&o+1<n.length&&i!==n[o+1]&&(i=i.nextSibling))}}},remove({node:e,parentNode:r,isNested:t}){!t&&e.parentNode===r&&r.removeChild(e)},text({value:e,oldNode:r,hydrationNodes:t,root:n}){let i=rr(n);if(t!=null){let o=t.shift();if(!o||o.nodeType!==Node.TEXT_NODE)console.warn(`Expected "${e}" while hydrating but found:`,o);else{let l=o.data;if(l.length>e.length){if(l.startsWith(e))return o.data=e,t.unshift(i.createTextNode(l.slice(e.length))),o}else if(l===e)return o;console.warn(`Expected "${e}" while hydrating but found:`,l),r=o}}return r!=null?(r.data!==e&&(r.data=e),r):i.createTextNode(e)},raw({value:e,scope:r,hydrationNodes:t,root:n}){let i;if(typeof e=="string"){let o=rr(n),l=r==null?o.createElement("div"):r===er?o.createElementNS(r,"svg"):o.createElementNS(r,"math");l.innerHTML=e,i=Array.from(l.childNodes)}else i=e==null?[]:Array.isArray(e)?[...e]:[e];if(t!=null)for(let o=0;o<i.length;o++){let l=i[o],s=t.shift();s&&typeof s=="object"&&typeof s.nodeType=="number"&&l.isEqualNode(s)?i[o]=s:console.warn(`Expected <Raw value="${String(e)}"> while hydrating but found:`,s)}return i.length===0?void 0:i.length===1?i[0]:i}},tr=class extends ge{constructor(){super(zn)}render(r,t,n){return kt(t),super.render(r,t,n)}hydrate(r,t,n){return kt(t),super.hydrate(r,t,n)}};function kt(e){if(e==null||typeof e=="object"&&typeof e.nodeType!="number")throw new TypeError(`Render root is not a node. Received: ${String(e)}`);if(e.nodeType!==Node.ELEMENT_NODE)throw new TypeError(`Render root must be an element node. Received: ${String(e)}`)}var At=new tr;var Gn=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);function W(e){return e.replace(/[&<>"']/g,r=>{switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#039;";default:return""}})}function Hn(e){let r=[];for(let[t,n]of Object.entries(e))if(n!=null){let i=Xe(t),o=Ze(i,n);r.push(`${i}:${o};`)}return r.join("")}function Vn(e){let r=[];for(let[t,n]of Object.entries(e))if(!(t==="innerHTML"||t==="dangerouslySetInnerHTML"||t.startsWith("prop:")))if(t==="htmlFor"){if("for"in e||typeof n!="string")continue;r.push(`for="${W(n)}"`)}else if(t==="style")typeof n=="string"?r.push(`style="${W(n)}"`):typeof n=="object"&&n!==null&&r.push(`style="${W(Hn(n))}"`);else if(t==="className"){if("class"in e||typeof n!="string")continue;r.push(`class="${W(n)}"`)}else if(t==="class"){if(typeof n=="string")r.push(`class="${W(n)}"`);else if(typeof n=="object"&&n!==null){let i=Object.keys(n).filter(o=>n[o]).join(" ");i&&r.push(`class="${W(i)}"`)}}else t.startsWith("attr:")&&(t=t.slice(5)),typeof n=="string"?r.push(`${W(t)}="${W(n)}"`):typeof n=="number"?r.push(`${W(t)}="${n}"`):n===!0&&r.push(`${W(t)}`);return r.join(" ")}function Tt(e){let r="";for(let t=0;t<e.length;t++){let n=e[t];r+=typeof n=="string"?n:n.value}return r}var Kn={create(){return{value:""}},text({value:e}){return{value:W(e)}},read(e){return Array.isArray(e)?Tt(e):typeof e>"u"?"":typeof e=="string"?e:e.value||""},arrange({tag:e,tagName:r,node:t,props:n,children:i}){var f;if(e===R)return;if(typeof e!="string")throw new Error(`Unknown tag: ${r}`);let o=Vn(n),l=`<${e}${o.length?" ":""}${o}>`,s;if(Gn.has(e))s=l;else{let h=`</${e}>`,c="innerHTML"in n?n.innerHTML:"dangerouslySetInnerHTML"in n?((f=n.dangerouslySetInnerHTML)==null?void 0:f.__html)??"":Tt(i);s=`${l}${c}${h}`}t.value=s}},nr=class extends ge{constructor(){super(Kn)}},qn=new nr;export{Ke as Context,wr as Copy,tr as DOMRenderer,ke as Element,Z as Fragment,nr as HTMLRenderer,R as Portal,We as Raw,ge as Renderer,ve as Text,at as cloneElement,pe as createElement,At as domRenderer,Yn as html,qn as htmlRenderer,mr as isElement,Et as jsx,At as renderer};
/*! Bundled license information:

@esbuild-plugins/node-globals-polyfill/Buffer.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)
*/
